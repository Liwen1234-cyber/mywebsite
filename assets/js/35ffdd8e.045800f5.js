"use strict";(self.webpackChunkmybase=self.webpackChunkmybase||[]).push([[27434],{86778:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>a,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"\u5b66\u4e60/\u540e\u7aef_\u516b\u80a1/JVM","title":"JVM","description":"\u77e5\u8bc6\u70b9\u6c47\u603b","source":"@site/docs/\u5b66\u4e60/\u540e\u7aef_\u516b\u80a1/JVM.md","sourceDirName":"\u5b66\u4e60/\u540e\u7aef_\u516b\u80a1","slug":"/\u5b66\u4e60/\u540e\u7aef_\u516b\u80a1/JVM","permalink":"/\u5b66\u4e60/\u540e\u7aef_\u516b\u80a1/JVM","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var s=l(74848),r=l(28453);const a={},d="JVM",c={},h=[{value:"\u77e5\u8bc6\u70b9\u6c47\u603b",id:"\u77e5\u8bc6\u70b9\u6c47\u603b",level:2},{value:"\u4ec0\u4e48\u662fJava\u865a\u62df\u673a\uff1f\u4e3a\u4ec0\u4e48Java\u88ab\u79f0\u4f5c\u662f\u201c\u5e73\u53f0\u65e0\u5173\u7684\u7f16\u7a0b\u8bed\u8a00\u201d\uff1f",id:"\u4ec0\u4e48\u662fjava\u865a\u62df\u673a\u4e3a\u4ec0\u4e48java\u88ab\u79f0\u4f5c\u662f\u5e73\u53f0\u65e0\u5173\u7684\u7f16\u7a0b\u8bed\u8a00",level:2},{value:"JMM(Java Memory Model)",id:"jmmjava-memory-model",level:2},{value:"\u7ebf\u7a0b\u79c1\u6709\u533a\u548c\u7ebf\u7a0b\u5171\u4eab\u533a",id:"\u7ebf\u7a0b\u79c1\u6709\u533a\u548c\u7ebf\u7a0b\u5171\u4eab\u533a",level:3},{value:"\u6808\u548c\u5806\u7684\u533a\u522b",id:"\u6808\u548c\u5806\u7684\u533a\u522b",level:3},{value:"\u8bf4\u8bf4\u5bf9\u8c61\u5206\u914d\u89c4\u5219",id:"\u8bf4\u8bf4\u5bf9\u8c61\u5206\u914d\u89c4\u5219",level:3},{value:"## \u8bf4\u4e00\u4e0bJVM \u7684\u4e3b\u8981\u7ec4\u6210\u90e8\u5206\u53ca\u5176\u4f5c\u7528\uff1f",id:"-\u8bf4\u4e00\u4e0bjvm-\u7684\u4e3b\u8981\u7ec4\u6210\u90e8\u5206\u53ca\u5176\u4f5c\u7528",level:3},{value:"\u7c7b\u52a0\u8f7d\u4e0e\u5378\u8f7d",id:"\u7c7b\u52a0\u8f7d\u4e0e\u5378\u8f7d",level:2},{value:"\u4ec0\u4e48\u662f\u7c7b\u52a0\u8f7d\u5668\uff1f",id:"\u4ec0\u4e48\u662f\u7c7b\u52a0\u8f7d\u5668",level:3},{value:"\u52a0\u8f7d\u673a\u5236-\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b",id:"\u52a0\u8f7d\u673a\u5236-\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b",level:3},{value:"\u63cf\u8ff0\u4e00\u4e0bJVM\u52a0\u8f7dclass\u6587\u4ef6\u7684\u539f\u7406\u673a\u5236\uff1f",id:"\u63cf\u8ff0\u4e00\u4e0bjvm\u52a0\u8f7dclass\u6587\u4ef6\u7684\u539f\u7406\u673a\u5236",level:3},{value:"\u8bf4\u8bf4Java\u5bf9\u8c61\u521b\u5efa\u8fc7\u7a0b",id:"\u8bf4\u8bf4java\u5bf9\u8c61\u521b\u5efa\u8fc7\u7a0b",level:3},{value:"\u4ec0\u4e48\u662f\u6307\u9488\u78b0\u649e\uff1f",id:"\u4ec0\u4e48\u662f\u6307\u9488\u78b0\u649e",level:3},{value:"\u4ec0\u4e48\u662f\u7a7a\u95f2\u5217\u8868\uff1f",id:"\u4ec0\u4e48\u662f\u7a7a\u95f2\u5217\u8868",level:3},{value:"\u4ec0\u4e48\u662fTLAB\uff1f",id:"\u4ec0\u4e48\u662ftlab",level:3},{value:"\u77e5\u9053\u7c7b\u7684\u751f\u547d\u5468\u671f\u5417\uff1f",id:"\u77e5\u9053\u7c7b\u7684\u751f\u547d\u5468\u671f\u5417",level:3},{value:"\u7b80\u8ff0Java\u7684\u5bf9\u8c61\u7ed3\u6784",id:"\u7b80\u8ff0java\u7684\u5bf9\u8c61\u7ed3\u6784",level:3},{value:"\u4ec0\u4e48\u662f tomcat \u7c7b\u52a0\u8f7d\u673a\u5236\uff1f",id:"\u4ec0\u4e48\u662f-tomcat-\u7c7b\u52a0\u8f7d\u673a\u5236",level:3},{value:"\u5783\u573e\u56de\u6536",id:"\u5783\u573e\u56de\u6536",level:2},{value:"\u5206\u4ee3\u56de\u6536",id:"\u5206\u4ee3\u56de\u6536",level:3},{value:"\u4ec0\u4e48\u65f6\u5019\u4f1a\u89e6\u53d1FullGC",id:"\u4ec0\u4e48\u65f6\u5019\u4f1a\u89e6\u53d1fullgc",level:3},{value:"Minor GC\u4e0eFull GC\u5206\u522b\u5728\u4ec0\u4e48\u65f6\u5019\u53d1\u751f\uff1f",id:"minor-gc\u4e0efull-gc\u5206\u522b\u5728\u4ec0\u4e48\u65f6\u5019\u53d1\u751f",level:3},{value:"\u5783\u573e\u56de\u6536\u7b97\u6cd5",id:"\u5783\u573e\u56de\u6536\u7b97\u6cd5",level:3},{value:"\u5982\u4f55\u5224\u65ad\u5bf9\u8c61\u53ef\u4ee5\u88ab\u56de\u6536\uff1f",id:"\u5982\u4f55\u5224\u65ad\u5bf9\u8c61\u53ef\u4ee5\u88ab\u56de\u6536",level:3},{value:"JVM\u7684\u6c38\u4e45\u4ee3\u4e2d\u4f1a\u53d1\u751f\u5783\u573e\u56de\u6536\u4e48\uff1f",id:"jvm\u7684\u6c38\u4e45\u4ee3\u4e2d\u4f1a\u53d1\u751f\u5783\u573e\u56de\u6536\u4e48",level:3},{value:"\u4f60\u77e5\u9053\u54ea\u4e9b\u5783\u573e\u6536\u96c6\u7b97\u6cd5",id:"\u4f60\u77e5\u9053\u54ea\u4e9b\u5783\u573e\u6536\u96c6\u7b97\u6cd5",level:3},{value:"\u8bf4\u4e00\u4e0b JVM \u6709\u54ea\u4e9b\u5783\u573e\u56de\u6536\u5668\uff1f",id:"\u8bf4\u4e00\u4e0b-jvm-\u6709\u54ea\u4e9b\u5783\u573e\u56de\u6536\u5668",level:3},{value:"\u5982\u4f55\u9009\u62e9\u5783\u573e\u6536\u96c6\u5668\uff1f",id:"\u5982\u4f55\u9009\u62e9\u5783\u573e\u6536\u96c6\u5668",level:3},{value:"\u8c03\u4f18",id:"\u8c03\u4f18",level:2},{value:"\u8c03\u4f18\u547d\u4ee4\u6709\u54ea\u4e9b\uff1f",id:"\u8c03\u4f18\u547d\u4ee4\u6709\u54ea\u4e9b",level:3},{value:"\u5e38\u89c1\u8c03\u4f18\u5de5\u5177\u6709\u54ea\u4e9b",id:"\u5e38\u89c1\u8c03\u4f18\u5de5\u5177\u6709\u54ea\u4e9b",level:3},{value:"\u4f60\u77e5\u9053\u54ea\u4e9bJVM\u6027\u80fd\u8c03\u4f18\u53c2\u6570\uff1f\uff08\u7b80\u5355\u7248\u56de\u7b54\uff09",id:"\u4f60\u77e5\u9053\u54ea\u4e9bjvm\u6027\u80fd\u8c03\u4f18\u53c2\u6570\u7b80\u5355\u7248\u56de\u7b54",level:3},{value:"\u5bf9\u8c61\u4e00\u5b9a\u5206\u914d\u5728\u5806\u4e2d\u5417\uff1f\u6709\u6ca1\u6709\u4e86\u89e3\u9003\u9038\u5206\u6790\u6280\u672f\uff1f",id:"\u5bf9\u8c61\u4e00\u5b9a\u5206\u914d\u5728\u5806\u4e2d\u5417\u6709\u6ca1\u6709\u4e86\u89e3\u9003\u9038\u5206\u6790\u6280\u672f",level:2},{value:"\u865a\u62df\u673a\u4e3a\u4ec0\u4e48\u4f7f\u7528\u5143\u7a7a\u95f4\u66ff\u6362\u4e86\u6c38\u4e45\u4ee3\uff1f",id:"\u865a\u62df\u673a\u4e3a\u4ec0\u4e48\u4f7f\u7528\u5143\u7a7a\u95f4\u66ff\u6362\u4e86\u6c38\u4e45\u4ee3",level:2},{value:"\u4ec0\u4e48\u662f Stop The World ?  \u4ec0\u4e48\u662fOopMap\uff1f\u4ec0\u4e48\u662f\u5b89\u5168\u70b9\uff1f",id:"\u4ec0\u4e48\u662f-stop-the-world---\u4ec0\u4e48\u662foopmap\u4ec0\u4e48\u662f\u5b89\u5168\u70b9",level:2}];function j(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"jvm",children:"JVM"})}),"\n",(0,s.jsx)(e.h2,{id:"\u77e5\u8bc6\u70b9\u6c47\u603b",children:"\u77e5\u8bc6\u70b9\u6c47\u603b"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:l(97744).A+"",width:"720",height:"573"})}),"\n",(0,s.jsx)(e.h2,{id:"\u4ec0\u4e48\u662fjava\u865a\u62df\u673a\u4e3a\u4ec0\u4e48java\u88ab\u79f0\u4f5c\u662f\u5e73\u53f0\u65e0\u5173\u7684\u7f16\u7a0b\u8bed\u8a00",children:"\u4ec0\u4e48\u662fJava\u865a\u62df\u673a\uff1f\u4e3a\u4ec0\u4e48Java\u88ab\u79f0\u4f5c\u662f\u201c\u5e73\u53f0\u65e0\u5173\u7684\u7f16\u7a0b\u8bed\u8a00\u201d\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"Java\u865a\u62df\u673a\u662f\u4e00\u4e2a\u53ef\u4ee5\u6267\u884cJava\u5b57\u8282\u7801\u7684\u865a\u62df\u673a\u8fdb\u7a0b\u3002Java\u6e90\u6587\u4ef6\u88ab\u7f16\u8bd1\u6210\u80fd\u88abJava\u865a\u62df\u673a\u6267\u884c\u7684\u5b57\u8282\u7801\u6587\u4ef6\u3002Java\u88ab\u8bbe\u8ba1\u6210\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u8fd0\u884c\u5728\u4efb\u610f\u4e00\u4e2a\u5b89\u88c5\u4e86Java\u865a\u62df\u673a\u7684\u5e73\u53f0\u4e0a\uff0c\u800c\u4e0d\u9700\u8981\u7a0b\u5e8f\u5458\u4e3a\u6bcf\u4e00\u4e2a\u5e73\u53f0\u5355\u72ec\u91cd\u5199\u6216\u8005\u662f\u91cd\u65b0\u7f16\u8bd1,Java\u865a\u62df\u673a\u77e5\u9053\u5e95\u5c42\u786c\u4ef6\u5e73\u53f0\u7684\u6307\u4ee4\u957f\u5ea6\u548c\u5176\u4ed6\u7279\u6027\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"jmmjava-memory-model",children:"JMM(Java Memory Model)"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\u4e3a\u4ec0\u4e48\u8981\u6709\u5185\u5b58\u6a21\u578b\uff1f\r\n\u5728\u4f20\u7edf\u8ba1\u7b97\u673a\u786c\u4ef6\u5185\u5b58\u67b6\u6784\u4e2d\u7531\u4e8e CPU \u548c\u4e3b\u5185\u5b58\u95f4\u5b58\u5728\u6570\u91cf\u7ea7\u7684\u901f\u7387\u5dee\uff0c\u4e8e\u662f\u5c31\u5f15\u5165\u4e86\u591a\u7ea7\u9ad8\u901f\u7f13\u5b58\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898,\u4f46\u662f\u591a\u7ea7\u7f13\u5b58\u7684\u5f15\u5165\u53c8\u5e26\u6765\u4e86\u7f13\u5b58\u4e00\u81f4\u6027\u7684\u95ee\u9898,\u4e3a\u4e86\u89e3\u51b3\u7f13\u5b58\u4e00\u81f4\u6027\u95ee\u9898,\u5c31\u62bd\u8c61\u51fa\u4e86 JMM."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"JMM \u540c\u6b65\u89c4\u5b9a\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7ebf\u7a0b\u89e3\u9501\u524d\uff0c\u5fc5\u987b\u628a\u5171\u4eab\u53d8\u91cf\u7684\u503c\u5237\u65b0\u56de\u4e3b\u5185\u5b58"}),"\n",(0,s.jsx)(e.li,{children:"\u7ebf\u7a0b\u52a0\u9501\u524d\uff0c\u5fc5\u987b\u8bfb\u53d6\u4e3b\u5185\u5b58\u7684\u6700\u65b0\u503c\u5230\u81ea\u5df1\u7684\u5de5\u4f5c\u5185\u5b58"}),"\n",(0,s.jsx)(e.li,{children:"\u52a0\u9501\u89e3\u9501\u662f\u540c\u4e00\u628a\u9501"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u7531\u4e8e JVM \u8fd0\u884c\u7a0b\u5e8f\u7684\u5b9e\u4f53\u662f",(0,s.jsx)(e.strong,{children:"\u7ebf\u7a0b"}),"\uff0c\u800c\u6bcf\u4e2a\u7ebf\u7a0b\u521b\u5efa\u65f6 JVM \u90fd\u4f1a\u4e3a\u5176\u521b\u5efa\u4e00\u4e2a",(0,s.jsx)(e.strong,{children:"\u5de5\u4f5c\u5185\u5b58"}),"(\u6bcf\u4e2a\u7ebf\u7a0b\u7684\u79c1\u6709\u6570\u636e\u533a\u57df)\uff0c\u800c Java \u5185\u5b58\u6a21\u578b\u4e2d\u89c4\u5b9a\u6240\u6709\u53d8\u91cf\u90fd\u5b58\u50a8\u5728\u4e3b\u5185\u5b58\uff0c\u4e3b\u5185\u5b58\u662f",(0,s.jsx)(e.strong,{children:"\u5171\u4eab\u5185\u5b58\u533a\u57df"}),"\uff0c\u6240\u6709\u7ebf\u7a0b\u90fd\u53ef\u8bbf\u95ee\uff0c\u4f46\u7ebf\u7a0b\u5bf9\u53d8\u91cf\u7684\u64cd\u4f5c\u5fc5\u987b\u5728\u5de5\u4f5c\u5185\u5b58\u4e2d\u8fdb\u884c\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u9996\u5148\u8981\u5c06\u53d8\u91cf\u4ece\u4e3b\u5185\u5b58\u62f7\u8d1d\u5230\u81ea\u5df1\u7684\u5de5\u4f5c\u7a7a\u95f4\uff0c\u7136\u540e\u5bf9\u53d8\u91cf\u8fdb\u884c\u64cd\u4f5c\uff0c\u64cd\u4f5c\u5b8c\u6210\u518d\u5c06\u53d8\u91cf\u5199\u56de\u4e3b\u5185\u5b58\uff0c\u4e0d\u80fd\u76f4\u63a5\u64cd\u4f5c\u4e3b\u5185\u5b58\u4e2d\u7684\u53d8\u91cf\uff0c\u4e0d\u540c\u7684\u7ebf\u7a0b\u65e0\u6cd5\u8bbf\u95ee\u5bf9\u65b9\u7684\u5de5\u4f5c\u5185\u5b58\uff0c\u7ebf\u7a0b\u4e4b\u95f4\u7684\u901a\u8baf\u5fc5\u987b\u901a\u8fc7\u4e3b\u5185\u5b58\u6765\u5b8c\u6210\uff0c\u5176\u7b80\u8981\u8bbf\u95ee\u8fc7\u7a0b\u5982\u4e0b\u56fe:"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:l(2207).A+"",width:"423",height:"377"})}),"\n",(0,s.jsx)(e.p,{children:"\u4e3a\u4e86\u66f4\u7cbe\u51c6\u63a7\u5236\u5de5\u4f5c\u5185\u5b58\u548c\u4e3b\u5185\u5b58\u95f4\u7684\u4ea4\u4e92\uff0cJMM \u8fd8\u5b9a\u4e49\u4e86\u516b\u79cd\u64cd\u4f5c\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-text",children:"lock\uff08\u9501\u5b9a\uff09\uff1a\u4f5c\u7528\u4e8e\u4e3b\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u628a\u4e00\u4e2a\u53d8\u91cf\u6807\u8bc6\u4e3a\u4e00\u6761\u7ebf\u7a0b\u72ec\u5360\u7684\u72b6\u6001\u3002\r\nunclock\uff08\u89e3\u9501\uff09\uff1a\u4f5c\u7528\u4e8e\u4e3b\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u628a\u4e00\u4e2a\u5904\u4e8e\u9501\u5b9a\u7684\u72b6\u6001\u91ca\u653e\u51fa\u6765\u3002\r\nread\uff08\u8bfb\u53d6\uff09\uff1a\u4f5c\u7528\u4e8e\u4e3b\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u628a\u4e00\u4e2a\u53d8\u91cf\u7684\u503c\u4ece\u4e3b\u5185\u5b58\u4f20\u8f93\u5230\u7ebf\u7a0b\u7684\u5de5\u4f5c\u5185\u5b58\u4e2d\r\nload\uff08\u8f7d\u5165\uff09\uff1a\u4f5c\u7528\u4e8e\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u628aread\u64cd\u4f5c\u4ece\u4e3b\u5185\u5b58\u5f97\u5230\u7684\u53d8\u91cf\u503c\u653e\u5165\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\u526f\u672c\u4e2d\u3002\r\nuse\uff08\u4f7f\u7528\uff09\uff1a\u4f5c\u7528\u4e8e\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u628a\u5de5\u4f5c\u5185\u5b58\u4e2d\u4e00\u4e2a\u53d8\u91cf\u7684\u503c\u4f20\u9012\u7ed9\u6267\u884c\u5f15\u64ce\r\nassign\uff08\u8d4b\u503c\uff09\uff1a\u4f5c\u7528\u4e8e\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u628a\u4e00\u4e2a\u4ece\u6267\u884c\u5f15\u64ce\u63a5\u6536\u5230\u7684\u503c\u8d4b\u503c\u7ed9\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\r\nstore\uff08\u5b58\u50a8\uff09\uff1a\u4f5c\u7528\u4e8e\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u628a\u5de5\u4f5c\u5185\u5b58\u4e2d\u7684\u4e00\u4e2a\u53d8\u91cf\u7684\u503c\u4f20\u9012\u5230\u4e3b\u5185\u5b58\uff0c\u4ee5\u4fbfwrite\u64cd\u4f5c\u4f7f\u7528\u3002\r\nwrite\uff08\u5199\u5165\uff09\uff1a\u4f5c\u7528\u4e8e\u4e3b\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u628astore\u64cd\u4f5c\u4ece\u5de5\u4f5c\u5185\u5b58\u4e2d\u5f97\u5230\u7684\u53d8\u91cf\u7684\u503c\u653e\u5165\u4e3b\u5185\u5b58\u7684\u53d8\u91cf\u4e2d\u3002\n"})}),"\n",(0,s.jsxs)(e.p,{children:["JMM \u662f\u5b9a\u4e49\u7a0b\u5e8f\u4e2d\u53d8\u91cf\u7684\u8bbf\u95ee\u89c4\u5219,\u7ebf\u7a0b\u5bf9\u4e8e\u53d8\u91cf\u7684\u64cd\u4f5c\u53ea\u80fd\u5728\u81ea\u5df1\u7684\u5de5\u4f5c\u5185\u5b58\u4e2d\u8fdb\u884c,\u800c\u4e0d\u80fd\u76f4\u63a5\u5bf9\u4e3b\u5185\u5b58\u64cd\u4f5c\u3002\u7531\u4e8e",(0,s.jsx)(e.strong,{children:"\u6307\u4ee4\u91cd\u6392"}),",\u8bfb\u5199\u7684\u987a\u5e8f\u4f1a\u88ab\u6253\u4e71,\u56e0\u6b64 JMM \u9700\u8981\u4fdd\u8bc1\u539f\u5b50\u6027,\u53ef\u89c1\u6027,\u6709\u5e8f\u6027\u3002\u4e3b\u5185\u5b58\u53ef\u4ee5\u8ba4\u4e3a\u5c31\u662f\u7269\u7406\u5185\u5b58\uff0c\u800c\u5de5\u4f5c\u5185\u5b58\u5c31\u662fCPU\u7f13\u5b58\r\n",(0,s.jsx)(e.code,{children:'mermaid     flowchart LR     2["`\u57fa\u672c\u6570\u636e\u7c7b\u578b\u8bfb\u5199,\u9664long\u3001double`"]     3["`synchronized`"]     4["`volatile`"]     5["`happens-before`"]     6(("`\u539f\u5b50\u6027`"))     7(("`\u53ef\u89c1\u6027`"))     8(("`\u6709\u5e8f\u6027`"))     2--\x3e6     3--\x3e6     3--\x3e7     4--\x3e7     4--\x3e8     5--\x3e8     '})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u539f\u5b50\u6027"}),"\uff1aJava\u5185\u5b58\u6a21\u578b\u901a\u8fc7",(0,s.jsx)(e.strong,{children:"\u4e0a\u8ff08\u79cd\u64cd\u4f5c"}),"(\u57fa\u672c\u6570\u636e\u7c7b\u578b\u8bfb\u5199)\u6765\u4fdd\u8bc1\u539f\u5b50\u6027\u64cd\u4f5c\uff0c\u5176\u4e2d lock \u548c unlock \u5bf9\u5e94\u7740 synchronized \u5173\u952e\u5b57\r\n",(0,s.jsx)(e.strong,{children:"\u53ef\u89c1\u6027"}),"\uff1a\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u4fee\u6539\u4e86\u67d0\u4e2a\u53d8\u91cf\u7684\u503c,\u5176\u4ed6\u7ebf\u7a0b\u7acb\u5373\u53ef\u4ee5\u770b\u5230\u8fd9\u4e2a\u4fee\u6539,\u8fd9\u5c31\u662f\u5185\u5b58\u7684\u53ef\u89c1\u6027\u3002\u901a\u8fc7volatile\u3001synchronized\u3001final\u6765\u4fdd\u8bc1\u53ef\u89c1\u6027\u3002\r\n",(0,s.jsx)(e.strong,{children:"\u6709\u5e8f\u6027"}),"\uff1a\u7531\u4e8e\u5904\u7406\u5668\u548c\u7f16\u8bd1\u5668\u7684\u91cd\u6392\u5e8f\u5bfc\u81f4\u7684\u6709\u5e8f\u6027\u95ee\u9898\uff0c\u901a\u8fc7volatile\u548chappens-before\u6765\u4fdd\u8bc1\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"happens-before \u539f\u5219\uff1a"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u7a0b\u5e8f\u6b21\u5e8f\u89c4\u5219\uff1a\u4e00\u4e2a\u7ebf\u7a0b\u5185\uff0c\u6309\u7167\u4ee3\u7801\u987a\u5e8f\u8fd0\u884c"}),"\n",(0,s.jsx)(e.li,{children:"\u9501\u5b9a\u89c4\u5219\uff1a\u4e00\u4e2aunLock\u64cd\u4f5c\u5148\u884c\u53d1\u751f\u4e8e\u540e\u9762\u5bf9\u540c\u4e00\u4e2a\u9501lock\u64cd\u4f5c"}),"\n",(0,s.jsx)(e.li,{children:"volatile \u53d8\u91cf\u89c4\u5219\uff1a\u5bf9\u4e00\u4e2avolatile\u53d8\u91cf\u7684\u5199\u64cd\u4f5c\u5148\u884c\u53d1\u751f\u4e8e\u540e\u9762\u5bf9\u8fd9\u4e2a\u53d8\u91cf\u7684\u8bfb\u64cd\u4f5c"}),"\n",(0,s.jsx)(e.li,{children:"\u4f20\u9012\u89c4\u5219\uff1a\u5982\u679c\u64cd\u4f5cA\u5148\u884c\u53d1\u751f\u4e8e\u64cd\u4f5cB\uff0c\u800c\u64cd\u4f5cB\u53c8\u5148\u884c\u53d1\u751f\u4e8e\u64cd\u4f5cC\uff0c\u5219\u53ef\u4ee5\u5f97\u51fa\u64cd\u4f5cA\u5148\u884c\u53d1\u751f\u4e8e\u64cd\u4f5cC"}),"\n",(0,s.jsx)(e.li,{children:"\u7ebf\u7a0b\u542f\u52a8\u89c4\u5219\uff1aThread\u5bf9\u8c61\u7684start()\u65b9\u6cd5\u5148\u884c\u53d1\u751f\u4e8e\u6b64\u7ebf\u7a0b\u7684\u6bcf\u4e2a\u4e00\u4e2a\u52a8\u4f5c"}),"\n",(0,s.jsx)(e.li,{children:"\u7ebf\u7a0b\u4e2d\u65ad\u89c4\u5219\uff1a\u5bf9\u7ebf\u7a0binterrupt()\u65b9\u6cd5\u7684\u8c03\u7528\u5148\u884c\u53d1\u751f\u4e8e\u88ab\u4e2d\u65ad\u7ebf\u7a0b\u7684\u4ee3\u7801\u68c0\u6d4b\u5230\u4e2d\u65ad\u4e8b\u4ef6\u7684\u53d1\u751f"}),"\n",(0,s.jsx)(e.li,{children:"\u7ebf\u7a0b\u7ec8\u7ed3\u89c4\u5219\uff1a\u7ebf\u7a0b\u4e2d\u6240\u6709\u7684\u64cd\u4f5c\u90fd\u5148\u884c\u53d1\u751f\u4e8e\u7ebf\u7a0b\u7684\u7ec8\u6b62\u68c0\u6d4b\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7Thread.join()\u65b9\u6cd5\u7ed3\u675f\u3001Thread.isAlive()\u7684\u8fd4\u56de\u503c\u624b\u6bb5\u68c0\u6d4b\u5230\u7ebf\u7a0b\u5df2\u7ecf\u7ec8\u6b62\u6267\u884c"}),"\n",(0,s.jsx)(e.li,{children:"\u5bf9\u8c61\u7ec8\u7ed3\u89c4\u5219\uff1a\u4e00\u4e2a\u5bf9\u8c61\u7684\u521d\u59cb\u5316\u5b8c\u6210\u5148\u884c\u53d1\u751f\u4e8e\u4ed6\u7684finalize()\u65b9\u6cd5\u7684\u5f00\u59cb"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u7ebf\u7a0b\u79c1\u6709\u533a\u548c\u7ebf\u7a0b\u5171\u4eab\u533a",children:"\u7ebf\u7a0b\u79c1\u6709\u533a\u548c\u7ebf\u7a0b\u5171\u4eab\u533a"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:l(36351).A+"",width:"746",height:"402"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7ebf\u7a0b\u72ec\u5360:\u6808\u3001\u672c\u5730\u65b9\u6cd5\u6808\u3001\u7a0b\u5e8f\u8ba1\u6570\u5668"}),"\n",(0,s.jsx)(e.li,{children:"\u7ebf\u7a0b\u5171\u4eab:\u5806\u3001\u65b9\u6cd5\u533a"}),"\n"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u6808\uff1a\u53c8\u79f0\u65b9\u6cd5\u6808,\u7ebf\u7a0b\u79c1\u6709\u7684,\u7ebf\u7a0b\u5728\u6267\u884c Java \u65b9\u6cd5\u65f6\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u6808\u5e27,\u7528\u6765\u5b58\u50a8\u5c40\u90e8\u53d8\u91cf\u8868,\u64cd\u4f5c\u6808,\u52a8\u6001\u94fe\u63a5,\u65b9\u6cd5\u51fa\u53e3\u7b49\u4fe1\u606f,\u8c03\u7528\u65b9\u6cd5\u65f6\u6267\u884c\u5165\u6808,\u65b9\u6cd5\u8fd4\u56de\u65f6\u6267\u884c\u51fa\u6808"}),"\n",(0,s.jsx)(e.li,{children:"\u672c\u5730\u65b9\u6cd5\u6808:\u4e0e\u6808\u7c7b\u4f3c,\u4e5f\u662f\u7528\u6765\u4fdd\u5b58\u6267\u884c\u65b9\u6cd5\u7684\u4fe1\u606f,\u6267\u884cJava\u65b9\u6cd5\u662f\u4f7f\u7528\u6808,\u6267\u884cNative\u65b9\u6cd5\u65f6\u4f7f\u7528\u672c\u5730\u65b9\u6cd5\u6808"}),"\n",(0,s.jsx)(e.li,{children:"\u7a0b\u5e8f\u8ba1\u6570\u5668:\u4fdd\u5b58\u7740\u5f53\u524d\u7ebf\u7a0b\u6267\u884c\u7684\u5b57\u8282\u7801\u4f4d\u7f6e,\u6bcf\u4e2a\u7ebf\u7a0b\u5de5\u4f5c\u65f6\u90fd\u6709\u72ec\u7acb\u7684\u8ba1\u6570\u5668,\u53ea\u4e3a\u6267\u884cJava\u65b9\u6cd5\u670d\u52a1,\u6267\u884cNative\u65b9\u6cd5\u65f6,\u7a0b\u5e8f\u8ba1\u6570\u5668\u4e3a\u7a7a"}),"\n",(0,s.jsx)(e.li,{children:"\u5806:JVM\u5185\u5b58\u7ba1\u7406\u6700\u5927\u7684\u4e00\u5757,\u5bf9\u88ab\u7ebf\u7a0b\u5171\u4eab,\u76ee\u7684\u662f\u5b58\u653e\u5bf9\u8c61\u7684\u5b9e\u4f8b,\u51e0\u4e4e\u6240\u6709\u7684\u5bf9\u8c61\u5b9e\u4f8b\u90fd\u4f1a\u653e\u5728\u8fd9\u91cc,\u5f53\u5806\u6ca1\u6709\u53ef\u7528\u7a7a\u95f4\u65f6,\u4f1a\u629b\u51faOOM\u5f02\u5e38\u3002\u6839\u636e\u5bf9\u8c61\u7684\u5b58\u6d3b\u5468\u671f\u4e0d\u540c,JVM\u628a\u5bf9\u8c61\u8fdb\u884c\u5206\u4ee3\u7ba1\u7406,\u7136\u540e\u7531\u5783\u573e\u56de\u6536\u5668\u8fdb\u884c\u5783\u573e\u7684\u56de\u6536\u7ba1\u7406"}),"\n",(0,s.jsx)(e.li,{children:"\u65b9\u6cd5\u533a\uff1a\u53c8\u79f0\u975e\u5806\u533a,\u7528\u4e8e\u5b58\u50a8\u5df2\u88ab\u865a\u62df\u673a\u52a0\u8f7d\u7684\u7c7b\u4fe1\u606f\u3001\u5e38\u91cf\u3001\u9759\u6001\u53d8\u91cf\u3001\u5373\u65f6\u7f16\u8bd1\u5668\u4f18\u5316\u540e\u7684\u4ee3\u7801\u7b49\u6570\u636e\u30021.7\u7684\u6c38\u4e45\u4ee3\u548c1.8\u7684\u5143\u7a7a\u95f4\u90fd\u662f\u65b9\u6cd5\u533a\u7684\u4e00\u79cd\u5b9e\u73b0"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u6808\u548c\u5806\u7684\u533a\u522b",children:"\u6808\u548c\u5806\u7684\u533a\u522b"}),"\n",(0,s.jsx)(e.p,{children:"\u6808\u662f\u8fd0\u884c\u65f6\u5355\u4f4d\uff0c\u4ee3\u8868\u7740\u903b\u8f91\uff0c\u5185\u542b\u57fa\u672c\u6570\u636e\u7c7b\u578b\u548c\u5806\u4e2d\u5bf9\u8c61\u5f15\u7528\uff0c\u6240\u5728\u533a\u57df\u8fde\u7eed\uff0c\u6ca1\u6709\u788e\u7247\uff1b\u5806\u662f\u5b58\u50a8\u5355\u4f4d\uff0c\u4ee3\u8868\u7740\u6570\u636e\uff0c\u53ef\u88ab\u591a\u4e2a\u6808\u5171\u4eab\uff08\u5305\u62ec\u6210\u5458\u4e2d\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3001\u5f15\u7528\u548c\u5f15\u7528\u5bf9\u8c61\uff09\uff0c\u6240\u5728\u533a\u57df\u4e0d\u8fde\u7eed\uff0c\u4f1a\u6709\u788e\u7247\u3002"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5f02\u5e38\u9519\u8bef\u4e0d\u540c:\u6808\u7a7a\u95f4\u4e0d\u8db3\uff1ajava.lang.StackOverFlowError;\u5806\u7a7a\u95f4\u4e0d\u8db3\uff1ajava.lang.OutOfMemoryError"}),"\n",(0,s.jsx)(e.li,{children:"\u7a7a\u95f4\u5927\u5c0f:\u6808\u7684\u7a7a\u95f4\u5927\u5c0f\u8fdc\u8fdc\u5c0f\u4e8e\u5806\u7684"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u8bf4\u8bf4\u5bf9\u8c61\u5206\u914d\u89c4\u5219",children:"\u8bf4\u8bf4\u5bf9\u8c61\u5206\u914d\u89c4\u5219"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5bf9\u8c61\u4f18\u5148\u5206\u914d\u5728Eden\u533a\uff0c\u5982\u679cEden\u533a\u6ca1\u6709\u8db3\u591f\u7684\u7a7a\u95f4\u65f6\uff0c\u865a\u62df\u673a\u6267\u884c\u4e00\u6b21Minor GC"}),"\n",(0,s.jsx)(e.li,{children:"\u5927\u5bf9\u8c61\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3\uff08\u5927\u5bf9\u8c61\u662f\u6307\u9700\u8981\u5927\u91cf\u8fde\u7eed\u5185\u5b58\u7a7a\u95f4\u7684\u5bf9\u8c61\uff09\u3002\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u907f\u514d\u5728Eden\u533a\u548c\u4e24\u4e2aSurvivor\u533a\u4e4b\u95f4\u53d1\u751f\u5927\u91cf\u7684\u5185\u5b58\u62f7\u8d1d\uff08\u65b0\u751f\u4ee3\u91c7\u7528\u590d\u5236\u7b97\u6cd5\u6536\u96c6\u5185\u5b58\uff09\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u957f\u671f\u5b58\u6d3b\u7684\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\u3002\u865a\u62df\u673a\u4e3a\u6bcf\u4e2a\u5bf9\u8c61\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5e74\u9f84\u8ba1\u6570\u5668\uff0c\u5982\u679c\u5bf9\u8c61\u7ecf\u8fc7\u4e861\u6b21Minor GC\u90a3\u4e48\u5bf9\u8c61\u4f1a\u8fdb\u5165Survivor\u533a\uff0c\u4e4b\u540e\u6bcf\u7ecf\u8fc7\u4e00\u6b21Minor GC\u90a3\u4e48\u5bf9\u8c61\u7684\u5e74\u9f84\u52a01\uff0c\u76f4\u5230\u8fbe\u5230\u9600\u503c\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u533a\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u52a8\u6001\u5224\u65ad\u5bf9\u8c61\u7684\u5e74\u9f84\u3002\u5982\u679cSurvivor\u533a\u4e2d\u76f8\u540c\u5e74\u9f84\u7684\u6240\u6709\u5bf9\u8c61\u5927\u5c0f\u7684\u603b\u548c\u5927\u4e8eSurvivor\u7a7a\u95f4\u7684\u4e00\u534a\uff0c\u5e74\u9f84\u5927\u4e8e\u6216\u7b49\u4e8e\u8be5\u5e74\u9f84\u7684\u5bf9\u8c61\u53ef\u4ee5\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"-\u8bf4\u4e00\u4e0bjvm-\u7684\u4e3b\u8981\u7ec4\u6210\u90e8\u5206\u53ca\u5176\u4f5c\u7528",children:"## \u8bf4\u4e00\u4e0bJVM \u7684\u4e3b\u8981\u7ec4\u6210\u90e8\u5206\u53ca\u5176\u4f5c\u7528\uff1f"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:l(47787).A+"",width:"916",height:"539"})}),"\n",(0,s.jsx)(e.p,{children:"JVM\u5305\u542b\u4e24\u4e2a\u5b50\u7cfb\u7edf\u548c\u4e24\u4e2a\u7ec4\u4ef6\uff0c\u5206\u522b\u4e3a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Class loader(\u7c7b\u88c5\u8f7d\u5b50\u7cfb\u7edf) :\u6839\u636e\u7ed9\u5b9a\u7684\u5168\u9650\u5b9a\u540d\u7c7b\u540d(\u5982\uff1ajava.lang.Object)\u6765\u88c5\u8f7dclass\u6587\u4ef6\u5230\u8fd0\u884c\u65f6\u6570\u636e\u533a\u7684\u65b9\u6cd5\u533a\u4e2d\u3002"}),"\n",(0,s.jsx)(e.li,{children:"Execution engine(\u6267\u884c\u5f15\u64ce\u5b50\u7cfb\u7edf):\u6267\u884cclass\u7684\u6307\u4ee4"}),"\n",(0,s.jsx)(e.li,{children:"Runtime data area(\u8fd0\u884c\u65f6\u6570\u636e\u533a\u7ec4\u4ef6) :JMM"}),"\n",(0,s.jsx)(e.li,{children:"Native Interface(\u672c\u5730\u63a5\u53e3\u7ec4\u4ef6)\u3002:\u4e0enative lib\u4ea4\u4e92\uff0c\u662f\u5176\u5b83\u7f16\u7a0b\u8bed\u8a00\u4ea4\u4e92\u7684\u63a5\u53e3"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u9996\u5148\u901a\u8fc7\u7f16\u8bd1\u5668\u628a Java \u6e90\u4ee3\u7801\u8f6c\u6362\u6210",(0,s.jsx)(e.strong,{children:"\u5b57\u8282\u7801"}),"\uff0cClass loader(\u7c7b\u88c5\u8f7d)\u518d\u628a\u5b57\u8282\u7801",(0,s.jsx)(e.strong,{children:"\u52a0\u8f7d\u5230\u5185\u5b58"}),"\u4e2d\uff0c\u5c06\u5176\u653e\u5728\u8fd0\u884c\u65f6\u6570\u636e\u533a\u7684\u65b9\u6cd5\u533a\u5185\uff0c\u800c\u5b57\u8282\u7801\u6587\u4ef6\u53ea\u662f JVM \u7684\u4e00\u5957\u6307\u4ee4\u96c6\u89c4\u8303\uff0c\u5e76\u4e0d\u80fd\u76f4\u63a5\u4ea4\u7ed9\u5e95\u5c42\u64cd\u4f5c\u7cfb\u7edf\u53bb\u6267\u884c\uff0c\u56e0\u6b64\u9700\u8981\u7279\u5b9a\u7684\u547d\u4ee4\u89e3\u6790\u5668\u6267\u884c\u5f15\u64ce\uff08Execution Engine\uff09\uff0c",(0,s.jsx)(e.strong,{children:"\u5c06\u5b57\u8282\u7801\u7ffb\u8bd1\u6210\u5e95\u5c42\u7cfb\u7edf\u6307\u4ee4"}),"\uff0c\u518d\u4ea4\u7531 CPU \u53bb\u6267\u884c\uff0c\u800c\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u9700\u8981",(0,s.jsx)(e.strong,{children:"\u8c03\u7528\u5176\u4ed6\u8bed\u8a00\u7684\u672c\u5730\u5e93\u63a5\u53e3"}),"\uff08Native Interface\uff09\u6765\u5b9e\u73b0\u6574\u4e2a\u7a0b\u5e8f\u7684\u529f\u80fd\u3002"]}),"\n",(0,s.jsx)(e.h2,{id:"\u7c7b\u52a0\u8f7d\u4e0e\u5378\u8f7d",children:"\u7c7b\u52a0\u8f7d\u4e0e\u5378\u8f7d"}),"\n",(0,s.jsxs)(e.p,{children:["\u7c7b\u52a0\u8f7d\u8fc7\u7a0b:\r\n",(0,s.jsx)(e.img,{src:l(11677).A+"",width:"720",height:"249"})]}),"\n",(0,s.jsx)(e.p,{children:"\u5176\u4e2d\u9a8c\u8bc1,\u51c6\u5907,\u89e3\u6790\u5408\u79f0\u8fde\u63a5"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u52a0\u8f7d:\u901a\u8fc7\u7c7b\u7684",(0,s.jsx)(e.strong,{children:"\u5b8c\u5168\u9650\u5b9a\u540d"}),"\u67e5\u627e\u6b64\u7c7b\u5b57\u8282\u7801\u6587\u4ef6,\u518d\u521b\u5efa\u8be5\u5b57\u8282\u7801\u6587\u4ef6\u5bf9\u5e94\u7684Class\u5bf9\u8c61"]}),"\n",(0,s.jsx)(e.li,{children:"\u9a8c\u8bc1:\u786e\u4fddClass\u6587\u4ef6\u7b26\u5408\u5f53\u524d\u865a\u62df\u673a\u7684\u8981\u6c42"}),"\n",(0,s.jsx)(e.li,{children:"\u51c6\u5907:\u8fdb\u884c\u5185\u5b58\u5206\u914d,\u4e3astatic\u4fee\u9970\u7684\u7c7b\u53d8\u91cf\u5206\u914d\u5185\u5b58(\u4e0d\u5305\u542bfinal\u4fee\u9970\u7684\u9759\u6001\u53d8\u91cf,\u56e0\u4e3afinal\u53d8\u91cf\u5728\u7f16\u8bd1\u65f6\u5206\u914d),\u5e76\u8bbe\u7f6e\u521d\u59cb\u503c"}),"\n",(0,s.jsx)(e.li,{children:"\u89e3\u6790:\u5c06\u5e38\u91cf\u6c60\u4e2d\u7684\u7b26\u53f7\u5f15\u7528\u66ff\u6362\u4e3a\u76f4\u63a5\u5f15\u7528\u7684\u8fc7\u7a0b,\u76f4\u63a5\u5f15\u7528\u4e3a\u76f4\u63a5\u6307\u5411\u76ee\u6807\u7684\u6307\u9488\u6216\u8005\u76f8\u5bf9\u504f\u79fb\u91cf\u7b49."}),"\n",(0,s.jsx)(e.li,{children:"\u521d\u59cb\u5316:\u4e3b\u8981\u5b8c\u6210\u9759\u6001\u5757\u6267\u884c\u4ee5\u53ca\u9759\u6001\u53d8\u91cf\u7684\u8d4b\u503c;\u5f53\u7c7b\u88ab\u4e3b\u52a8\u4f7f\u7528\u65f6\u65f6,\u5148\u521d\u59cb\u5316\u7236\u7c7b,\u518d\u521d\u59cb\u5316\u5f53\u524d\u7c7b(\u89e6\u53d1\u6761\u4ef6\u5305\u62ec\u521b\u5efa\u7c7b\u7684\u5b9e\u4f8b;\u8bbf\u95ee\u7c7b\u7684\u9759\u6001\u65b9\u6cd5\u6216\u9759\u6001\u53d8\u91cf;\u4f7f\u7528Class.forName\u53cd\u5c04\u7c7b;\u5b50\u7c7b\u521d\u59cb\u5316)"}),"\n",(0,s.jsxs)(e.li,{children:["\u5378\u8f7d:Java\u81ea\u5e26\u7684\u52a0\u8f7d\u5668\u52a0\u8f7d\u7684\u7c7b,\u5728\u865a\u62df\u673a\u7684\u751f\u547d\u5468\u671f\u4e2d\u662f\u4e0d\u4f1a\u88ab\u5378\u8f7d\u7684,",(0,s.jsx)(e.strong,{children:"\u53ea\u6709"}),"\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u52a0\u8f7d\u5668\u52a0\u8f7d\u7684\u7c7b\u624d\u53ef\u4ee5\u88ab\u5378\u8f7d"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u4ec0\u4e48\u662f\u7c7b\u52a0\u8f7d\u5668",children:"\u4ec0\u4e48\u662f\u7c7b\u52a0\u8f7d\u5668\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u7c7b\u52a0\u8f7d\u5668\u662f\u4e00\u4e2a\u7528\u6765\u52a0\u8f7d\u7c7b\u6587\u4ef6\u7684\u7c7b\u3002Java \u6e90\u4ee3\u7801\u901a\u8fc7 javac \u7f16\u8bd1\u5668\u7f16\u8bd1\u6210\u7c7b \u6587\u4ef6\u3002\u7136\u540e JVM \u6765\u6267\u884c\u7c7b\u6587\u4ef6\u4e2d\u7684\u5b57\u8282\u7801\u6765\u6267\u884c\u7a0b\u5e8f\u3002\u7c7b\u52a0\u8f7d\u5668\u8d1f\u8d23\u52a0\u8f7d\u6587\u4ef6\u7cfb\u7edf\u3001\u7f51\u7edc\u6216\u5176\u4ed6\u6765\u6e90\u7684\u7c7b\u6587\u4ef6\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u52a0\u8f7d\u673a\u5236-\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b",children:"\u52a0\u8f7d\u673a\u5236-\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:l(21340).A+"",width:"720",height:"496"})}),"\n",(0,s.jsx)(e.p,{children:"\u53cc\u4eb2\u59d4\u6d3e\u6a21\u5f0f:\u5373\u52a0\u8f7d\u5668\u52a0\u8f7d\u7c7b\u65f6\u5148\u628a\u8bf7\u6c42\u59d4\u6258\u7ed9\u81ea\u5df1\u7684\u7236\u7c7b\u52a0\u8f7d\u5668\u6267\u884c,\u76f4\u5230\u9876\u5c42\u7684\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668,\u7236\u7c7b\u52a0\u8f7d\u5668\u80fd\u591f\u5b8c\u6210\u52a0\u8f7d\u5219\u6210\u529f\u8fd4\u56de,\u4e0d\u80fd\u5219\u5b50\u7c7b\u52a0\u8f7d\u5668\u81ea\u5df1\u5c1d\u8bd5\u52a0\u8f7d"}),"\n",(0,s.jsx)(e.p,{children:"\u4f18\u70b9\uff1a"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u907f\u514d\u7c7b\u7684\u91cd\u590d\u52a0\u8f7d"}),"\n",(0,s.jsx)(e.li,{children:"\u907f\u514dJava\u7684\u6838\u5fc3API\u88ab\u7be1\u6539"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u63cf\u8ff0\u4e00\u4e0bjvm\u52a0\u8f7dclass\u6587\u4ef6\u7684\u539f\u7406\u673a\u5236",children:"\u63cf\u8ff0\u4e00\u4e0bJVM\u52a0\u8f7dclass\u6587\u4ef6\u7684\u539f\u7406\u673a\u5236\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:["JVM\u4e2d\u7c7b\u7684\u88c5\u8f7d\u662f\u7531\u7c7b\u52a0\u8f7d\u5668\uff08ClassLoader\uff09\u548c\u5b83\u7684\u5b50\u7c7b\u6765\u5b9e\u73b0\u7684\uff0cJava\u4e2d\u7684\u7c7b\u52a0\u8f7d\u5668\u662f\u4e00\u4e2a\u91cd\u8981\u7684Java\u8fd0\u884c\u65f6\u7cfb\u7edf\u7ec4\u4ef6\uff0c\u5b83\u8d1f\u8d23\u5728",(0,s.jsx)(e.strong,{children:"\u8fd0\u884c\u65f6\u67e5\u627e\u548c\u88c5\u5165"}),"\u7c7b\u6587\u4ef6\u4e2d\u7684\u7c7b\u3002\u7531\u4e8eJava\u7684\u8de8\u5e73\u53f0\u6027\uff0c\u7ecf\u8fc7\u7f16\u8bd1\u7684Java\u6e90\u7a0b\u5e8f\u5e76\u4e0d\u662f\u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\uff0c\u800c\u662f\u4e00\u4e2a\u6216\u591a\u4e2a\u7c7b\u6587\u4ef6\u3002\u5f53Java\u7a0b\u5e8f\u9700\u8981\u4f7f\u7528\u67d0\u4e2a\u7c7b\u65f6\uff0cJVM\u4f1a\u786e\u4fdd\u8fd9\u4e2a\u7c7b\u5df2\u7ecf\u88ab\u52a0\u8f7d\u3001\u8fde\u63a5\uff08\u9a8c\u8bc1\u3001\u51c6\u5907\u548c\u89e3\u6790\uff09\u548c\u521d\u59cb\u5316\u3002\u7c7b\u7684\u52a0\u8f7d\u662f\u6307\u628a\u7c7b\u7684.class\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u8bfb\u5165\u5230\u5185\u5b58\u4e2d\uff0c\u901a\u5e38\u662f\u521b\u5efa\u4e00\u4e2a\u5b57\u8282\u6570\u7ec4\u8bfb\u5165.class\u6587\u4ef6\uff0c\u7136\u540e\u4ea7\u751f\u4e0e\u6240\u52a0\u8f7d\u7c7b\u5bf9\u5e94\u7684\r\nClass\u5bf9\u8c61\u3002\u52a0\u8f7d\u5b8c\u6210\u540e\uff0c\u6b64\u65f6Class\u5bf9\u8c61\u8fd8\u4e0d\u5b8c\u6574;\u8fdb\u5165\u8fde\u63a5\u9636\u6bb5\uff0c\u8fd9\u4e00\u9636\u6bb5\u5305\u62ec\u9a8c\u8bc1\u3001\u51c6\u5907\uff08\u4e3a\u9759\u6001\u53d8\u91cf\u5206\u914d\u5185\u5b58\u5e76\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u521d\u59cb\u503c\uff09\u548c\u89e3\u6790\uff08\u5c06\u7b26\u53f7\u5f15\u7528\u66ff\u6362\u4e3a\u76f4\u63a5\u5f15\u7528\uff09\u3002\u6700\u540eJVM\u5bf9\u7c7b\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5305\u62ec\uff1a\u5982\u679c\u7c7b\u5b58\u5728\u76f4\u63a5\u7684\u7236\u7c7b\u4e14\u8fd8\u6ca1\u6709\u88ab\u521d\u59cb\u5316\uff0c\u5c31\u5148\u521d\u59cb\u5316\u7236\u7c7b\uff1b\u5982\u679c\u7c7b\u4e2d\u5b58\u5728\u521d\u59cb\u5316\u8bed\u53e5\uff0c\u5c31\u4f9d\u6b21\u6267\u884c\u8fd9\u4e9b\u521d\u59cb\u5316\u8bed\u53e5\u3002\u7c7b\u7684\u52a0\u8f7d\u662f\u7531\u7c7b\u52a0\u8f7d\u5668\u5b8c\u6210\u7684\uff0c\u7c7b\u52a0\u8f7d\u5668\u5305\u62ec\uff1a\u6839\u52a0\u8f7d\u5668\uff08BootStrap\uff09\u3001\u6269\u5c55\u52a0\u8f7d\u5668\uff08Extension\uff09\u3001\u7cfb\u7edf\u52a0\u8f7d\u5668\uff08System\uff09\u548c\u7528\u6237\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u5668\uff08java.lang.ClassLoader\u7684\u5b50\u7c7b\uff09\u3002\u4eceJava 2\uff08JDK 1.2\uff09\u5f00\u59cb\uff0c\u7c7b\u52a0\u8f7d\u8fc7\u7a0b\u91c7\u53d6\u4e86\u53cc\u4eb2\u59d4\u6d3e\u673a\u5236\uff08PDM\uff09\u3002PDM\u66f4\u597d\u7684\u4fdd\u8bc1\u4e86Java\u5e73\u53f0\u7684\u5b89\u5168\u6027\uff0c\u5728\u8be5\u673a\u5236\u4e2d\uff0cJVM\u81ea\u5e26\u7684Bootstrap\u662f\u6839\u52a0\u8f7d\u5668\uff0c\u5176\u4ed6\u7684\u52a0\u8f7d\u5668\u90fd\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u7236\u7c7b\u52a0\u8f7d\u5668\u3002\u7c7b\u7684\u52a0\u8f7d\u9996\u5148\u8bf7\u6c42\u7236\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\uff0c\u7236\u7c7b\u52a0\u8f7d\u5668\u65e0\u80fd\u4e3a\u529b\u65f6\u624d\u7531\u5176\u5b50\u7c7b\u52a0\u8f7d\u5668\u81ea\u884c\u52a0\u8f7d\u3002JVM",(0,s.jsx)(e.strong,{children:"\u4e0d\u4f1a"}),"\u5411Java\u7a0b\u5e8f\u63d0\u4f9b\u5bf9Bootstrap\u7684\u5f15\u7528\u3002\u4e0b\u9762\u662f\u5173\u4e8e\u51e0\u4e2a\u7c7b\u52a0\u8f7d\u5668\u7684\u8bf4\u660e\uff1a"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Bootstrap\uff1a\u4e00\u822c\u7528\u672c\u5730\u4ee3\u7801\u5b9e\u73b0\uff0c\u8d1f\u8d23\u52a0\u8f7dJVM\u57fa\u7840\u6838\u5fc3\u7c7b\u5e93\uff08rt.jar\uff09\uff1b"}),"\n",(0,s.jsx)(e.li,{children:"Extension\uff1a\u4ecejava.ext.dirs\u7cfb\u7edf\u5c5e\u6027\u6240\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\u52a0\u8f7d\u7c7b\u5e93\uff0c\u5b83\u7684\u7236\u52a0\u8f7d\u5668\u662fBootstrap\uff1b"}),"\n",(0,s.jsx)(e.li,{children:"System\uff1a\u53c8\u53eb\u5e94\u7528\u7c7b\u52a0\u8f7d\u5668\uff0c\u5176\u7236\u7c7b\u662fExtension\u3002\u5b83\u662f\u5e94\u7528\u6700\u5e7f\u6cdb\u7684\u7c7b\u52a0\u8f7d\u5668\u3002\u5b83\u4ece\u73af\u5883\u53d8\u91cfclasspath\u6216\u8005\u7cfb\u7edf\u5c5e\u6027java.class.path\u6240\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\u8bb0\u8f7d\u7c7b\uff0c\u662f\u7528\u6237\u81ea\u5b9a\u4e49\u52a0\u8f7d\u5668\u7684\u9ed8\u8ba4\u7236\u52a0\u8f7d\u5668\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u8bf4\u8bf4java\u5bf9\u8c61\u521b\u5efa\u8fc7\u7a0b",children:"\u8bf4\u8bf4Java\u5bf9\u8c61\u521b\u5efa\u8fc7\u7a0b"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"JVM\u9047\u5230\u4e00\u6761\u65b0\u5efa\u5bf9\u8c61\u7684\u6307\u4ee4\u65f6\u9996\u5148\u53bb\u68c0\u67e5\u8fd9\u4e2a\u6307\u4ee4\u7684\u53c2\u6570\u662f\u5426\u80fd\u5728\u5e38\u91cf\u6c60\u4e2d\u5b9a\u4e49\u5230\u4e00\u4e2a\u7c7b\u7684\u7b26\u53f7\u5f15\u7528\u3002\u7136\u540e\u52a0\u8f7d\u8fd9\u4e2a\u7c7b"}),"\n",(0,s.jsx)(e.li,{children:"\u4e3a\u5bf9\u8c61\u5206\u914d\u5185\u5b58\u3002\u4e00\u79cd\u529e\u6cd5\u201c\u6307\u9488\u78b0\u649e\u201d\u3001\u4e00\u79cd\u529e\u6cd5\u201c\u7a7a\u95f2\u5217\u8868\u201d\uff0c\u6700\u7ec8\u5e38\u7528\u7684\u529e\u6cd5\u201c\u672c\u5730\u7ebf\u7a0b\u7f13\u51b2\u5206\u914d(TLAB)\u201d"}),"\n",(0,s.jsx)(e.li,{children:"\u5c06\u9664\u5bf9\u8c61\u5934\u5916\u7684\u5bf9\u8c61\u5185\u5b58\u7a7a\u95f4\u521d\u59cb\u5316\u4e3a0"}),"\n",(0,s.jsx)(e.li,{children:"\u5bf9\u5bf9\u8c61\u5934\u8fdb\u884c\u5fc5\u8981\u8bbe\u7f6e"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u4ec0\u4e48\u662f\u6307\u9488\u78b0\u649e",children:"\u4ec0\u4e48\u662f\u6307\u9488\u78b0\u649e\uff1f"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:l(73724).A+"",width:"876",height:"271"})}),"\n",(0,s.jsx)(e.p,{children:"\u4e00\u822c\u60c5\u51b5\u4e0b\uff0cJVM\u7684\u5bf9\u8c61\u90fd\u653e\u5728\u5806\u5185\u5b58\u4e2d\uff08\u53d1\u751f\u9003\u9038\u5206\u6790\u9664\u5916\uff09\u3002\u5f53\u7c7b\u52a0\u8f7d\u68c0\u67e5\u901a\u8fc7\u540e\uff0cJava\u865a\u62df\u673a\u5f00\u59cb\u4e3a\u65b0\u751f\u5bf9\u8c61\u5206\u914d\u5185\u5b58\u3002\u5982\u679cJava\u5806\u4e2d\u5185\u5b58\u662f\u7edd\u5bf9\u89c4\u6574\u7684\uff0c\u5373\u6240\u6709\u88ab\u4f7f\u7528\u8fc7\u7684\u7684\u5185\u5b58\u90fd\u88ab\u653e\u5230\u4e00\u8fb9\uff0c\u7a7a\u95f2\u7684\u5185\u5b58\u653e\u5230\u53e6\u5916\u4e00\u8fb9\uff0c\u4e2d\u95f4\u653e\u7740\u4e00\u4e2a\u6307\u9488\u4f5c\u4e3a\u5206\u754c\u70b9\u7684\u6307\u793a\u5668\u3002\u5206\u914d\u5185\u5b58\u4ec5\u4ec5\u662f\u628a\u90a3\u4e2a\u6307\u9488\u5411\u7a7a\u95f2\u7a7a\u95f4\u65b9\u5411\u632a\u52a8\u4e00\u6bb5\u4e0e\u5bf9\u8c61\u5927\u5c0f\u76f8\u7b49\u7684\u5b9e\u4f8b\uff0c\u8fd9\u79cd\u5206\u914d\u65b9\u5f0f\u5c31\u662f\u6307\u9488\u78b0\u649e\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u4ec0\u4e48\u662f\u7a7a\u95f2\u5217\u8868",children:"\u4ec0\u4e48\u662f\u7a7a\u95f2\u5217\u8868\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679cJava\u5806\u5185\u5b58\u4e2d\u7684\u5185\u5b58\u5e76\u4e0d\u662f\u89c4\u6574\u7684\uff0c\u5df2\u88ab\u4f7f\u7528\u7684\u5185\u5b58\u548c\u7a7a\u95f2\u7684\u5185\u5b58\u76f8\u4e92\u4ea4\u9519\u5728\u4e00\u8d77\uff0c\u4e0d\u53ef\u4ee5\u8fdb\u884c\u6307\u9488\u78b0\u649e\uff0c\u6b64\u65f6,\u865a\u62df\u673a\u5fc5\u987b\u7ef4\u62a4\u4e00\u4e2a\u5217\u8868\uff0c\u8bb0\u5f55\u54ea\u4e9b\u5185\u5b58\u662f\u53ef\u7528\u7684\uff0c\u5728\u5206\u914d\u7684\u65f6\u5019\u4ece\u5217\u8868\u627e\u5230\u4e00\u5757\u5927\u7684\u7a7a\u95f4\u5206\u914d\u7ed9\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u5e76\u66f4\u65b0\u5217\u8868\u4e0a\u7684\u8bb0\u5f55\uff0c\u8fd9\u79cd\u5206\u914d\u65b9\u5f0f\u5c31\u662f\u7a7a\u95f2\u5217\u8868\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u4ec0\u4e48\u662ftlab",children:"\u4ec0\u4e48\u662fTLAB\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u53ef\u4ee5\u628a\u5185\u5b58\u5206\u914d\u7684\u52a8\u4f5c\u6309\u7167\u7ebf\u7a0b\u5212\u5206\u5728\u4e0d\u540c\u7684\u7a7a\u95f4\u4e4b\u4e2d\u8fdb\u884c\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u5728Java\u5806\u4e2d\u9884\u5148\u5206\u914d\u4e00\u5c0f\u5757\u5185\u5b58,\u8fd9\u5c31\u662fTLAB\uff08Thread Local Allocation Buffer\uff0c\u672c\u5730\u7ebf\u7a0b\u5206\u914d\u7f13\u5b58\uff09\u3002\u865a\u62df\u673a\u901a\u8fc7-XX:UseTLAB \u8bbe\u5b9a\u5b83\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u77e5\u9053\u7c7b\u7684\u751f\u547d\u5468\u671f\u5417",children:"\u77e5\u9053\u7c7b\u7684\u751f\u547d\u5468\u671f\u5417\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u7c7b\u7684\u751f\u547d\u5468\u671f\u5305\u62ec\u52a0\u8f7d\u3001\u8fde\u63a5\u3001\u521d\u59cb\u5316\u3001\u4f7f\u7528\u548c\u5378\u8f7d\uff0c\u5176\u4e2d\u524d\u4e09\u90e8\u662f\u7c7b\u7684\u52a0\u8f7d\u7684\u8fc7\u7a0b"}),"\n",(0,s.jsx)(e.p,{children:"\u52a0\u8f7d\uff0c\u67e5\u627e\u5e76\u52a0\u8f7d\u7c7b\u7684\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u5728Java\u5806\u4e2d\u4e5f\u521b\u5efa\u4e00\u4e2ajava.lang.Class\u7c7b\u7684\u5bf9\u8c61 \u8fde\u63a5\uff0c\u8fde\u63a5\u53c8\u5305\u542b\u4e09\u5757\u5185\u5bb9\uff1a\u9a8c\u8bc1\u3001\u51c6\u5907\u3001\u521d\u59cb\u5316\u3002\u9a8c\u8bc1\uff0c\u6587\u4ef6\u683c\u5f0f\u3001\u5143\u6570\u636e\u3001\u5b57\u8282\u7801\u3001\u7b26\u53f7\u5f15\u7528\u9a8c\u8bc1\uff1b\u51c6\u5907\uff0c\u4e3a\u7c7b\u7684\u9759\u6001\u53d8\u91cf\u5206\u914d\u5185\u5b58\uff0c\u5e76\u5c06\u5176\u521d\u59cb\u5316\u4e3a\u9ed8\u8ba4\u503c\uff1b\u89e3\u6790\uff0c\u628a\u7c7b\u4e2d\u7684\u7b26\u53f7\u5f15\u7528\u8f6c\u6362\u4e3a\u76f4\u63a5\u5f15\u7528\u521d\u59cb\u5316\uff0c\u4e3a\u7c7b\u7684\u9759\u6001\u53d8\u91cf\u8d4b\u4e88\u6b63\u786e\u7684\u521d\u59cb\u503c;\u4f7f\u7528;\u5378\u8f7d\uff0c\u6267\u884c\u5783\u573e\u56de\u6536"}),"\n",(0,s.jsx)(e.h3,{id:"\u7b80\u8ff0java\u7684\u5bf9\u8c61\u7ed3\u6784",children:"\u7b80\u8ff0Java\u7684\u5bf9\u8c61\u7ed3\u6784"}),"\n",(0,s.jsx)(e.p,{children:"Java\u5bf9\u8c61\u7531\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a\u5bf9\u8c61\u5934\u3001\u5b9e\u4f8b\u6570\u636e\u3001\u5bf9\u9f50\u586b\u5145\u3002\u5bf9\u8c61\u5934\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff0c\u7b2c\u4e00\u90e8\u5206\u4e3a\u5bf9\u8c61\u81ea\u8eab\u8fd0\u884c\u65f6\u6240\u9700\u7684\u6570\u636e\uff0c\u4e5f\u88ab\u79f0\u4e3aMark Word\uff1ahashcode\u3001GC\u5206\u4ee3\u5e74\u9f84\u3001\u9501\u6807\u8bc6\u72b6\u6001\u3001\u7ebf\u7a0b\u6301\u6709\u7684\u9501\u3001\u504f\u5411\u7ebf\u7a0bID\uff08\u4e00\u822c\u536032/64 bit\uff09\u3002\u7b2c\u4e8c\u90e8\u5206\u662f\u6307\u9488\u7c7b\u578b\uff0c\u6307\u5411\u5bf9\u8c61\u7684\u7c7b\u5143\u6570\u636e\u7c7b\u578b \uff08\u5373\u5bf9\u8c61\u662f\u5c5e\u4e8e\u54ea\u4e2a\u7c7b\u7684\u5b9e\u4f8b\uff09\u3002\u5982\u679c\u662f\u6570\u7ec4\u5bf9\u8c61\uff0c\u5219\u5bf9\u8c61\u5934\u4e2d\u8fd8\u6709\u4e00\u90e8\u5206\u7528\u6765\u8bb0\u5f55\u6570\u7ec4\u957f\u5ea6\u3002\u5b9e\u4f8b\u6570\u636e\u7528\u6765\u5b58\u50a8\u5bf9\u8c61\u771f\u6b63\u7684\u6709\u6548\u4fe1\u606f\uff08\u5305\u62ec\u7236\u7c7b\u7ee7\u627f\u4e0b\u6765\u7684\u548c\u81ea\u5df1\u5b9a\u4e49\u7684\uff09;\u5bf9\u9f50\u586b\u5145\uff1aJVM \u8981\u6c42\u5bf9\u8c61\u8d77\u59cb\u5730\u5740\u5fc5\u987b\u662f8\u5b57\u8282\u7684\u6574\u6570\u500d\uff088\u5b57\u8282\u5bf9\u9f50\uff09"}),"\n",(0,s.jsx)(e.h3,{id:"\u4ec0\u4e48\u662f-tomcat-\u7c7b\u52a0\u8f7d\u673a\u5236",children:"\u4ec0\u4e48\u662f tomcat \u7c7b\u52a0\u8f7d\u673a\u5236\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:["\u5728 tomcat \u4e2d\u7c7b\u7684\u52a0\u8f7d\u7a0d\u6709\u4e0d\u540c\uff0c\u5982\u4e0b\u56fe\uff1a\r\n",(0,s.jsx)(e.img,{src:l(48241).A+"",width:"771",height:"595"})]}),"\n",(0,s.jsxs)(e.p,{children:["\u5f53 tomcat \u542f\u52a8\u65f6\uff0c\u4f1a\u521b\u5efa\u51e0\u79cd\u7c7b\u52a0\u8f7d\u5668\uff1a Bootstrap \u5f15\u5bfc\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d JVM\u542f\u52a8\u6240\u9700\u7684\u7c7b\uff0c\u4ee5\u53ca \u6807\u51c6\u6269\u5c55\u7c7b\uff08\u4f4d\u4e8e",(0,s.jsx)(e.code,{children:"jre/lib/ext"}),"\u4e0b\uff09 System \u7cfb\u7edf\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d tomcat \u542f\u52a8\u7684\u7c7b\uff0c\u6bd4\u5982 bootstrap.jar\uff0c\u901a\u5e38\u5728 catalina.bat \u6216\u8005 catalina.sh \u4e2d\u6307\u5b9a\u3002\u4f4d\u4e8eCATALINA_HOME/bin"]}),"\n",(0,s.jsx)(e.h2,{id:"\u5783\u573e\u56de\u6536",children:"\u5783\u573e\u56de\u6536"}),"\n",(0,s.jsx)(e.h3,{id:"\u5206\u4ee3\u56de\u6536",children:"\u5206\u4ee3\u56de\u6536"}),"\n",(0,s.jsx)(e.p,{children:"\u5206\u4ee3\u56de\u6536\u57fa\u4e8e\u4e24\u4e2a\u4e8b\u5b9e:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u5927\u90e8\u5206\u5bf9\u8c61\u5f88\u5feb\u5c31\u4e0d\u4f7f\u7528\u4e86"}),"\n",(0,s.jsx)(e.li,{children:"\u8fd8\u6709\u4e00\u90e8\u5206\u4e0d\u4f1a\u7acb\u5373\u65e0\u7528,\u4f46\u4e5f\u4e0d\u4f1a\u6301\u7eed\u5f88\u957f\u65f6\u95f4"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:l(31139).A+"",width:"720",height:"171"})}),"\n",(0,s.jsx)(e.h3,{id:"\u4ec0\u4e48\u65f6\u5019\u4f1a\u89e6\u53d1fullgc",children:"\u4ec0\u4e48\u65f6\u5019\u4f1a\u89e6\u53d1FullGC"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e0d\u8db3:\u53ea\u6709\u5728\u65b0\u751f\u4ee3\u5bf9\u8c61\u8f6c\u5165\u548c\u521b\u5efa\u5927\u5bf9\u8c61\u3001\u5927\u6570\u7ec4\u65f6\u624d\u4f1a\u51fa\u73b0\u4e0d\u8db3\u7684\u73b0\u8c61\u3002\u5f53\u6267\u884cFull GC\u540e\u7a7a\u95f4\u4ecd\u7136\u4e0d\u8db3\uff0c\u5219\u629b\u51fa\u5982\u4e0b\u9519\u8bef\uff1a java.lang.OutOfMemoryError: Java heap space,\u4e3a\u907f\u514d\u51fa\u9519,\u8c03\u4f18\u65f6\u5e94\u5c3d\u91cf\u505a\u5230\u8ba9\u5bf9\u8c61\u5728Minor GC\u9636\u6bb5\u88ab\u56de\u6536\u3001\u8ba9\u5bf9\u8c61\u5728\u65b0\u751f\u4ee3\u591a\u5b58\u6d3b\u4e00\u6bb5\u65f6\u95f4\u53ca\u4e0d\u8981\u521b\u5efa\u8fc7\u5927\u7684\u5bf9\u8c61\u53ca\u6570\u7ec4\u3002"}),"\n",(0,s.jsx)(e.li,{children:"Permanet Generation\u7a7a\u95f4\u6ee1:PermanetGeneration\u4e2d\u5b58\u653e\u4e00\u4e9bclass\u7684\u4fe1\u606f\u7b49\uff0c\u5f53\u7cfb\u7edf\u4e2d\u8981\u52a0\u8f7d\u7684\u7c7b\u3001\u53cd\u5c04\u7684\u7c7b\u548c\u8c03\u7528\u7684\u65b9\u6cd5\u8f83\u591a\u65f6\uff0cPermanet Generation\u53ef\u80fd\u4f1a\u88ab\u5360\u6ee1\uff0c\u5728\u672a\u914d\u7f6e\u4e3a\u91c7\u7528CMS GC\u7684\u60c5\u51b5\u4e0b\u4f1a\u6267\u884cFull GC\u3002\u5982\u679c\u7ecf\u8fc7Full GC\u4ecd\u7136\u56de\u6536\u4e0d\u4e86\uff0c\u4f1a\u629b\u51fa\u5982\u4e0b\u9519\u8bef\u4fe1\u606f\uff1ajava.lang.OutOfMemoryError: PermGen space,\u4e3a\u907f\u514d\u51fa\u9519\uff0c\u53ef\u589e\u5927Perm Gen\u7a7a\u95f4\u6216\u8f6c\u4e3a\u4f7f\u7528CMS GC\u3002"}),"\n",(0,s.jsx)(e.li,{children:"CMS GC\u65f6\u51fa\u73b0promotion failed\u548cconcurrent mode failure:\u5bf9\u4e8e\u91c7\u7528CMS\u8fdb\u884c\u8001\u5e74\u4ee3GC\u7684\u7a0b\u5e8f\uff0cpromotionfailed\u662f\u5728\u8fdb\u884cMinor GC\u65f6\uff0csurvivor space\u653e\u4e0d\u4e0b,\u800c\u6b64\u65f6\u8001\u5e74\u4ee3\u4e5f\u653e\u4e0d\u4e0b\u9020\u6210\u7684\uff1bconcurrent mode failure\u662f\u5728\u6267\u884c CMS GC\u7684\u8fc7\u7a0b\u4e2d\u540c\u65f6\u6709\u5bf9\u8c61\u8981\u653e\u5165\u8001\u5e74\u4ee3\uff0c\u800c\u6b64\u65f6\u7a7a\u95f4\u4e0d\u8db3\u9020\u6210\u7684.\u5e94\u5bf9\u63aa\u65bd\u4e3a\uff1a\u589e\u5927 survivor space\u3001\u8001\u5e74\u4ee3\u7a7a\u95f4\u6216\u8c03\u4f4e\u89e6\u53d1\u5e76\u53d1GC\u7684\u6bd4\u7387"}),"\n",(0,s.jsx)(e.li,{children:"\u5728\u8fdb\u884cMinor GC\u65f6,\u7edf\u8ba1\u5f97\u5230\u7684Minor GC\u664b\u5347\u5230\u8001\u5e74\u4ee3\u7684\u5e73\u5747\u5927\u5c0f\u5927\u4e8e\u8001\u5e74\u4ee3\u7684\u5269\u4f59\u7a7a\u95f4"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"minor-gc\u4e0efull-gc\u5206\u522b\u5728\u4ec0\u4e48\u65f6\u5019\u53d1\u751f",children:"Minor GC\u4e0eFull GC\u5206\u522b\u5728\u4ec0\u4e48\u65f6\u5019\u53d1\u751f\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u65b0\u751f\u4ee3\u5185\u5b58\u4e0d\u591f\u7528\u65f6\u5019\u53d1\u751fMGC\u4e5f\u53ebYGC\uff0cJVM\u5185\u5b58\u4e0d\u591f\u7684\u65f6\u5019\u53d1\u751fFGC"}),"\n",(0,s.jsx)(e.h3,{id:"\u5783\u573e\u56de\u6536\u7b97\u6cd5",children:"\u5783\u573e\u56de\u6536\u7b97\u6cd5"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"G1\u7b97\u6cd5"}),"\r\n",(0,s.jsx)(e.img,{src:l(91289).A+"",width:"586",height:"487"})]}),"\n",(0,s.jsx)(e.p,{children:"1.9\u540e\u9ed8\u8ba4\u7684\u5783\u573e\u56de\u6536\u7b97\u6cd5,\u7279\u70b9:\u540c\u65f6\u6ce8\u91cd\u9ad8\u541e\u5410\u91cf(\u56de\u6536\u7387)\u7684\u4f4e\u5ef6\u8fdf(\u51cf\u5c11\u505c\u987f),\u91c7\u7528\u6bcf\u6b21\u53ea\u6e05\u7406\u4e00\u90e8\u5206,\u800c\u975e\u5168\u90e8\u6765\u4fdd\u8bc1 STW \u65f6\u95f4\u4e0d\u4f1a\u8fc7\u957f"}),"\n",(0,s.jsx)(e.p,{children:"\u5176\u53d6\u6d88\u4e86\u5e78\u5b58\u533a\u4e0e\u8001\u5e74\u4ee3\u7684\u7269\u7406\u5212\u5206,\u4f46\u4ecd\u5c5e\u4e8e\u5206\u4ee3\u6536\u96c6\u5668,\u7b97\u6cd5\u5c06\u5806\u5206\u4e3a\u82e5\u5e72\u4e2a\u903b\u8f91\u533a\u57df(region),\u6574\u4f53\u5206\u4e3a\u56db\u79cd\uff1aEden\u3001Survioor\u3001Old\u3001Humongous(\u5b58\u50a8\u5927\u5bf9\u8c61)"}),"\n",(0,s.jsxs)(e.p,{children:["\u6574\u4f53\u4e0a\u662f",(0,s.jsx)(e.strong,{children:"\u6807\u8bb0+\u6574\u7406"}),"\u7b97\u6cd5\uff0c\u4e24\u4e2a\u533a\u57df\u4e4b\u95f4\u662f",(0,s.jsx)(e.strong,{children:"\u590d\u5236"}),"\u7b97\u6cd5"]}),"\n",(0,s.jsx)(e.p,{children:"G1\u5783\u573e\u6536\u96c6\u8fc7\u7a0b\u4e3b\u8981\u5206\u4e3a4\u4e2a\u9636\u6bb5\uff1a"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u521d\u59cb\u6807\u8bb0(Initial Marking):\u6807\u8bb0 GC Roots \u76f4\u63a5\u5173\u8054\u5230\u7684\u5bf9\u8c61,\u4f1a STW"}),"\n",(0,s.jsx)(e.li,{children:"\u5e76\u53d1\u6807\u8bb0(Concurrent Marking):GC \u7ebf\u7a0b\u548c\u5e94\u7528\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c,\u6807\u8bb0\u51fa\u6240\u6709\u56de\u6536\u5bf9\u8c61"}),"\n",(0,s.jsx)(e.li,{children:"\u6700\u7ec8\u6807\u8bb0(Final Marking):\u5904\u7406\u548c\u6807\u8bb0\u5e76\u53d1\u6807\u8bb0\u540e\u65b0\u4ea7\u751f\u7684\u5bf9\u8c61,\u4f1a STW"}),"\n",(0,s.jsx)(e.li,{children:"\u7b5b\u9009\u56de\u6536(Live Data Counting and Evacuation):\u6839\u636e\u56de\u6536\u4ef7\u503c\u548c\u6210\u672c(\u6682\u505c\u65f6\u95f4),\u9009\u62e9\u6027\u56de\u6536 region,\u56de\u6536\u65f6\u91c7\u7528\u6807\u8bb0\u590d\u5236\u7b97\u6cd5,\u591a\u6761\u6536\u96c6\u5668\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c,\u4e0d\u8ffd\u6c42\u5168\u90e8\u6e05\u7406\u5b8c,\u4f1a STW"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["CMS(Concurrent Mark-Sweep)\u4ee5\u4f4e\u5ef6\u8fdf\u4e3a\u76ee\u6807\u7684\u5783\u573e\u6536\u96c6\u5668\r\n",(0,s.jsx)(e.img,{src:l(2269).A+"",width:"936",height:"258"})]}),"\n",(0,s.jsx)(e.h3,{id:"\u5982\u4f55\u5224\u65ad\u5bf9\u8c61\u53ef\u4ee5\u88ab\u56de\u6536",children:"\u5982\u4f55\u5224\u65ad\u5bf9\u8c61\u53ef\u4ee5\u88ab\u56de\u6536\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u5b58\u6d3b\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a 1"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u5f15\u7528\u8ba1\u6570\uff1a\u6bcf\u4e2a\u5bf9\u8c61\u6709\u4e00\u4e2a\u5f15\u7528\u8ba1\u6570\u5c5e\u6027\uff0c\u65b0\u589e\u4e00\u4e2a\u5f15\u7528\u65f6\u8ba1\u6570\u52a01\uff0c\u5f15\u7528\u91ca\u653e\u65f6\u8ba1\u6570\u51cf1\uff0c\u8ba1\u6570\u4e3a0\u65f6\u53ef\u4ee5\u56de\u6536\u3002\u6b64\u65b9\u6cd5\u7b80\u5355\uff0c\u4f46\u662f\u65e0\u6cd5\u89e3\u51b3\u5bf9\u8c61\u76f8\u4e92\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u53ef\u8fbe\u6027\u5206\u6790\uff08Reachability Analysis\uff09\uff1a\u4eceGC Roots\u5f00\u59cb\u5411\u4e0b\u641c\u7d22\uff0c\u641c\u7d22\u6240\u8d70\u8fc7\u7684\u8def\u5f84\u79f0\u4e3a\u5f15\u7528\u94fe\u3002\u5f53\u4e00\u4e2a\u5bf9\u8c61\u5230GC Roots\u6ca1\u6709\u4efb\u4f55\u5f15\u7528\u94fe\u76f8\u8fde\u65f6\uff0c\u5219\u8bc1\u660e\u6b64\u5bf9\u8c61\u662f\u4e0d\u53ef\u7528\u7684"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"jvm\u7684\u6c38\u4e45\u4ee3\u4e2d\u4f1a\u53d1\u751f\u5783\u573e\u56de\u6536\u4e48",children:"JVM\u7684\u6c38\u4e45\u4ee3\u4e2d\u4f1a\u53d1\u751f\u5783\u573e\u56de\u6536\u4e48\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u6c38\u4e45\u4ee3\u4f1a\u53d1\u751f\u5783\u573e\u56de\u6536\uff0c\u5982\u679c\u6c38\u4e45\u4ee3\u6ee1\u4e86\u6216\u8005\u662f\u8d85\u8fc7\u4e86\u4e34\u754c\u503c\uff0c\u4f1a\u89e6\u53d1Full GC\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6b63\u786e\u7684\u6c38\u4e45\u4ee3\u5927\u5c0f\u5bf9\u907f\u514dFull GC\u662f\u975e\u5e38\u91cd\u8981\u7684\u539f\u56e0\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u4f60\u77e5\u9053\u54ea\u4e9b\u5783\u573e\u6536\u96c6\u7b97\u6cd5",children:"\u4f60\u77e5\u9053\u54ea\u4e9b\u5783\u573e\u6536\u96c6\u7b97\u6cd5"}),"\n",(0,s.jsxs)(e.p,{children:["GC\u6700\u57fa\u7840\u7684\u7b97\u6cd5\u6709\u4e09\u79cd\uff1a \u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5\u3001\u590d\u5236\u7b97\u6cd5\u3001\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\uff0c\u5e38\u7528\u7684\u5783\u573e\u56de\u6536\u5668\u4e00\u822c\u90fd\u91c7\u7528",(0,s.jsx)(e.strong,{children:"\u5206\u4ee3\u6536\u96c6"}),"\u7b97\u6cd5\u3002"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6807\u8bb0-\u6e05\u9664\uff08Mark-Sweep\uff09\u7b97\u6cd5:\u9996\u5148\u6807\u8bb0\u51fa\u6240\u6709\u9700\u8981\u56de\u6536\u7684\u5bf9\u8c61\uff0c\u5728\u6807\u8bb0\u5b8c\u6210\u540e\u7edf\u4e00\u56de\u6536\u6389\u6240\u6709\u88ab\u6807\u8bb0\u7684\u5bf9\u8c61\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u590d\u5236\u7b97\u6cd5\uff0c\u5c06\u53ef\u7528\u5185\u5b58\u6309\u5bb9\u91cf\u5212\u5206\u4e3a\u5927\u5c0f\u76f8\u7b49\u7684\u4e24\u5757(from\u548cto)\uff0c\u6bcf\u6b21\u53ea\u4f7f\u7528\u5176\u4e2d\u7684\u4e00\u5757\u3002\u5f53\u8fd9from\u5185\u5b58\u7528\u5b8c\u4e86\uff0c\u5c31\u5c06\u8fd8\u5b58\u6d3b\u7740\u7684\u5bf9\u8c61\u590d\u5236\u5230to\u4e0a\u9762\uff0c\u7136\u540e \u518d\u628afrom\u7684\u5185\u5b58\u7a7a\u95f4\u4e00\u6b21\u6e05\u7406\u6389,\u7136\u540e\u4ea4\u6362from\u548cto\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\uff0c\u6807\u8bb0\u8fc7\u7a0b\u4ecd\u7136\u4e0e\u201c\u6807\u8bb0-\u6e05\u9664\u201d\u7b97\u6cd5\u4e00\u6837\uff0c\u4f46\u540e\u7eed\u6b65\u9aa4\u4e0d\u662f\u76f4\u63a5\u5bf9\u53ef\u56de\u6536\u5bf9\u8c61\u8fdb\u884c\u6e05\u7406\uff0c\u800c\u662f\u8ba9\u6240\u6709\u5b58\u6d3b\u7684\u5bf9\u8c61\u90fd\u5411\u4e00\u7aef\u79fb\u52a8\uff0c\u5f62\u6210\u4e00\u5757\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4,\u7136\u540e\u76f4\u63a5\u6e05\u7406\u6389\u7aef\u8fb9\u754c\u4ee5\u5916\u7684\u5185\u5b58"}),"\n",(0,s.jsx)(e.li,{children:"\u5206\u4ee3\u6536\u96c6\u7b97\u6cd5\uff08Generational Collection\uff09\uff0c\u628aJava\u5806\u5206\u4e3a\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\uff0c \u8fd9\u6837\u5c31\u53ef\u4ee5\u6839\u636e\u5404\u4e2a\u5e74\u4ee3\u7684\u7279\u70b9\u91c7\u7528\u6700\u9002\u5f53\u7684\u6536\u96c6\u7b97\u6cd5\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u8bf4\u4e00\u4e0b-jvm-\u6709\u54ea\u4e9b\u5783\u573e\u56de\u6536\u5668",children:"\u8bf4\u4e00\u4e0b JVM \u6709\u54ea\u4e9b\u5783\u573e\u56de\u6536\u5668\uff1f"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:l(98922).A+"",width:"770",height:"491"})}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u8bf4\u5783\u573e\u6536\u96c6\u7b97\u6cd5\u662f\u5185\u5b58\u56de\u6536\u7684\u65b9\u6cd5\u8bba\uff0c\u90a3\u4e48\u5783\u573e\u6536\u96c6\u5668\u5c31\u662f\u5185\u5b58\u56de\u6536\u7684\u5177\u4f53\u5b9e\u73b0\u3002\u4e0b\u56fe\u5c55\u793a\u4e86 7 \u79cd\u4f5c\u7528\u4e8e\u4e0d\u540c\u5206\u4ee3\u7684\u6536\u96c6\u5668:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u65b0\u751f\u4ee3\u6536\u96c6\u5668\uff1aSerial\u3001ParNew \u3001Parallel Scavenge"}),"\n",(0,s.jsx)(e.li,{children:"\u8001\u5e74\u4ee3\u6536\u96c6\u5668\uff1aCMS \u3001Serial Old\u3001Parallel Old"}),"\n",(0,s.jsx)(e.li,{children:"\u6574\u5806\u6536\u96c6\u5668\uff1aG1 \uff0cZGC (\u56e0\u4e3a\u4e0d\u6d89\u5e74\u4ee3\u4e0d\u5728\u56fe\u4e2d)\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u6bcf\u4e2a\u6536\u96c6\u5668\u7684\u7279\u70b9:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Serial\u6536\u96c6\u5668(\u590d\u5236\u7b97\u6cd5): \u65b0\u751f\u4ee3\u5355\u7ebf\u7a0b\u6536\u96c6\u5668\uff0c\u6807\u8bb0\u548c\u6e05\u7406\u90fd\u662f\u5355\u7ebf\u7a0b\uff0c\u4f18\u70b9\u662f\u7b80\u5355\u9ad8\u6548\uff1b"}),"\n",(0,s.jsx)(e.li,{children:"ParNew\u6536\u96c6\u5668 (\u590d\u5236\u7b97\u6cd5): \u65b0\u751f\u4ee3\u6536\u5e76\u884c\u96c6\u5668\uff0c\u5b9e\u9645\u4e0a\u662fSerial\u6536\u96c6\u5668\u7684\u591a\u7ebf\u7a0b\u7248\u672c\uff0c\u5728\u591a\u6838 CPU\u73af\u5883\u4e0b\u6709\u7740\u6bd4Serial\u66f4\u597d\u7684\u8868\u73b0\uff1b"}),"\n",(0,s.jsx)(e.li,{children:"Parallel Scavenge\u6536\u96c6\u5668 (\u590d\u5236\u7b97\u6cd5): \u65b0\u751f\u4ee3\u5e76\u884c\u6536\u96c6\u5668\uff0c\u8ffd\u6c42\u9ad8\u541e\u5410\u91cf\uff0c\u9ad8\u6548\u5229\u7528 CPU\u3002\u541e \u5410\u91cf = \u7528\u6237\u7ebf\u7a0b\u65f6\u95f4/(\u7528\u6237\u7ebf\u7a0b\u65f6\u95f4+GC\u7ebf\u7a0b\u65f6\u95f4)\uff0c\u9ad8\u541e\u5410\u91cf\u53ef\u4ee5\u9ad8\u6548\u7387\u7684\u5229\u7528CPU\u65f6\u95f4\uff0c\u5c3d\u5feb\u5b8c\u6210\u7a0b\u5e8f\u7684\u8fd0\u7b97\u4efb\u52a1\uff0c\u9002\u5408\u540e\u53f0\u5e94\u7528\u7b49\u5bf9\u4ea4\u4e92\u76f8\u5e94\u8981\u6c42\u4e0d\u9ad8\u7684\u573a\u666f\uff1b"}),"\n",(0,s.jsx)(e.li,{children:"Serial Old\u6536\u96c6\u5668 (\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5): \u8001\u5e74\u4ee3\u5355\u7ebf\u7a0b\u6536\u96c6\u5668\uff0cSerial\u6536\u96c6\u5668\u7684\u8001\u5e74\u4ee3\u7248\u672c\uff1b"}),"\n",(0,s.jsx)(e.li,{children:"Parallel Old\u6536\u96c6\u5668 (\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5)\uff1a \u8001\u5e74\u4ee3\u5e76\u884c\u6536\u96c6\u5668\uff0c\u541e\u5410\u91cf\u4f18\u5148\uff0cParallel Scavenge\u6536 \u96c6\u5668\u7684\u8001\u5e74\u4ee3\u7248\u672c\uff1b"}),"\n",(0,s.jsx)(e.li,{children:"CMS(Concurrent Mark Sweep)\u6536\u96c6\u5668\uff08\u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5\uff09\uff1a \u8001\u5e74\u4ee3\u5e76\u884c\u6536\u96c6\u5668\uff0c\u4ee5\u83b7\u53d6\u6700\u77ed\u56de\u6536\u505c\u987f\u65f6\u95f4\u4e3a\u76ee\u6807\u7684\u6536\u96c6\u5668\uff0c\u5177\u6709\u9ad8\u5e76\u53d1\u3001\u4f4e\u505c\u987f\u7684\u7279\u70b9\uff0c\u8ffd\u6c42\u6700\u77edGC\u56de\u6536\u505c\u987f\u65f6\u95f4\u3002"}),"\n",(0,s.jsxs)(e.li,{children:["G1(Garbage First)\u6536\u96c6\u5668 (\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5)\uff1a Java\u5806\u5e76\u884c\u6536\u96c6\u5668\uff0cG1\u6536\u96c6\u5668\u662fJDK1.7\u63d0\u4f9b\u7684\u4e00\u4e2a\u65b0\u6536\u96c6\u5668\uff0cG1\u6536\u96c6\u5668\u57fa\u4e8e\u201c\u6807\u8bb0-\u6574\u7406\u201d\u7b97\u6cd5\u5b9e\u73b0\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u4f1a\u4ea7\u751f\u5185\u5b58\u788e\u7247\u3002\u6b64\u5916\uff0cG1\u6536\u96c6\u5668\u4e0d\u540c\u4e8e\u4e4b\u524d\u7684\u6536\u96c6\u5668\u7684\u4e00\u4e2a",(0,s.jsx)(e.strong,{children:"\u91cd\u8981\u7279\u70b9"}),"\u662f\uff1aG1\u56de\u6536\u7684\u8303\u56f4\u662f\u6574\u4e2aJava\u5806(\u5305\u62ec\u65b0\u751f\u4ee3\uff0c\u8001\u5e74\u4ee3)\uff0c\u800c\u524d\u516d\u79cd\u6536\u96c6\u5668\u56de\u6536\u7684\u8303\u56f4\u4ec5\u9650\u4e8e\u65b0\u751f\u4ee3\u6216\u8001\u5e74\u4ee3\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:["ZGC \uff08Z Garbage Collector\uff09\u662f\u4e00\u6b3e\u7531Oracle\u516c\u53f8\u7814\u53d1\u7684\uff0c\u4ee5\u4f4e\u5ef6\u8fdf\u4e3a\u9996\u8981\u76ee\u6807\u7684\u4e00\u6b3e\u5783\u573e\u6536 \u96c6\u5668\u3002\u5b83\u662f\u57fa\u4e8e\u52a8\u6001Region\u5185\u5b58\u5e03\u5c40\uff0c\uff08\u6682\u65f6\uff09\u4e0d\u8bbe\u5e74\u9f84\u5206\u4ee3\uff0c\u4f7f\u7528\u4e86\u8bfb\u5c4f\u969c\u3001\u67d3\u8272\u6307\u9488\u548c\u5185\u5b58\u591a\u91cd\u6620\u5c04\u7b49\u6280\u672f\u6765\u5b9e\u73b0\u53ef\u5e76\u53d1\u7684\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\u7684\u6536\u96c6\u5668\u3002\u5728JDK 11 \u65b0\u52a0\u5165\uff0c\u8fd8\u5728\u5b9e\u9a8c\u9636\u6bb5\uff0c\u4e3b\u8981\u7279\u70b9\u662f\uff1a\u56de\u6536TB\u7ea7\u5185\u5b58\uff08\u6700\u59274T\uff09\uff0c\u505c\u987f\u65f6\u95f4\u4e0d\u8d85\u8fc710ms\u3002",(0,s.jsx)(e.strong,{children:"\u4f18\u70b9"}),"\uff1a\u4f4e\u505c\u987f\uff0c\u9ad8\u541e\u5410 \u91cf\uff0cZGC \u6536\u96c6\u8fc7\u7a0b\u4e2d\u989d\u5916\u8017\u8d39\u7684\u5185\u5b58\u5c0f\u3002",(0,s.jsx)(e.strong,{children:"\u7f3a\u70b9"}),"\uff1a\u6d6e\u52a8\u5783\u573e\u76ee\u524d\u4f7f\u7528\u7684\u975e\u5e38\u5c11\uff0c\u771f\u6b63\u666e\u53ca\u8fd8\u662f\u9700\u8981\u5199\u65f6\u95f4\u7684\u3002"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u5982\u4f55\u9009\u62e9\u5783\u573e\u6536\u96c6\u5668",children:"\u5982\u4f55\u9009\u62e9\u5783\u573e\u6536\u96c6\u5668\uff1f"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5806\u5927\u5c0f\u4e0d\u662f\u5f88\u5927\uff08\u6bd4\u5982 100MB \uff09\uff0c\u9009\u62e9\u4e32\u884c\u6536\u96c6\u5668\u4e00\u822c\u662f\u6548\u7387\u6700\u9ad8\u7684\u3002 \u53c2\u6570\uff1a-XX:+UseSerialGC \u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u5e94\u7528\u8fd0\u884c\u5728\u5355\u6838\u7684\u673a\u5668\u4e0a\uff0c\u6216\u8005\u4f60\u7684\u865a\u62df\u673a\u6838\u6570\u53ea\u6709\u5355\u6838\uff0c\u9009\u62e9\u4e32\u884c\u6536\u96c6\u5668\u4f9d\u7136\u662f\u5408\u9002\u7684\uff0c\u8fd9\u65f6\u5019\u542f\u7528\u4e00\u4e9b\u5e76\u884c\u6536\u96c6\u5668\u6ca1\u6709\u4efb\u4f55\u6536\u76ca\u3002 \u53c2\u6570\uff1a-XX:+UseSerialGC \u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u5e94\u7528\u662f\u201c\u541e\u5410\u91cf\u201d\u4f18\u5148\u7684\uff0c\u5e76\u4e14\u5bf9\u8f83\u957f\u65f6\u95f4\u7684\u505c\u987f\u6ca1\u6709\u4ec0\u4e48\u7279\u522b\u7684\u8981\u6c42\u3002\u9009\u62e9\u5e76\u884c\u6536\u96c6 \u5668\u662f\u6bd4\u8f83\u597d\u7684\u3002 \u53c2\u6570\uff1a-XX:+UseParallelGC"}),"\n",(0,s.jsx)(e.li,{children:"\u5e94\u7528\u5bf9\u54cd\u5e94\u65f6\u95f4\u8981\u6c42\u8f83\u9ad8\uff0c\u60f3\u8981\u8f83\u5c11\u7684\u505c\u987f\u3002\u751a\u81f3 1 \u79d2\u7684\u505c\u987f\u90fd\u4f1a\u5f15\u8d77\u5927\u91cf\u7684\u8bf7\u6c42\u5931\u8d25\uff0c\u90a3\u4e48\u9009\u62e9G1 \u3001ZGC \u3001CMS \u90fd\u662f\u5408\u7406\u7684\u3002\u867d\u7136\u8fd9\u4e9b\u6536\u96c6\u5668\u7684 GC \u505c\u987f\u901a\u5e38\u90fd\u6bd4\u8f83\u77ed\uff0c\u4f46\u5b83\u9700\u8981\u4e00\u4e9b\u989d\u5916\u7684\u8d44\u6e90\u53bb\u5904\u7406\u8fd9\u4e9b\u5de5\u4f5c\uff0c\u901a\u5e38\u541e\u5410\u91cf\u4f1a\u4f4e\u4e00\u4e9b\u3002 \u53c2\u6570\uff1a -XX:+UseConcMarkSweepGC \u3001 -XX:+UseG1GC \u3001 -XX:+UseZGC\u7b49\u3002\r\n\u5e73\u5e38\u7684 Web \u670d\u52a1\u5668\uff0c\u90fd\u662f\u5bf9\u54cd\u5e94\u6027\u8981\u6c42\u975e\u5e38\u9ad8\u7684\u3002\u9009\u62e9\u6027\u5176\u5b9e\u5c31\u96c6\u4e2d\u5728 CMS \u3001G1 \u3001ZGC \u4e0a\u3002\u800c\u5bf9\u4e8e\u67d0\u4e9b\u5b9a\u65f6\u4efb\u52a1\uff0c\u4f7f\u7528\u5e76\u884c\u6536\u96c6\u5668\uff0c\u662f\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u9009\u62e9\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u8c03\u4f18",children:"\u8c03\u4f18"}),"\n",(0,s.jsx)(e.h3,{id:"\u8c03\u4f18\u547d\u4ee4\u6709\u54ea\u4e9b",children:"\u8c03\u4f18\u547d\u4ee4\u6709\u54ea\u4e9b\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"Sun JDK\u76d1\u63a7\u548c\u6545\u969c\u5904\u7406\u547d\u4ee4\u6709jps jstat jmap jhat jstack jinfo"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"jps\uff0cJVM Process Status Tool,\u663e\u793a\u6307\u5b9a\u7cfb\u7edf\u5185\u6240\u6709\u7684HotSpot\u865a\u62df\u673a\u8fdb\u7a0b\u3002"}),"\n",(0,s.jsx)(e.li,{children:"jstat\uff0cJVM statistics Monitoring\u662f\u7528\u4e8e\u76d1\u89c6\u865a\u62df\u673a\u8fd0\u884c\u65f6\u72b6\u6001\u4fe1\u606f\u7684\u547d\u4ee4\uff0c\u5b83\u53ef\u4ee5\u663e\u793a\u51fa\u865a\u62df \u673a\u8fdb\u7a0b\u4e2d\u7684\u7c7b\u88c5\u8f7d\u3001\u5185\u5b58\u3001\u5783\u573e\u6536\u96c6\u3001JIT\u7f16\u8bd1\u7b49\u8fd0\u884c\u6570\u636e\u3002"}),"\n",(0,s.jsx)(e.li,{children:"jmap\uff0cJVM Memory Map\u547d\u4ee4\u7528\u4e8e\u751f\u6210heap dump\u6587\u4ef6"}),"\n",(0,s.jsx)(e.li,{children:"jhat\uff0cJVM Heap Analysis Tool\u547d\u4ee4\u662f\u4e0ejmap\u642d\u914d\u4f7f\u7528\uff0c\u7528\u6765\u5206\u6790jmap\u751f\u6210\u7684dump\uff0cjhat\u5185 \u7f6e\u4e86\u4e00\u4e2a\u5fae\u578b\u7684HTTP/HTML\u670d\u52a1\u5668\uff0c\u751f\u6210dump\u7684\u5206\u6790\u7ed3\u679c\u540e\uff0c\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u67e5\u770b"}),"\n",(0,s.jsx)(e.li,{children:"jstack\uff0c\u7528\u4e8e\u751f\u6210java\u865a\u62df\u673a\u5f53\u524d\u65f6\u523b\u7684\u7ebf\u7a0b\u5feb\u7167\u3002"}),"\n",(0,s.jsx)(e.li,{children:"jinfo\uff0cJVM Configuration info \u8fd9\u4e2a\u547d\u4ee4\u4f5c\u7528\u662f\u5b9e\u65f6\u67e5\u770b\u548c\u8c03\u6574\u865a\u62df\u673a\u8fd0\u884c\u53c2\u6570\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u5e38\u89c1\u8c03\u4f18\u5de5\u5177\u6709\u54ea\u4e9b",children:"\u5e38\u89c1\u8c03\u4f18\u5de5\u5177\u6709\u54ea\u4e9b"}),"\n",(0,s.jsx)(e.p,{children:"\u5e38\u7528\u8c03\u4f18\u5de5\u5177\u5206\u4e3a\u4e24\u7c7b,jdk\u81ea\u5e26\u76d1\u63a7\u5de5\u5177\uff1ajconsole\u548cjvisualvm\uff0c\u7b2c\u4e09\u65b9\u6709\uff1aMAT(Memory Analyzer Tool)\u3001GChisto\u3002"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"jconsole\uff0cJava Monitoring and Management Console\u662f\u4ecejava5\u5f00\u59cb\uff0c\u5728JDK\u4e2d\u81ea\u5e26\u7684java\u76d1\u63a7\u548c\u7ba1\u7406\u63a7\u5236\u53f0\uff0c\u7528\u4e8e\u5bf9JVM\u4e2d\u5185\u5b58\uff0c\u7ebf\u7a0b\u548c\u7c7b\u7b49\u7684\u76d1\u63a7"}),"\n",(0,s.jsx)(e.li,{children:"jvisualvm\uff0cjdk\u81ea\u5e26\u5168\u80fd\u5de5\u5177\uff0c\u53ef\u4ee5\u5206\u6790\u5185\u5b58\u5feb\u7167\u3001\u7ebf\u7a0b\u5feb\u7167\uff1b\u76d1\u63a7\u5185\u5b58\u53d8\u5316\u3001GC\u53d8\u5316\u7b49\u3002"}),"\n",(0,s.jsx)(e.li,{children:"MAT\uff0cMemory Analyzer Tool\uff0c\u4e00\u4e2a\u57fa\u4e8eEclipse\u7684\u5185\u5b58\u5206\u6790\u5de5\u5177\uff0c\u662f\u4e00\u4e2a\u5feb\u901f\u3001\u529f\u80fd\u4e30\u5bcc\u7684 Java heap\u5206\u6790\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u67e5\u627e\u5185\u5b58\u6cc4\u6f0f\u548c\u51cf\u5c11\u5185\u5b58\u6d88\u8017"}),"\n",(0,s.jsx)(e.li,{children:"GChisto\uff0c\u4e00\u6b3e\u4e13\u4e1a\u5206\u6790gc\u65e5\u5fd7\u7684\u5de5\u5177"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u4f60\u77e5\u9053\u54ea\u4e9bjvm\u6027\u80fd\u8c03\u4f18\u53c2\u6570\u7b80\u5355\u7248\u56de\u7b54",children:"\u4f60\u77e5\u9053\u54ea\u4e9bJVM\u6027\u80fd\u8c03\u4f18\u53c2\u6570\uff1f\uff08\u7b80\u5355\u7248\u56de\u7b54\uff09"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u8bbe\u5b9a\u5806\u5185\u5b58\u5927\u5c0f -Xmx\uff1a\u5806\u5185\u5b58\u6700\u5927\u9650\u5236\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u8bbe\u5b9a\u65b0\u751f\u4ee3\u5927\u5c0f\u3002 \u65b0\u751f\u4ee3\u4e0d\u5b9c\u592a\u5c0f\uff0c\u5426\u5219\u4f1a\u6709\u5927\u91cf\u5bf9\u8c61\u6d8c\u5165\u8001\u5e74\u4ee3\r\n-XX:NewSize\uff1a\u65b0\u751f\u4ee3\u5927\u5c0f\r\n-XX:NewRatio \u65b0\u751f\u4ee3\u548c\u8001\u751f\u4ee3\u5360\u6bd4\r\n-XX:SurvivorRatio\uff1a\u4f0a\u7538\u56ed\u7a7a\u95f4\u548c\u5e78\u5b58\u8005\u7a7a\u95f4\u7684\u5360\u6bd4"}),"\n",(0,s.jsx)(e.li,{children:"\u8bbe\u5b9a\u5783\u573e\u56de\u6536\u5668\r\n\u5e74\u8f7b\u4ee3\u7528 -XX:+UseParNewGC\r\n\u5e74\u8001\u4ee3\u7528-XX:+UseConcMarkSweepGC"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u5bf9\u8c61\u4e00\u5b9a\u5206\u914d\u5728\u5806\u4e2d\u5417\u6709\u6ca1\u6709\u4e86\u89e3\u9003\u9038\u5206\u6790\u6280\u672f",children:"\u5bf9\u8c61\u4e00\u5b9a\u5206\u914d\u5728\u5806\u4e2d\u5417\uff1f\u6709\u6ca1\u6709\u4e86\u89e3\u9003\u9038\u5206\u6790\u6280\u672f\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5bf9\u8c61\u4e00\u5b9a\u5206\u914d\u5728\u5806\u4e2d\u5417\uff1f"})," \u4e0d\u4e00\u5b9a\u7684\uff0cJVM\u901a\u8fc7",(0,s.jsx)(e.strong,{children:"\u9003\u9038\u5206\u6790"}),"\uff0c\u90a3\u4e9b\u9003\u4e0d\u51fa\u65b9\u6cd5\u7684\u5bf9\u8c61\u4f1a\u5728\u6808\u4e0a\u5206\u914d\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["\u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u7684\u6307\u9488\u88ab\u591a\u4e2a\u65b9\u6cd5\u6216\u8005\u7ebf\u7a0b\u5f15\u7528\u65f6\uff0c\u90a3\u4e48\u5c31\u79f0\u8fd9\u4e2a\u5bf9\u8c61\u7684\u6307\u9488\u53d1\u751f\u4e86",(0,s.jsx)(e.strong,{children:"\u9003\u9038"}),"\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u4ec0\u4e48\u662f\u9003\u9038\u5206\u6790\uff1f"})," \u9003\u9038\u5206\u6790(Escape Analysis)\uff0c\u662f\u4e00\u79cd\u53ef\u4ee5\u6709\u6548\u51cf\u5c11Java \u7a0b\u5e8f\u4e2d\u540c\u6b65\u8d1f\u8f7d\u548c\u5185\u5b58\u5806\u5206\u914d\u538b\u529b\u7684\u8de8\u51fd\u6570\u5168\u5c40\u6570\u636e\u6d41\u5206\u6790\u7b97\u6cd5\u3002\u901a\u8fc7\u9003\u9038\u5206\u6790\uff0cJava Hotspot\u7f16\u8bd1\u5668\u80fd\u591f\u5206\u6790\u51fa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u7684\u5f15\u7528\u7684\u4f7f\u7528\u8303\u56f4\uff0c\u4ece\u800c\u51b3\u5b9a\u662f\u5426\u8981\u5c06\u8fd9\u4e2a\u5bf9\u8c61\u5206\u914d\u5230\u5806\u4e0a\u3002"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u9003\u9038\u5206\u6790\u7684\u597d\u5904"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6808\u4e0a\u5206\u914d\uff0c\u53ef\u4ee5\u964d\u4f4e\u5783\u573e\u6536\u96c6\u5668\u8fd0\u884c\u7684\u9891\u7387\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u540c\u6b65\u6d88\u9664\uff0c\u5982\u679c\u53d1\u73b0\u67d0\u4e2a\u5bf9\u8c61\u53ea\u80fd\u4ece\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u8bbf\u95ee\uff0c\u90a3\u4e48\u5728\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u7684\u64cd\u4f5c\u53ef\u4ee5\u4e0d\u9700\u8981\u540c\u6b65\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u6807\u91cf\u66ff\u6362\uff0c\u628a\u5bf9\u8c61\u5206\u89e3\u6210\u4e00\u4e2a\u4e2a\u57fa\u672c\u7c7b\u578b\uff0c\u5e76\u4e14\u5185\u5b58\u5206\u914d\u4e0d\u518d\u662f\u5206\u914d\u5728\u5806\u4e0a\uff0c\u800c\u662f\u5206\u914d\u5728\u6808\u4e0a\u3002\u8fd9\u6837\u7684\u597d\u5904\u6709\uff0c\u4e00\u3001\u51cf\u5c11\u5185\u5b58\u4f7f\u7528\uff0c\u56e0\u4e3a\u4e0d\u7528\u751f\u6210\u5bf9\u8c61\u5934\u3002\u4e8c\u3001\u7a0b\u5e8f\u5185\u5b58\u56de\u6536\u6548\u7387\u9ad8\uff0c\u5e76 \u4e14GC\u9891\u7387\u4e5f\u4f1a\u51cf\u5c11\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u865a\u62df\u673a\u4e3a\u4ec0\u4e48\u4f7f\u7528\u5143\u7a7a\u95f4\u66ff\u6362\u4e86\u6c38\u4e45\u4ee3",children:"\u865a\u62df\u673a\u4e3a\u4ec0\u4e48\u4f7f\u7528\u5143\u7a7a\u95f4\u66ff\u6362\u4e86\u6c38\u4e45\u4ee3\uff1f"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"HotSpot \u662f Java \u865a\u62df\u673a\uff08JVM\uff09\u7684\u4e00\u79cd\u9ad8\u6027\u80fd\u5b9e\u73b0\uff0c\u7531 Sun Microsystems \u5f00\u53d1\uff08\u73b0\u5c5e Oracle\uff09\uff0c\u76ee\u524d\u662f OpenJDK \u548c Oracle JDK \u7684\u9ed8\u8ba4\u865a\u62df\u673a"}),"\n"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u65b9\u6cd5\u533a:\u548c\u5806\u4e00\u6837\uff0c\u662f\u5404\u4e2a\u7ebf\u7a0b\u5171\u4eab\u7684\u5185\u5b58\u533a\u57df\uff0c\u5b83\u7528\u4e8e\u5b58\u50a8\u5df2\u88ab\u865a\u62df\u673a\u52a0\u8f7d\u7684\u7c7b\u4fe1\u606f\u3001\u5e38\u91cf\u3001 \u9759\u6001\u53d8\u91cf\u3001\u5373\u65f6\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u7b49\u6570\u636e\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u6c38\u4e45\u4ee3:\u5982\u679c\u5728HotSpot\u865a\u62df\u673a\u4e0a\u5f00\u53d1\u3001\u90e8\u7f72\uff0c\u628a\u65b9\u6cd5\u533a\u79f0\u4f5c\u6c38\u4e45\u4ee3\u3002\u53ef\u4ee5\u8bf4\u65b9\u6cd5\u533a\u662f\u89c4\u8303\uff0c\u6c38\u4e45\u4ee3\u662fHotspot\u9488\u5bf9\u8be5\u89c4\u8303\u8fdb\u884c\u7684\u5b9e\u73b0\u3002\u5728Java7\u53ca\u4ee5\u524d\u7684\u7248\u672c\uff0c\u65b9\u6cd5\u533a\u90fd\u662f\u6c38\u4e45\u4ee3\u5b9e\u73b0\u7684\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u5143\u7a7a\u95f4:\u5bf9\u4e8eJava8\uff0cHotSpots\u53d6\u6d88\u4e86\u6c38\u4e45\u4ee3\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\u5143\u7a7a\u95f4(Metaspace)\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5c31\u662f\u65b9\u6cd5\u533a\u8fd8\u662f\u5728\u7684\uff0c\u53ea\u662f\u5b9e\u73b0\u53d8\u4e86\uff0c\u4ece\u6c38\u4e45\u4ee3\u53d8\u4e3a\u4e86\u5143\u7a7a\u95f4."}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u6c38\u4e45\u4ee3\u7684\u65b9\u6cd5\u533a\uff0c\u548c\u5806\u5728\u7269\u7406\u5185\u5b58\u4e0a\u662f\u8fde\u7eed\u7684\u3002 \u5bf9\u4e8e",(0,s.jsx)(e.strong,{children:"\u6c38\u4e45\u4ee3"}),"\uff0c\u5982\u679c\u52a8\u6001\u751f\u6210\u5f88\u591aclass\u7684\u8bdd\uff0c\u5c31\u5f88\u53ef\u80fd\u51fa\u73b0",(0,s.jsx)(e.strong,{children:"java.lang.OutOfMemoryError: PermGen space\u9519\u8bef"}),"\uff0c\u56e0\u4e3a\u6c38\u4e45\u4ee3\u7a7a\u95f4\u914d\u7f6e\u6709\u9650\u561b\u3002\u6700\u5178\u578b\u7684\u573a\u666f\u662f\uff0c\u5728web\u5f00\u53d1\u6bd4\u8f83\u591ajsp\u9875\u9762\u7684\u65f6\u5019\u3002 JDK8\u4e4b\u540e\uff0c\u65b9\u6cd5\u533a\u5b58\u5728\u4e8e\u5143\u7a7a\u95f4(Metaspace)\u3002\u7269\u7406\u5185\u5b58\u4e0d\u518d\u4e0e\u5806\u8fde\u7eed\uff0c\u800c\u662f\u76f4\u63a5\u5b58\u5728\u4e8e\u672c\u5730\u5185\u5b58\u4e2d\uff0c\u7406\u8bba\u4e0a\u673a\u5668",(0,s.jsx)(e.strong,{children:"\u5185\u5b58\u6709\u591a\u5927\uff0c\u5143\u7a7a\u95f4\u5c31\u6709\u591a\u5927"}),"\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u56e0\u6b64,\u8868\u9762\u4e0a\u770b\u662f\u4e3a\u4e86\u907f\u514dOOM\u5f02\u5e38\u3002\u56e0\u4e3a\u901a\u5e38\u4f7f\u7528PermSize\u548cMaxPermSize\u8bbe\u7f6e\u6c38\u4e45\u4ee3\u7684\u5927\u5c0f\u5c31\u51b3\u5b9a\u4e86\u6c38\u4e45\u4ee3\u7684\u4e0a\u9650\uff0c\u4f46\u662f\u4e0d\u662f\u603b\u80fd\u77e5\u9053\u5e94\u8be5\u8bbe\u7f6e\u4e3a\u591a\u5927\u5408\u9002, \u5982\u679c\u4f7f\u7528\u9ed8\u8ba4\u503c\u5c31\u5f88\u5bb9\u6613\u9047\u5230 OOM \u9519\u8bef\u3002\u800c\u4f7f\u7528\u5143\u7a7a\u95f4\u7684\u8bdd\uff0c\u52a0\u8f7d\u591a\u5c11\u7c7b\u7684\u5143\u6570\u636e\u5c31\u4e0d\u518d\u7531MaxPermSize\u63a7\u5236, \u800c\u7531\u7cfb\u7edf\u7684\u5b9e\u9645\u53ef\u7528\u7a7a\u95f4\u6765\u63a7\u5236\u5566\u3002"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u6c38\u4e45\u4ee3"}),"\u901a\u8fc7\u4e24\u4e2a\u53c2\u6570\u914d\u7f6e\u5927\u5c0f"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"-XX:PremSize\uff1a\u8bbe\u7f6e\u6c38\u4e45\u4ee3\u7684\u521d\u59cb\u5927\u5c0f"}),"\n",(0,s.jsx)(e.li,{children:"-XX:MaxPermSize\uff1a\u8bbe\u7f6e\u6c38\u4e45\u4ee3\u7684\u6700\u5927\u503c\uff0c\u9ed8\u8ba4\u662f64M"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u8bbe\u7f6e\u5143\u7a7a\u95f4\u7684\u5927\u5c0f\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"-XX:MetaspaceSize\uff0c\u521d\u59cb\u7a7a\u95f4\u5927\u5c0f\uff0c\u8fbe\u5230\u8be5\u503c\u5c31\u4f1a\u89e6\u53d1\u5783\u573e\u6536\u96c6\u8fdb\u884c\u7c7b\u578b\u5378\u8f7d\uff0c\u540c\u65f6GC\u4f1a\u5bf9\u8be5\u503c\u8fdb\u884c\u8c03\u6574\uff1a\u5982\u679c\u91ca\u653e\u4e86\u5927\u91cf\u7684\u7a7a\u95f4\uff0c\u5c31\u9002\u5f53\u964d\u4f4e\u8be5\u503c\uff1b\u5982\u679c\u91ca\u653e\u4e86\u5f88\u5c11\u7684\u7a7a\u95f4\uff0c\u90a3\u4e48\u5728\u4e0d\u8d85\u8fc7MaxMetaspaceSize\u65f6\uff0c\u9002\u5f53\u63d0\u9ad8\u8be5\u503c\u3002"}),"\n",(0,s.jsx)(e.li,{children:"-XX:MaxMetaspaceSize\uff0c\u6700\u5927\u7a7a\u95f4\uff0c\u9ed8\u8ba4\u662f\u6ca1\u6709\u9650\u5236\u7684\u3002"}),"\n",(0,s.jsx)(e.li,{children:"-XX:MinMetaspaceFreeRatio\uff0c\u5728GC\u4e4b\u540e\uff0c\u6700\u5c0f\u7684Metaspace\u5269\u4f59\u7a7a\u95f4\u5bb9\u91cf\u7684\u767e\u5206\u6bd4\uff0c\u51cf\u5c11\u4e3a\u5206\u914d\u7a7a\u95f4\u6240\u5bfc\u81f4\u7684\u5783\u573e\u6536\u96c6"}),"\n",(0,s.jsx)(e.li,{children:"-XX:MaxMetaspaceFreeRatio\uff0c\u5728GC\u4e4b\u540e\uff0c\u6700\u5927\u7684Metaspace\u5269\u4f59\u7a7a\u95f4\u5bb9\u91cf\u7684\u767e\u5206\u6bd4\uff0c\u51cf\u5c11\u4e3a\u91ca\u653e\u7a7a\u95f4\u6240\u5bfc\u81f4\u7684\u5783\u573e\u6536\u96c6"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u4ec0\u4e48\u662f-stop-the-world---\u4ec0\u4e48\u662foopmap\u4ec0\u4e48\u662f\u5b89\u5168\u70b9",children:"\u4ec0\u4e48\u662f Stop The World ?  \u4ec0\u4e48\u662fOopMap\uff1f\u4ec0\u4e48\u662f\u5b89\u5168\u70b9\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:["\u8fdb\u884c\u5783\u573e\u56de\u6536\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u6d89\u53ca\u5bf9\u8c61\u7684\u79fb\u52a8\u3002\u4e3a\u4e86\u4fdd\u8bc1\u5bf9\u8c61\u5f15\u7528\u66f4\u65b0\u7684\u6b63\u786e\u6027\uff0c\u5fc5\u987b\u6682\u505c\u6240\u6709\u7684\u7528\u6237\u7ebf\u7a0b\uff0c\u50cf\u8fd9\u6837\u7684\u505c\u987f\uff0c\u865a\u62df\u673a\u8bbe\u8ba1\u8005\u5f62\u8c61\u63cf\u8ff0\u4e3a",(0,s.jsx)(e.strong,{children:"Stop The World"}),"\u3002\u4e5f\u7b80\u79f0\u4e3aSTW\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["\u5728HotSpot\u4e2d\uff0c\u6709\u4e2a\u6570\u636e\u7ed3\u6784\uff08\u6620\u5c04\u8868\uff09\u79f0\u4e3a",(0,s.jsx)(e.strong,{children:"OopMap"}),"\u3002\u4e00\u65e6\u7c7b\u52a0\u8f7d\u52a8\u4f5c\u5b8c\u6210\u7684\u65f6\u5019\uff0cHotSpot\u5c31\u4f1a\u628a\u5bf9\u8c61\u5185\u4ec0\u4e48\u504f\u79fb\u91cf\u4e0a\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u6570\u636e\u8ba1\u7b97\u51fa\u6765\uff0c\u8bb0\u5f55\u5230OopMap\u3002\u5728\u5373\u65f6\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u4f1a\u5728",(0,s.jsx)(e.strong,{children:"\u7279\u5b9a\u7684\u4f4d\u7f6e"}),"\u751f\u6210 OopMap\uff0c\u8bb0\u5f55\u4e0b\u6808\u4e0a\u548c\u5bc4\u5b58\u5668\u91cc\u54ea\u4e9b\u4f4d\u7f6e\u662f\u5f15\u7528\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u8fd9\u4e9b\u7279\u5b9a\u7684\u4f4d\u7f6e\u4e3b\u8981\u5728\uff1a"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u5faa\u73af\u7684\u672b\u5c3e\uff08\u975e counted \u5faa\u73af\uff09"}),"\n",(0,s.jsx)(e.li,{children:"\u65b9\u6cd5\u4e34\u8fd4\u56de\u524d / \u8c03\u7528\u65b9\u6cd5\u7684call\u6307\u4ee4\u540e"}),"\n",(0,s.jsx)(e.li,{children:"\u53ef\u80fd\u629b\u5f02\u5e38\u7684\u4f4d\u7f6e"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u8fd9\u4e9b\u4f4d\u7f6e\u5c31\u53eb\u4f5c\u300c\u5b89\u5168\u70b9(safepoint)\u300d \u7528\u6237\u7a0b\u5e8f\u6267\u884c\u65f6\u5e76\u975e\u5728\u4ee3\u7801\u6307\u4ee4\u6d41\u7684\u4efb\u610f\u4f4d\u7f6e\u90fd\u80fd\u591f\u5728\u505c\u987f\u4e0b\u6765\u5f00\u59cbGC\uff0c\u800c\u662f\u5fc5\u987b\u662f\u6267\u884c\u5230\u5b89\u5168\u70b9\u624d\u80fd\u591f\u6682\u505c\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u672a\u5b8c\u5f85\u7eed..."})]})}function o(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(j,{...n})}):j(n)}},97744:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/20250709_171125_359-d2a526dcae0ddfbef303901e4ce3a0dc.png"},2207:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/20250709_235338_942-7b9004a48b5fea0bb790aee5390caaa1.png"},11677:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/20250710_003751_216-5ec77326a32532727c73ecfebc1261d3.png"},21340:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/20250710_005111_738-56032868b674fa4ba2c11545ebd241fb.png"},31139:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/20250710_100805_076-02a5716e167b381ea325475c2c617200.png"},91289:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/20250710_102519_816-64efb35bf4d76a0a085a10c3e6364a87.png"},2269:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/20250710_102842_413-948ef66471bc74b58e8b8c3a9c8a18d7.png"},36351:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/20250710_104935_308-ff121e54779046eb64ab0071d592df19.png"},47787:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/PixPin_2025-07-11_10-55-23-12deb85b74ea314c7a5d8e1914feedfa.png"},73724:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/PixPin_2025-07-11_11-04-05-dd047eaeba73686863f82fde1afc94c3.png"},98922:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/PixPin_2025-07-11_11-14-20-cf06856363301fee3441131ad0fdc3e0.png"},48241:(n,e,l)=>{l.d(e,{A:()=>i});const i=l.p+"assets/images/PixPin_2025-07-11_14-20-43-b9ff6a1c3424db18b0ccea17ea82a4ed.png"},28453:(n,e,l)=>{l.d(e,{R:()=>a,x:()=>d});var i=l(96540);const s={},r=i.createContext(s);function a(n){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);