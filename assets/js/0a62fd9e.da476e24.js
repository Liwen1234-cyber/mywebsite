"use strict";(self.webpackChunkmybase=self.webpackChunkmybase||[]).push([[33382],{33343:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>r,frontMatter:()=>l,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u547d\u4ee4","title":"\u8bbe\u8ba1\u6a21\u5f0f - \u547d\u4ee4","description":"2. \u547d\u4ee4\uff08Command\uff09","source":"@site/docs/\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u547d\u4ee4.md","sourceDirName":"\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840","slug":"/\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u547d\u4ee4","permalink":"/\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u547d\u4ee4","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var t=i(74848),s=i(28453);const l={},o=void 0,c={},d=[{value:"2. \u547d\u4ee4\uff08Command\uff09",id:"2-\u547d\u4ee4command",level:2},{value:"Intent",id:"intent",level:3},{value:"Class Diagram",id:"class-diagram",level:3},{value:"Implementation",id:"implementation",level:3},{value:"JDK",id:"jdk",level:3}];function m(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"2-\u547d\u4ee4command",children:"2. \u547d\u4ee4\uff08Command\uff09"}),"\n",(0,t.jsx)(e.h3,{id:"intent",children:"Intent"}),"\n",(0,t.jsx)(e.p,{children:"\u5c06\u547d\u4ee4\u5c01\u88c5\u6210\u5bf9\u8c61\u4e2d\uff0c\u5177\u6709\u4ee5\u4e0b\u4f5c\u7528\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528\u547d\u4ee4\u6765\u53c2\u6570\u5316\u5176\u5b83\u5bf9\u8c61"}),"\n",(0,t.jsx)(e.li,{children:"\u5c06\u547d\u4ee4\u653e\u5165\u961f\u5217\u4e2d\u8fdb\u884c\u6392\u961f"}),"\n",(0,t.jsx)(e.li,{children:"\u5c06\u547d\u4ee4\u7684\u64cd\u4f5c\u8bb0\u5f55\u5230\u65e5\u5fd7\u4e2d"}),"\n",(0,t.jsx)(e.li,{children:"\u652f\u6301\u53ef\u64a4\u9500\u7684\u64cd\u4f5c"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"class-diagram",children:"Class Diagram"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Command\uff1a\u547d\u4ee4"}),"\n",(0,t.jsx)(e.li,{children:"Receiver\uff1a\u547d\u4ee4\u63a5\u6536\u8005\uff0c\u4e5f\u5c31\u662f\u547d\u4ee4\u771f\u6b63\u7684\u6267\u884c\u8005"}),"\n",(0,t.jsx)(e.li,{children:"Invoker\uff1a\u901a\u8fc7\u5b83\u6765\u8c03\u7528\u547d\u4ee4"}),"\n",(0,t.jsx)(e.li,{children:"Client\uff1a\u53ef\u4ee5\u8bbe\u7f6e\u547d\u4ee4\u4e0e\u547d\u4ee4\u7684\u63a5\u6536\u8005"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:i(75112).A+"",width:"874",height:"436"})}),"\n",(0,t.jsx)(e.h3,{id:"implementation",children:"Implementation"}),"\n",(0,t.jsx)(e.p,{children:"\u8bbe\u8ba1\u4e00\u4e2a\u9065\u63a7\u5668\uff0c\u53ef\u4ee5\u63a7\u5236\u7535\u706f\u5f00\u5173\u3002"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:i(15602).A+"",width:"866",height:"702"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public interface Command {\n    void execute();\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public class LightOnCommand implements Command {\n    Light light;\n\n    public LightOnCommand(Light light) {\n        this.light = light;\n    }\n\n    @Override\n    public void execute() {\n        light.on();\n    }\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public class LightOffCommand implements Command {\n    Light light;\n\n    public LightOffCommand(Light light) {\n        this.light = light;\n    }\n\n    @Override\n    public void execute() {\n        light.off();\n    }\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public class Light {\n\n    public void on() {\n        System.out.println("Light is on!");\n    }\n\n    public void off() {\n        System.out.println("Light is off!");\n    }\n}\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"/**\n * \u9065\u63a7\u5668\n */\npublic class Invoker {\n    private Command[] onCommands;\n    private Command[] offCommands;\n    private final int slotNum = 7;\n\n    public Invoker() {\n        this.onCommands = new Command[slotNum];\n        this.offCommands = new Command[slotNum];\n    }\n\n    public void setOnCommand(Command command, int slot) {\n        onCommands[slot] = command;\n    }\n\n    public void setOffCommand(Command command, int slot) {\n        offCommands[slot] = command;\n    }\n\n    public void onButtonWasPushed(int slot) {\n        onCommands[slot].execute();\n    }\n\n    public void offButtonWasPushed(int slot) {\n        offCommands[slot].execute();\n    }\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public class Client {\n    public static void main(String[] args) {\n        Invoker invoker = new Invoker();\n        Light light = new Light();\n        Command lightOnCommand = new LightOnCommand(light);\n        Command lightOffCommand = new LightOffCommand(light);\n        invoker.setOnCommand(lightOnCommand, 0);\n        invoker.setOffCommand(lightOffCommand, 0);\n        invoker.onButtonWasPushed(0);\n        invoker.offButtonWasPushed(0);\n    }\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"jdk",children:"JDK"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"http://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html",children:"java.lang.Runnable"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/Netflix/Hystrix/wiki",children:"Netflix Hystrix"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"http://docs.oracle.com/javase/8/docs/api/javax/swing/Action.html",children:"javax.swing.Action"})}),"\n"]})]})}function r(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(m,{...n})}):m(n)}},75112:(n,e,i)=>{i.d(e,{A:()=>a});const a=i.p+"assets/images/c44a0342-f405-4f17-b750-e27cf4aadde2-92a9f0cf35fb40a68499a4c8c005bc97.png"},15602:(n,e,i)=>{i.d(e,{A:()=>a});const a=i.p+"assets/images/e6bded8e-41a0-489a-88a6-638e88ab7666-3e7cab6b2a792b4934ae89a9f5ae786c.jpg"},28453:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>o});var a=i(96540);const t={},s=a.createContext(t);function l(n){const e=a.useContext(s);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),a.createElement(s.Provider,{value:e},n.children)}}}]);