"use strict";(self.webpackChunkmybase=self.webpackChunkmybase||[]).push([[58555],{14998:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>m,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u4ee3\u7406","title":"\u8bbe\u8ba1\u6a21\u5f0f - \u4ee3\u7406","description":"\u4ee3\u7406\uff08Proxy\uff09","source":"@site/docs/\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u4ee3\u7406.md","sourceDirName":"\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840","slug":"/\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u4ee3\u7406","permalink":"/\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u4ee3\u7406","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var a=i(74848),s=i(28453);const l={},r=void 0,o={},c=[{value:"\u4ee3\u7406\uff08Proxy\uff09",id:"\u4ee3\u7406proxy",level:2},{value:"Intent",id:"intent",level:3},{value:"Class Diagram",id:"class-diagram",level:3},{value:"Implementation",id:"implementation",level:3},{value:"JDK",id:"jdk",level:3}];function h(e){const n={code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"\u4ee3\u7406proxy",children:"\u4ee3\u7406\uff08Proxy\uff09"}),"\n",(0,a.jsx)(n.h3,{id:"intent",children:"Intent"}),"\n",(0,a.jsx)(n.p,{children:"\u63a7\u5236\u5bf9\u5176\u5b83\u5bf9\u8c61\u7684\u8bbf\u95ee\u3002"}),"\n",(0,a.jsx)(n.h3,{id:"class-diagram",children:"Class Diagram"}),"\n",(0,a.jsx)(n.p,{children:"\u4ee3\u7406\u6709\u4ee5\u4e0b\u56db\u7c7b\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u8fdc\u7a0b\u4ee3\u7406\uff08Remote Proxy\uff09\uff1a\u63a7\u5236\u5bf9\u8fdc\u7a0b\u5bf9\u8c61\uff08\u4e0d\u540c\u5730\u5740\u7a7a\u95f4\uff09\u7684\u8bbf\u95ee\uff0c\u5b83\u8d1f\u8d23\u5c06\u8bf7\u6c42\u53ca\u5176\u53c2\u6570\u8fdb\u884c\u7f16\u7801\uff0c\u5e76\u5411\u4e0d\u540c\u5730\u5740\u7a7a\u95f4\u4e2d\u7684\u5bf9\u8c61\u53d1\u9001\u5df2\u7ecf\u7f16\u7801\u7684\u8bf7\u6c42\u3002"}),"\n",(0,a.jsx)(n.li,{children:"\u865a\u62df\u4ee3\u7406\uff08Virtual Proxy\uff09\uff1a\u6839\u636e\u9700\u8981\u521b\u5efa\u5f00\u9500\u5f88\u5927\u7684\u5bf9\u8c61\uff0c\u5b83\u53ef\u4ee5\u7f13\u5b58\u5b9e\u4f53\u7684\u9644\u52a0\u4fe1\u606f\uff0c\u4ee5\u4fbf\u5ef6\u8fdf\u5bf9\u5b83\u7684\u8bbf\u95ee\uff0c\u4f8b\u5982\u5728\u7f51\u7ad9\u52a0\u8f7d\u4e00\u4e2a\u5f88\u5927\u56fe\u7247\u65f6\uff0c\u4e0d\u80fd\u9a6c\u4e0a\u5b8c\u6210\uff0c\u53ef\u4ee5\u7528\u865a\u62df\u4ee3\u7406\u7f13\u5b58\u56fe\u7247\u7684\u5927\u5c0f\u4fe1\u606f\uff0c\u7136\u540e\u751f\u6210\u4e00\u5f20\u4e34\u65f6\u56fe\u7247\u4ee3\u66ff\u539f\u59cb\u56fe\u7247\u3002"}),"\n",(0,a.jsx)(n.li,{children:"\u4fdd\u62a4\u4ee3\u7406\uff08Protection Proxy\uff09\uff1a\u6309\u6743\u9650\u63a7\u5236\u5bf9\u8c61\u7684\u8bbf\u95ee\uff0c\u5b83\u8d1f\u8d23\u68c0\u67e5\u8c03\u7528\u8005\u662f\u5426\u5177\u6709\u5b9e\u73b0\u4e00\u4e2a\u8bf7\u6c42\u6240\u5fc5\u987b\u7684\u8bbf\u95ee\u6743\u9650\u3002"}),"\n",(0,a.jsx)(n.li,{children:"\u667a\u80fd\u4ee3\u7406\uff08Smart Reference\uff09\uff1a\u53d6\u4ee3\u4e86\u7b80\u5355\u7684\u6307\u9488\uff0c\u5b83\u5728\u8bbf\u95ee\u5bf9\u8c61\u65f6\u6267\u884c\u4e00\u4e9b\u9644\u52a0\u64cd\u4f5c\uff1a\u8bb0\u5f55\u5bf9\u8c61\u7684\u5f15\u7528\u6b21\u6570\uff1b\u5f53\u7b2c\u4e00\u6b21\u5f15\u7528\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u5c06\u5b83\u88c5\u5165\u5185\u5b58\uff1b\u5728\u8bbf\u95ee\u4e00\u4e2a\u5b9e\u9645\u5bf9\u8c61\u524d\uff0c\u68c0\u67e5\u662f\u5426\u5df2\u7ecf\u9501\u5b9a\u4e86\u5b83\uff0c\u4ee5\u786e\u4fdd\u5176\u5b83\u5bf9\u8c61\u4e0d\u80fd\u6539\u53d8\u5b83\u3002"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:i(79518).A+"",width:"975",height:"397"})}),"\n",(0,a.jsx)(n.h3,{id:"implementation",children:"Implementation"}),"\n",(0,a.jsx)(n.p,{children:"\u4ee5\u4e0b\u662f\u4e00\u4e2a\u865a\u62df\u4ee3\u7406\u7684\u5b9e\u73b0\uff0c\u6a21\u62df\u4e86\u56fe\u7247\u5ef6\u8fdf\u52a0\u8f7d\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u4e0e\u56fe\u7247\u5927\u5c0f\u76f8\u7b49\u7684\u4e34\u65f6\u5185\u5bb9\u53bb\u66ff\u6362\u539f\u59cb\u56fe\u7247\uff0c\u76f4\u5230\u56fe\u7247\u52a0\u8f7d\u5b8c\u6210\u624d\u5c06\u56fe\u7247\u663e\u793a\u51fa\u6765\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"public interface Image {\n    void showImage();\n}\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class HighResolutionImage implements Image {\n\n    private URL imageURL;\n    private long startTime;\n    private int height;\n    private int width;\n\n    public int getHeight() {\n        return height;\n    }\n\n    public int getWidth() {\n        return width;\n    }\n\n    public HighResolutionImage(URL imageURL) {\n        this.imageURL = imageURL;\n        this.startTime = System.currentTimeMillis();\n        this.width = 600;\n        this.height = 600;\n    }\n\n    public boolean isLoad() {\n        // \u6a21\u62df\u56fe\u7247\u52a0\u8f7d\uff0c\u5ef6\u8fdf 3s \u52a0\u8f7d\u5b8c\u6210\n        long endTime = System.currentTimeMillis();\n        return endTime - startTime > 3000;\n    }\n\n    @Override\n    public void showImage() {\n        System.out.println("Real Image: " + imageURL);\n    }\n}\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class ImageProxy implements Image {\n\n    private HighResolutionImage highResolutionImage;\n\n    public ImageProxy(HighResolutionImage highResolutionImage) {\n        this.highResolutionImage = highResolutionImage;\n    }\n\n    @Override\n    public void showImage() {\n        while (!highResolutionImage.isLoad()) {\n            try {\n                System.out.println("Temp Image: " + highResolutionImage.getWidth() + " " + highResolutionImage.getHeight());\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        highResolutionImage.showImage();\n    }\n}\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class ImageViewer {\n\n    public static void main(String[] args) throws Exception {\n        String image = "http://image.jpg";\n        URL url = new URL(image);\n        HighResolutionImage highResolutionImage = new HighResolutionImage(url);\n        ImageProxy imageProxy = new ImageProxy(highResolutionImage);\n        imageProxy.showImage();\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"jdk",children:"JDK"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"java.lang.reflect.Proxy"}),"\n",(0,a.jsx)(n.li,{children:"RMI"}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},79518:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/9b679ff5-94c6-48a7-b9b7-2ea868e828ed-d4a6cc82160f1bf6701dcbb126f3759e.png"},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>r});var t=i(96540);const a={},s=t.createContext(a);function l(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);