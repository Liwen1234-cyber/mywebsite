"use strict";(self.webpackChunkmybase=self.webpackChunkmybase||[]).push([[14338],{2442:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>o,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"\u7801\u519c/\u82cd\u7a79\u5916\u5356/\u82cd\u7a79\u5916\u5356-day03","title":"\u82cd\u7a79\u5916\u5356-day03","description":"\u8bfe\u7a0b\u5185\u5bb9","source":"@site/docs/\u7801\u519c/\u82cd\u7a79\u5916\u5356/\u82cd\u7a79\u5916\u5356-day03.md","sourceDirName":"\u7801\u519c/\u82cd\u7a79\u5916\u5356","slug":"/\u7801\u519c/\u82cd\u7a79\u5916\u5356/\u82cd\u7a79\u5916\u5356-day03","permalink":"/\u7801\u519c/\u82cd\u7a79\u5916\u5356/\u82cd\u7a79\u5916\u5356-day03","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var s=r(74848),t=r(28453);const d={},a="\u82cd\u7a79\u5916\u5356-day03",l={},c=[{value:"\u8bfe\u7a0b\u5185\u5bb9",id:"\u8bfe\u7a0b\u5185\u5bb9",level:2},{value:"1. \u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145",id:"1-\u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145",level:2},{value:"1.1 \u95ee\u9898\u5206\u6790",id:"11-\u95ee\u9898\u5206\u6790",level:3},{value:"1.2 \u5b9e\u73b0\u601d\u8def",id:"12-\u5b9e\u73b0\u601d\u8def",level:3},{value:"1.3 \u4ee3\u7801\u5f00\u53d1",id:"13-\u4ee3\u7801\u5f00\u53d1",level:3},{value:"1.3.1 \u6b65\u9aa4\u4e00",id:"131-\u6b65\u9aa4\u4e00",level:4},{value:"1.3.2 \u6b65\u9aa4\u4e8c",id:"132-\u6b65\u9aa4\u4e8c",level:4},{value:"1.3.3 \u6b65\u9aa4\u4e09",id:"133-\u6b65\u9aa4\u4e09",level:4},{value:"1.4 \u529f\u80fd\u6d4b\u8bd5",id:"14-\u529f\u80fd\u6d4b\u8bd5",level:3},{value:"1.5 \u4ee3\u7801\u63d0\u4ea4",id:"15-\u4ee3\u7801\u63d0\u4ea4",level:3},{value:"2. \u65b0\u589e\u83dc\u54c1",id:"2-\u65b0\u589e\u83dc\u54c1",level:2},{value:"2.1 \u9700\u6c42\u5206\u6790\u4e0e\u8bbe\u8ba1",id:"21-\u9700\u6c42\u5206\u6790\u4e0e\u8bbe\u8ba1",level:3},{value:"2.1.1 \u4ea7\u54c1\u539f\u578b",id:"211-\u4ea7\u54c1\u539f\u578b",level:4},{value:"2.1.2 \u63a5\u53e3\u8bbe\u8ba1",id:"212-\u63a5\u53e3\u8bbe\u8ba1",level:4},{value:"2.1.3 \u8868\u8bbe\u8ba1",id:"213-\u8868\u8bbe\u8ba1",level:4},{value:"2.2 \u4ee3\u7801\u5f00\u53d1",id:"22-\u4ee3\u7801\u5f00\u53d1",level:3},{value:"2.2.1 \u6587\u4ef6\u4e0a\u4f20\u5b9e\u73b0",id:"221-\u6587\u4ef6\u4e0a\u4f20\u5b9e\u73b0",level:4},{value:"2.2.2 \u65b0\u589e\u83dc\u54c1\u5b9e\u73b0",id:"222-\u65b0\u589e\u83dc\u54c1\u5b9e\u73b0",level:4},{value:"2.3 \u529f\u80fd\u6d4b\u8bd5",id:"23-\u529f\u80fd\u6d4b\u8bd5",level:3},{value:"2.4\u4ee3\u7801\u63d0\u4ea4",id:"24\u4ee3\u7801\u63d0\u4ea4",level:3},{value:"3. \u83dc\u54c1\u5206\u9875\u67e5\u8be2",id:"3-\u83dc\u54c1\u5206\u9875\u67e5\u8be2",level:2},{value:"3.1 \u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1",id:"31-\u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1",level:3},{value:"3.1.1 \u4ea7\u54c1\u539f\u578b",id:"311-\u4ea7\u54c1\u539f\u578b",level:4},{value:"3.1.2 \u63a5\u53e3\u8bbe\u8ba1",id:"312-\u63a5\u53e3\u8bbe\u8ba1",level:4},{value:"3.2 \u4ee3\u7801\u5f00\u53d1",id:"32-\u4ee3\u7801\u5f00\u53d1",level:3},{value:"3.2.1 \u8bbe\u8ba1DTO\u7c7b",id:"321-\u8bbe\u8ba1dto\u7c7b",level:4},{value:"3.2.2 \u8bbe\u8ba1VO\u7c7b",id:"322-\u8bbe\u8ba1vo\u7c7b",level:4},{value:"3.2.3 Controller\u5c42",id:"323-controller\u5c42",level:4},{value:"3.2.4 Service\u5c42\u63a5\u53e3",id:"324-service\u5c42\u63a5\u53e3",level:4},{value:"3.2.5 Service\u5c42\u5b9e\u73b0\u7c7b",id:"325-service\u5c42\u5b9e\u73b0\u7c7b",level:4},{value:"3.2.6 Mapper\u5c42",id:"326-mapper\u5c42",level:4},{value:"3.3 \u529f\u80fd\u6d4b\u8bd5",id:"33-\u529f\u80fd\u6d4b\u8bd5",level:3},{value:"3.3.1 \u63a5\u53e3\u6587\u6863\u6d4b\u8bd5",id:"331-\u63a5\u53e3\u6587\u6863\u6d4b\u8bd5",level:4},{value:"3.3.2 \u524d\u540e\u7aef\u8054\u8c03\u6d4b\u8bd5",id:"332-\u524d\u540e\u7aef\u8054\u8c03\u6d4b\u8bd5",level:4},{value:"4. \u5220\u9664\u83dc\u54c1",id:"4-\u5220\u9664\u83dc\u54c1",level:2},{value:"4.1 \u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1",id:"41-\u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1",level:3},{value:"4.1.1 \u4ea7\u54c1\u539f\u578b",id:"411-\u4ea7\u54c1\u539f\u578b",level:4},{value:"4.1.2 \u63a5\u53e3\u8bbe\u8ba1",id:"412-\u63a5\u53e3\u8bbe\u8ba1",level:4},{value:"4.1.3 \u8868\u8bbe\u8ba1",id:"413-\u8868\u8bbe\u8ba1",level:4},{value:"4.2 \u4ee3\u7801\u5f00\u53d1",id:"42-\u4ee3\u7801\u5f00\u53d1",level:3},{value:"4.1.2 Controller\u5c42",id:"412-controller\u5c42",level:4},{value:"4.2.2 Service\u5c42\u63a5\u53e3",id:"422-service\u5c42\u63a5\u53e3",level:4},{value:"4.2.3 Service\u5c42\u5b9e\u73b0\u7c7b",id:"423-service\u5c42\u5b9e\u73b0\u7c7b",level:4},{value:"4.2.4 Mapper\u5c42",id:"424-mapper\u5c42",level:4},{value:"4.3 \u529f\u80fd\u6d4b\u8bd5",id:"43-\u529f\u80fd\u6d4b\u8bd5",level:3},{value:"4.4 \u4ee3\u7801\u63d0\u4ea4",id:"44-\u4ee3\u7801\u63d0\u4ea4",level:3},{value:"5. \u4fee\u6539\u83dc\u54c1",id:"5-\u4fee\u6539\u83dc\u54c1",level:2},{value:"5.1 \u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1",id:"51-\u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1",level:3},{value:"5.1.1 \u4ea7\u54c1\u539f\u578b",id:"511-\u4ea7\u54c1\u539f\u578b",level:4},{value:"5.1.2 \u63a5\u53e3\u8bbe\u8ba1",id:"512-\u63a5\u53e3\u8bbe\u8ba1",level:4},{value:"5.2 \u4ee3\u7801\u5f00\u53d1",id:"52-\u4ee3\u7801\u5f00\u53d1",level:3},{value:"5.2.1 \u6839\u636eid\u67e5\u8be2\u83dc\u54c1\u5b9e\u73b0",id:"521-\u6839\u636eid\u67e5\u8be2\u83dc\u54c1\u5b9e\u73b0",level:4},{value:"5.2.1 \u4fee\u6539\u83dc\u54c1\u5b9e\u73b0",id:"521-\u4fee\u6539\u83dc\u54c1\u5b9e\u73b0",level:4},{value:"5.3 \u529f\u80fd\u6d4b\u8bd5",id:"53-\u529f\u80fd\u6d4b\u8bd5",level:3},{value:"5.4 \u4ee3\u7801\u63d0\u4ea4",id:"54-\u4ee3\u7801\u63d0\u4ea4",level:3}];function h(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u82cd\u7a79\u5916\u5356-day03",children:"\u82cd\u7a79\u5916\u5356-day03"})}),"\n",(0,s.jsx)(e.h2,{id:"\u8bfe\u7a0b\u5185\u5bb9",children:"\u8bfe\u7a0b\u5185\u5bb9"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145"}),"\n",(0,s.jsx)(e.li,{children:"\u65b0\u589e\u83dc\u54c1"}),"\n",(0,s.jsx)(e.li,{children:"\u83dc\u54c1\u5206\u9875\u67e5\u8be2"}),"\n",(0,s.jsx)(e.li,{children:"\u5220\u9664\u83dc\u54c1"}),"\n",(0,s.jsx)(e.li,{children:"\u4fee\u6539\u83dc\u54c1"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"**\u529f\u80fd\u5b9e\u73b0\uff1a**\u83dc\u54c1\u7ba1\u7406"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u83dc\u54c1\u7ba1\u7406\u6548\u679c\u56fe\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(16759).A+"",width:"1672",height:"794"})}),"\n",(0,s.jsx)(e.h2,{id:"1-\u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145",children:"1. \u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145"}),"\n",(0,s.jsx)(e.h3,{id:"11-\u95ee\u9898\u5206\u6790",children:"1.1 \u95ee\u9898\u5206\u6790"}),"\n",(0,s.jsxs)(e.p,{children:["\u5728\u4e0a\u4e00\u7ae0\u8282\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u4e86\u540e\u53f0\u7cfb\u7edf\u7684",(0,s.jsx)(e.strong,{children:"\u5458\u5de5\u7ba1\u7406\u529f\u80fd"}),"\u548c",(0,s.jsx)(e.strong,{children:"\u83dc\u54c1\u5206\u7c7b\u529f\u80fd"}),"\u7684\u5f00\u53d1\uff0c\u5728",(0,s.jsx)(e.strong,{children:"\u65b0\u589e\u5458\u5de5"}),"\u6216\u8005",(0,s.jsx)(e.strong,{children:"\u65b0\u589e\u83dc\u54c1\u5206\u7c7b"}),"\u65f6\u9700\u8981\u8bbe\u7f6e\u521b\u5efa\u65f6\u95f4\u3001\u521b\u5efa\u4eba\u3001\u4fee\u6539\u65f6\u95f4\u3001\u4fee\u6539\u4eba\u7b49\u5b57\u6bb5\uff0c\u5728",(0,s.jsx)(e.strong,{children:"\u7f16\u8f91\u5458\u5de5"}),"\u6216\u8005",(0,s.jsx)(e.strong,{children:"\u7f16\u8f91\u83dc\u54c1\u5206\u7c7b"}),"\u65f6\u9700\u8981\u8bbe\u7f6e\u4fee\u6539\u65f6\u95f4\u3001\u4fee\u6539\u4eba\u7b49\u5b57\u6bb5\u3002\u8fd9\u4e9b\u5b57\u6bb5\u5c5e\u4e8e\u516c\u5171\u5b57\u6bb5\uff0c\u4e5f\u5c31\u662f\u4e5f\u5c31\u662f\u5728\u6211\u4eec\u7684\u7cfb\u7edf\u4e2d\u5f88\u591a\u8868\u4e2d\u90fd\u4f1a\u6709\u8fd9\u4e9b\u5b57\u6bb5\uff0c\u5982\u4e0b\uff1a"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u5e8f\u53f7"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u5b57\u6bb5\u540d"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u542b\u4e49"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u6570\u636e\u7c7b\u578b"})})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"1"}),(0,s.jsx)(e.td,{children:"create_time"}),(0,s.jsx)(e.td,{children:"\u521b\u5efa\u65f6\u95f4"}),(0,s.jsx)(e.td,{children:"datetime"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"2"}),(0,s.jsx)(e.td,{children:"create_user"}),(0,s.jsx)(e.td,{children:"\u521b\u5efa\u4ebaid"}),(0,s.jsx)(e.td,{children:"bigint"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"3"}),(0,s.jsx)(e.td,{children:"update_time"}),(0,s.jsx)(e.td,{children:"\u4fee\u6539\u65f6\u95f4"}),(0,s.jsx)(e.td,{children:"datetime"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"4"}),(0,s.jsx)(e.td,{children:"update_user"}),(0,s.jsx)(e.td,{children:"\u4fee\u6539\u4ebaid"}),(0,s.jsx)(e.td,{children:"bigint"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:"\u800c\u9488\u5bf9\u4e8e\u8fd9\u4e9b\u5b57\u6bb5\uff0c\u6211\u4eec\u7684\u8d4b\u503c\u65b9\u5f0f\u4e3a\uff1a"}),"\n",(0,s.jsx)(e.p,{children:"1). \u5728\u65b0\u589e\u6570\u636e\u65f6, \u5c06createTime\u3001updateTime \u8bbe\u7f6e\u4e3a\u5f53\u524d\u65f6\u95f4, createUser\u3001updateUser\u8bbe\u7f6e\u4e3a\u5f53\u524d\u767b\u5f55\u7528\u6237ID\u3002"}),"\n",(0,s.jsx)(e.p,{children:"2). \u5728\u66f4\u65b0\u6570\u636e\u65f6, \u5c06updateTime \u8bbe\u7f6e\u4e3a\u5f53\u524d\u65f6\u95f4, updateUser\u8bbe\u7f6e\u4e3a\u5f53\u524d\u767b\u5f55\u7528\u6237ID\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u76ee\u524d,\u5728\u6211\u4eec\u7684\u9879\u76ee\u4e2d\u5904\u7406\u8fd9\u4e9b\u5b57\u6bb5\u90fd\u662f\u5728\u6bcf\u4e00\u4e2a\u4e1a\u52a1\u65b9\u6cd5\u4e2d\u8fdb\u884c\u8d4b\u503c\u64cd\u4f5c,\u5982\u4e0b:"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u65b0\u589e\u5458\u5de5\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u65b0\u589e\u5458\u5de5\r\n     *\r\n     * @param employeeDTO\r\n     */\r\n    public void save(EmployeeDTO employeeDTO) {\r\n        //.......................\r\n\t\t//////////////////////////////////////////\r\n        //\u8bbe\u7f6e\u5f53\u524d\u8bb0\u5f55\u7684\u521b\u5efa\u65f6\u95f4\u548c\u4fee\u6539\u65f6\u95f4\r\n        employee.setCreateTime(LocalDateTime.now());\r\n        employee.setUpdateTime(LocalDateTime.now());\r\n\r\n        //\u8bbe\u7f6e\u5f53\u524d\u8bb0\u5f55\u521b\u5efa\u4ebaid\u548c\u4fee\u6539\u4ebaid\r\n        employee.setCreateUser(BaseContext.getCurrentId());//\u76ee\u524d\u5199\u4e2a\u5047\u6570\u636e\uff0c\u540e\u671f\u4fee\u6539\r\n        employee.setUpdateUser(BaseContext.getCurrentId());\r\n\t\t///////////////////////////////////////////////\r\n        employeeMapper.insert(employee);\r\n    }\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u7f16\u8f91\u5458\u5de5\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u7f16\u8f91\u5458\u5de5\u4fe1\u606f\r\n     *\r\n     * @param employeeDTO\r\n     */\r\n    public void update(EmployeeDTO employeeDTO) {\r\n       //........................................\r\n\t   ///////////////////////////////////////////////\r\n        employee.setUpdateTime(LocalDateTime.now());\r\n        employee.setUpdateUser(BaseContext.getCurrentId());\r\n       ///////////////////////////////////////////////////\r\n\r\n        employeeMapper.update(employee);\r\n    }\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u65b0\u589e\u83dc\u54c1\u5206\u7c7b\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u65b0\u589e\u5206\u7c7b\r\n     * @param categoryDTO\r\n     */\r\n    public void save(CategoryDTO categoryDTO) {\r\n       //....................................\r\n       //////////////////////////////////////////\r\n        //\u8bbe\u7f6e\u521b\u5efa\u65f6\u95f4\u3001\u4fee\u6539\u65f6\u95f4\u3001\u521b\u5efa\u4eba\u3001\u4fee\u6539\u4eba\r\n        category.setCreateTime(LocalDateTime.now());\r\n        category.setUpdateTime(LocalDateTime.now());\r\n        category.setCreateUser(BaseContext.getCurrentId());\r\n        category.setUpdateUser(BaseContext.getCurrentId());\r\n        ///////////////////////////////////////////////////\r\n\r\n        categoryMapper.insert(category);\r\n    }\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u4fee\u6539\u83dc\u54c1\u5206\u7c7b\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u4fee\u6539\u5206\u7c7b\r\n     * @param categoryDTO\r\n     */\r\n    public void update(CategoryDTO categoryDTO) {\r\n        //....................................\r\n        \r\n\t\t//////////////////////////////////////////////\r\n        //\u8bbe\u7f6e\u4fee\u6539\u65f6\u95f4\u3001\u4fee\u6539\u4eba\r\n        category.setUpdateTime(LocalDateTime.now());\r\n        category.setUpdateUser(BaseContext.getCurrentId());\r\n        //////////////////////////////////////////////////\r\n\r\n        categoryMapper.update(category);\r\n    }\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u90fd\u6309\u7167\u4e0a\u8ff0\u7684\u64cd\u4f5c\u65b9\u5f0f\u6765\u5904\u7406\u8fd9\u4e9b\u516c\u5171\u5b57\u6bb5, \u9700\u8981\u5728\u6bcf\u4e00\u4e2a\u4e1a\u52a1\u65b9\u6cd5\u4e2d\u8fdb\u884c\u64cd\u4f5c, \u7f16\u7801\u76f8\u5bf9\u5197\u4f59\u3001\u7e41\u7410\uff0c\u90a3\u80fd\u4e0d\u80fd\u5bf9\u4e8e\u8fd9\u4e9b\u516c\u5171\u5b57\u6bb5\u5728\u67d0\u4e2a\u5730\u65b9\u7edf\u4e00\u5904\u7406\uff0c\u6765\u7b80\u5316\u5f00\u53d1\u5462\uff1f"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u7b54\u6848\u662f\u53ef\u4ee5\u7684\uff0c\u6211\u4eec\u4f7f\u7528AOP\u5207\u9762\u7f16\u7a0b\uff0c\u5b9e\u73b0\u529f\u80fd\u589e\u5f3a\uff0c\u6765\u5b8c\u6210\u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145\u529f\u80fd\u3002"})}),"\n",(0,s.jsx)(e.h3,{id:"12-\u5b9e\u73b0\u601d\u8def",children:"1.2 \u5b9e\u73b0\u601d\u8def"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u5b9e\u73b0\u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145\uff0c\u4e5f\u5c31\u662f\u5728\u63d2\u5165\u6216\u8005\u66f4\u65b0\u7684\u65f6\u5019\u4e3a\u6307\u5b9a\u5b57\u6bb5\u8d4b\u4e88\u6307\u5b9a\u7684\u503c\uff0c\u4f7f\u7528\u5b83\u7684\u597d\u5904\u5c31\u662f\u53ef\u4ee5\u7edf\u4e00\u5bf9\u8fd9\u4e9b\u5b57\u6bb5\u8fdb\u884c\u5904\u7406\uff0c\u907f\u514d\u4e86\u91cd\u590d\u4ee3\u7801\u3002\u5728\u4e0a\u8ff0\u7684\u95ee\u9898\u5206\u6790\u4e2d\uff0c\u6211\u4eec\u63d0\u5230\u6709\u56db\u4e2a\u516c\u5171\u5b57\u6bb5\uff0c\u9700\u8981\u5728\u65b0\u589e/\u66f4\u65b0\u4e2d\u8fdb\u884c\u8d4b\u503c\u64cd\u4f5c, \u5177\u4f53\u60c5\u51b5\u5982\u4e0b:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u5e8f\u53f7"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u5b57\u6bb5\u540d"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u542b\u4e49"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u6570\u636e\u7c7b\u578b"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u64cd\u4f5c\u7c7b\u578b"})})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"1"}),(0,s.jsx)(e.td,{children:"create_time"}),(0,s.jsx)(e.td,{children:"\u521b\u5efa\u65f6\u95f4"}),(0,s.jsx)(e.td,{children:"datetime"}),(0,s.jsx)(e.td,{children:"insert"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"2"}),(0,s.jsx)(e.td,{children:"create_user"}),(0,s.jsx)(e.td,{children:"\u521b\u5efa\u4ebaid"}),(0,s.jsx)(e.td,{children:"bigint"}),(0,s.jsx)(e.td,{children:"insert"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"3"}),(0,s.jsx)(e.td,{children:"update_time"}),(0,s.jsx)(e.td,{children:"\u4fee\u6539\u65f6\u95f4"}),(0,s.jsx)(e.td,{children:"datetime"}),(0,s.jsx)(e.td,{children:"insert\u3001update"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"4"}),(0,s.jsx)(e.td,{children:"update_user"}),(0,s.jsx)(e.td,{children:"\u4fee\u6539\u4ebaid"}),(0,s.jsx)(e.td,{children:"bigint"}),(0,s.jsx)(e.td,{children:"insert\u3001update"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5b9e\u73b0\u6b65\u9aa4\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:"1). \u81ea\u5b9a\u4e49\u6ce8\u89e3 AutoFill\uff0c\u7528\u4e8e\u6807\u8bc6\u9700\u8981\u8fdb\u884c\u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145\u7684\u65b9\u6cd5"}),"\n",(0,s.jsx)(e.p,{children:"2). \u81ea\u5b9a\u4e49\u5207\u9762\u7c7b AutoFillAspect\uff0c\u7edf\u4e00\u62e6\u622a\u52a0\u5165\u4e86 AutoFill \u6ce8\u89e3\u7684\u65b9\u6cd5\uff0c\u901a\u8fc7\u53cd\u5c04\u4e3a\u516c\u5171\u5b57\u6bb5\u8d4b\u503c"}),"\n",(0,s.jsx)(e.p,{children:"3). \u5728 Mapper \u7684\u65b9\u6cd5\u4e0a\u52a0\u5165 AutoFill \u6ce8\u89e3"}),"\n",(0,s.jsx)(e.p,{children:"\u82e5\u8981\u5b9e\u73b0\u4e0a\u8ff0\u6b65\u9aa4\uff0c\u9700\u638c\u63e1\u4ee5\u4e0b\u77e5\u8bc6(\u4e4b\u524d\u8bfe\u7a0b\u5185\u5bb9\u90fd\u5b66\u8fc7)"}),"\n",(0,s.jsx)(e.p,{children:"**\u6280\u672f\u70b9\uff1a**\u679a\u4e3e\u3001\u6ce8\u89e3\u3001AOP\u3001\u53cd\u5c04"}),"\n",(0,s.jsx)(e.h3,{id:"13-\u4ee3\u7801\u5f00\u53d1",children:"1.3 \u4ee3\u7801\u5f00\u53d1"}),"\n",(0,s.jsx)(e.p,{children:"\u6309\u7167\u4e0a\u4e00\u5c0f\u8282\u5206\u6790\u7684\u5b9e\u73b0\u6b65\u9aa4\u4f9d\u6b21\u5b9e\u73b0\uff0c\u5171\u4e09\u6b65\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"131-\u6b65\u9aa4\u4e00",children:"1.3.1 \u6b65\u9aa4\u4e00"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u81ea\u5b9a\u4e49\u6ce8\u89e3 AutoFill"})}),"\n",(0,s.jsx)(e.p,{children:"\u8fdb\u5165\u5230sky-server\u6a21\u5757\uff0c\u521b\u5efacom.sky.annotation\u5305\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"package com.sky.annotation;\r\n\r\nimport com.sky.enumeration.OperationType;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n/**\r\n * \u81ea\u5b9a\u4e49\u6ce8\u89e3\uff0c\u7528\u4e8e\u6807\u8bc6\u67d0\u4e2a\u65b9\u6cd5\u9700\u8981\u8fdb\u884c\u529f\u80fd\u5b57\u6bb5\u81ea\u52a8\u586b\u5145\u5904\u7406\r\n */\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface AutoFill {\r\n    //\u6570\u636e\u5e93\u64cd\u4f5c\u7c7b\u578b\uff1aUPDATE INSERT\r\n    OperationType value();\r\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5176\u4e2dOperationType\u5df2\u5728sky-common\u6a21\u5757\u4e2d\u5b9a\u4e49"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"package com.sky.enumeration;\r\n\r\n/**\r\n * \u6570\u636e\u5e93\u64cd\u4f5c\u7c7b\u578b\r\n */\r\npublic enum OperationType {\r\n\r\n    /**\r\n     * \u66f4\u65b0\u64cd\u4f5c\r\n     */\r\n    UPDATE,\r\n\r\n    /**\r\n     * \u63d2\u5165\u64cd\u4f5c\r\n     */\r\n    INSERT\r\n}\n"})}),"\n",(0,s.jsx)(e.h4,{id:"132-\u6b65\u9aa4\u4e8c",children:"1.3.2 \u6b65\u9aa4\u4e8c"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u81ea\u5b9a\u4e49\u5207\u9762 AutoFillAspect"})}),"\n",(0,s.jsx)(e.p,{children:"\u5728sky-server\u6a21\u5757\uff0c\u521b\u5efacom.sky.aspect\u5305\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'package com.sky.aspect;\r\n\r\n/**\r\n * \u81ea\u5b9a\u4e49\u5207\u9762\uff0c\u5b9e\u73b0\u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145\u5904\u7406\u903b\u8f91\r\n */\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class AutoFillAspect {\r\n\r\n    /**\r\n     * \u5207\u5165\u70b9\r\n     */\r\n    @Pointcut("execution(* com.sky.mapper.*.*(..)) && @annotation(com.sky.annotation.AutoFill)")\r\n    public void autoFillPointCut(){}\r\n\r\n    /**\r\n     * \u524d\u7f6e\u901a\u77e5\uff0c\u5728\u901a\u77e5\u4e2d\u8fdb\u884c\u516c\u5171\u5b57\u6bb5\u7684\u8d4b\u503c\r\n     */\r\n    @Before("autoFillPointCut()")\r\n    public void autoFill(JoinPoint joinPoint){\r\n        /////////////////////\u91cd\u8981////////////////////////////////////\r\n        //\u53ef\u5148\u8fdb\u884c\u8c03\u8bd5\uff0c\u662f\u5426\u80fd\u8fdb\u5165\u8be5\u65b9\u6cd5 \u63d0\u524d\u5728mapper\u65b9\u6cd5\u6dfb\u52a0AutoFill\u6ce8\u89e3\r\n        log.info("\u5f00\u59cb\u8fdb\u884c\u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145...");\r\n\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5b8c\u5584\u81ea\u5b9a\u4e49\u5207\u9762 AutoFillAspect \u7684 autoFill \u65b9\u6cd5"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'package com.sky.aspect;\r\n\r\nimport com.sky.annotation.AutoFill;\r\nimport com.sky.constant.AutoFillConstant;\r\nimport com.sky.context.BaseContext;\r\nimport com.sky.enumeration.OperationType;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\nimport org.aspectj.lang.reflect.MethodSignature;\r\nimport org.springframework.stereotype.Component;\r\nimport java.lang.reflect.Method;\r\nimport java.time.LocalDateTime;\r\n\r\n/**\r\n * \u81ea\u5b9a\u4e49\u5207\u9762\uff0c\u5b9e\u73b0\u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145\u5904\u7406\u903b\u8f91\r\n */\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class AutoFillAspect {\r\n\r\n    /**\r\n     * \u5207\u5165\u70b9\r\n     */\r\n    @Pointcut("execution(* com.sky.mapper.*.*(..)) && @annotation(com.sky.annotation.AutoFill)")\r\n    public void autoFillPointCut(){}\r\n\r\n    /**\r\n     * \u524d\u7f6e\u901a\u77e5\uff0c\u5728\u901a\u77e5\u4e2d\u8fdb\u884c\u516c\u5171\u5b57\u6bb5\u7684\u8d4b\u503c\r\n     */\r\n    @Before("autoFillPointCut()")\r\n    public void autoFill(JoinPoint joinPoint){\r\n        log.info("\u5f00\u59cb\u8fdb\u884c\u516c\u5171\u5b57\u6bb5\u81ea\u52a8\u586b\u5145...");\r\n\r\n        //\u83b7\u53d6\u5230\u5f53\u524d\u88ab\u62e6\u622a\u7684\u65b9\u6cd5\u4e0a\u7684\u6570\u636e\u5e93\u64cd\u4f5c\u7c7b\u578b\r\n        MethodSignature signature = (MethodSignature) joinPoint.getSignature();//\u65b9\u6cd5\u7b7e\u540d\u5bf9\u8c61\r\n        AutoFill autoFill = signature.getMethod().getAnnotation(AutoFill.class);//\u83b7\u5f97\u65b9\u6cd5\u4e0a\u7684\u6ce8\u89e3\u5bf9\u8c61\r\n        OperationType operationType = autoFill.value();//\u83b7\u5f97\u6570\u636e\u5e93\u64cd\u4f5c\u7c7b\u578b\r\n\r\n        //\u83b7\u53d6\u5230\u5f53\u524d\u88ab\u62e6\u622a\u7684\u65b9\u6cd5\u7684\u53c2\u6570--\u5b9e\u4f53\u5bf9\u8c61\r\n        Object[] args = joinPoint.getArgs();\r\n        if(args == null || args.length == 0){\r\n            return;\r\n        }\r\n\r\n        Object entity = args[0];\r\n\r\n        //\u51c6\u5907\u8d4b\u503c\u7684\u6570\u636e\r\n        LocalDateTime now = LocalDateTime.now();\r\n        Long currentId = BaseContext.getCurrentId();\r\n\r\n        //\u6839\u636e\u5f53\u524d\u4e0d\u540c\u7684\u64cd\u4f5c\u7c7b\u578b\uff0c\u4e3a\u5bf9\u5e94\u7684\u5c5e\u6027\u901a\u8fc7\u53cd\u5c04\u6765\u8d4b\u503c\r\n        if(operationType == OperationType.INSERT){\r\n            //\u4e3a4\u4e2a\u516c\u5171\u5b57\u6bb5\u8d4b\u503c\r\n            try {\r\n                Method setCreateTime = entity.getClass().getDeclaredMethod(AutoFillConstant.SET_CREATE_TIME, LocalDateTime.class);\r\n                Method setCreateUser = entity.getClass().getDeclaredMethod(AutoFillConstant.SET_CREATE_USER, Long.class);\r\n                Method setUpdateTime = entity.getClass().getDeclaredMethod(AutoFillConstant.SET_UPDATE_TIME, LocalDateTime.class);\r\n                Method setUpdateUser = entity.getClass().getDeclaredMethod(AutoFillConstant.SET_UPDATE_USER, Long.class);\r\n\r\n                //\u901a\u8fc7\u53cd\u5c04\u4e3a\u5bf9\u8c61\u5c5e\u6027\u8d4b\u503c\r\n                setCreateTime.invoke(entity,now);\r\n                setCreateUser.invoke(entity,currentId);\r\n                setUpdateTime.invoke(entity,now);\r\n                setUpdateUser.invoke(entity,currentId);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }else if(operationType == OperationType.UPDATE){\r\n            //\u4e3a2\u4e2a\u516c\u5171\u5b57\u6bb5\u8d4b\u503c\r\n            try {\r\n                Method setUpdateTime = entity.getClass().getDeclaredMethod(AutoFillConstant.SET_UPDATE_TIME, LocalDateTime.class);\r\n                Method setUpdateUser = entity.getClass().getDeclaredMethod(AutoFillConstant.SET_UPDATE_USER, Long.class);\r\n\r\n                //\u901a\u8fc7\u53cd\u5c04\u4e3a\u5bf9\u8c61\u5c5e\u6027\u8d4b\u503c\r\n                setUpdateTime.invoke(entity,now);\r\n                setUpdateUser.invoke(entity,currentId);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(e.h4,{id:"133-\u6b65\u9aa4\u4e09",children:"1.3.3 \u6b65\u9aa4\u4e09"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728Mapper\u63a5\u53e3\u7684\u65b9\u6cd5\u4e0a\u52a0\u5165 AutoFill \u6ce8\u89e3"})}),"\n",(0,s.jsxs)(e.p,{children:["\u4ee5",(0,s.jsx)(e.strong,{children:"CategoryMapper"}),"\u4e3a\u4f8b\uff0c\u5206\u522b\u5728\u65b0\u589e\u548c\u4fee\u6539\u65b9\u6cd5\u6dfb\u52a0@AutoFill()\u6ce8\u89e3\uff0c\u4e5f\u9700\u8981",(0,s.jsx)(e.strong,{children:"EmployeeMapper"}),"\u505a\u76f8\u540c\u64cd\u4f5c"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'package com.sky.mapper;\r\n\r\n@Mapper\r\npublic interface CategoryMapper {\r\n    /**\r\n     * \u63d2\u5165\u6570\u636e\r\n     * @param category\r\n     */\r\n    @Insert("insert into category(type, name, sort, status, create_time, update_time, create_user, update_user)" +\r\n            " VALUES" +\r\n            " (#{type}, #{name}, #{sort}, #{status}, #{createTime}, #{updateTime}, #{createUser}, #{updateUser})")\r\n    @AutoFill(value = OperationType.INSERT)\r\n    void insert(Category category);\r\n    /**\r\n     * \u6839\u636eid\u4fee\u6539\u5206\u7c7b\r\n     * @param category\r\n     */\r\n    @AutoFill(value = OperationType.UPDATE)\r\n    void update(Category category);\r\n\r\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u540c\u65f6"}),"\uff0c\u5c06\u4e1a\u52a1\u5c42\u4e3a\u516c\u5171\u5b57\u6bb5\u8d4b\u503c\u7684\u4ee3\u7801\u6ce8\u91ca\u6389\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"1). \u5c06\u5458\u5de5\u7ba1\u7406\u7684\u65b0\u589e\u548c\u7f16\u8f91\u65b9\u6cd5\u4e2d\u7684\u516c\u5171\u5b57\u6bb5\u8d4b\u503c\u7684\u4ee3\u7801\u6ce8\u91ca\u3002"}),"\n",(0,s.jsx)(e.p,{children:"2). \u5c06\u83dc\u54c1\u5206\u7c7b\u7ba1\u7406\u7684\u65b0\u589e\u548c\u4fee\u6539\u65b9\u6cd5\u4e2d\u7684\u516c\u5171\u5b57\u6bb5\u8d4b\u503c\u7684\u4ee3\u7801\u6ce8\u91ca\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"14-\u529f\u80fd\u6d4b\u8bd5",children:"1.4 \u529f\u80fd\u6d4b\u8bd5"}),"\n",(0,s.jsxs)(e.p,{children:["\u4ee5",(0,s.jsx)(e.strong,{children:"\u65b0\u589e\u83dc\u54c1\u5206\u7c7b"}),"\u4e3a\u4f8b\uff0c\u8fdb\u884c\u6d4b\u8bd5"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u542f\u52a8\u9879\u76ee\u548cNginx"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(97860).A+"",width:"763",height:"415"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u67e5\u770b\u63a7\u5236\u53f0"})}),"\n",(0,s.jsx)(e.p,{children:"\u901a\u8fc7\u89c2\u5bdf\u63a7\u5236\u53f0\u8f93\u51fa\u7684SQL\u6765\u786e\u5b9a\u516c\u5171\u5b57\u6bb5\u586b\u5145\u662f\u5426\u5b8c\u6210"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"image-20221121154841887",src:r(13275).A+"",width:"1743",height:"143"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u67e5\u770b\u8868"})}),"\n",(0,s.jsx)(e.p,{children:"category\u8868\u4e2d\u6570\u636e"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"image-20221121155104152",src:r(87957).A+"",width:"1363",height:"59"})}),"\n",(0,s.jsx)(e.p,{children:"\u5176\u4e2dcreate_time,update_time,create_user,update_user\u5b57\u6bb5\u90fd\u5df2\u5b8c\u6210\u81ea\u52a8\u586b\u5145\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u7531\u4e8e\u4f7f\u7528admin(id=1)\u7528\u6237\u767b\u5f55\u8fdb\u884c\u83dc\u54c1\u6dfb\u52a0\u64cd\u4f5c,\u6545create_user,update_user\u90fd\u4e3a1."}),"\n",(0,s.jsx)(e.h3,{id:"15-\u4ee3\u7801\u63d0\u4ea4",children:"1.5 \u4ee3\u7801\u63d0\u4ea4"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u70b9\u51fb\u63d0\u4ea4\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(85275).A+"",width:"1092",height:"1000"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u63d0\u4ea4\u8fc7\u7a0b\u4e2d"}),"\uff0c\u51fa\u73b0\u63d0\u793a\uff1a"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(11088).A+"",width:"460",height:"205"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u7ee7\u7eedpush:"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(89789).A+"",width:"942",height:"844"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u63a8\u9001\u6210\u529f\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(72078).A+"",width:"509",height:"94"})}),"\n",(0,s.jsx)(e.h2,{id:"2-\u65b0\u589e\u83dc\u54c1",children:"2. \u65b0\u589e\u83dc\u54c1"}),"\n",(0,s.jsx)(e.h3,{id:"21-\u9700\u6c42\u5206\u6790\u4e0e\u8bbe\u8ba1",children:"2.1 \u9700\u6c42\u5206\u6790\u4e0e\u8bbe\u8ba1"}),"\n",(0,s.jsx)(e.h4,{id:"211-\u4ea7\u54c1\u539f\u578b",children:"2.1.1 \u4ea7\u54c1\u539f\u578b"}),"\n",(0,s.jsxs)(e.p,{children:["\u540e\u53f0\u7cfb\u7edf\u4e2d\u53ef\u4ee5\u7ba1\u7406\u83dc\u54c1\u4fe1\u606f\uff0c\u901a\u8fc7 ",(0,s.jsx)(e.strong,{children:"\u65b0\u589e\u529f\u80fd"}),"\u6765\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u83dc\u54c1\uff0c\u5728\u6dfb\u52a0\u83dc\u54c1\u65f6\u9700\u8981\u9009\u62e9\u5f53\u524d\u83dc\u54c1\u6240\u5c5e\u7684\u83dc\u54c1\u5206\u7c7b\uff0c\u5e76\u4e14\u9700\u8981\u4e0a\u4f20\u83dc\u54c1\u56fe\u7247\u3002"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u65b0\u589e\u83dc\u54c1\u539f\u578b\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(85124).A+"",width:"1057",height:"759"})}),"\n",(0,s.jsx)(e.p,{children:'\u5f53\u586b\u5199\u5b8c\u8868\u5355\u4fe1\u606f, \u70b9\u51fb"\u4fdd\u5b58"\u6309\u94ae\u540e, \u4f1a\u63d0\u4ea4\u8be5\u8868\u5355\u7684\u6570\u636e\u5230\u670d\u52a1\u7aef, \u5728\u670d\u52a1\u7aef\u4e2d\u9700\u8981\u63a5\u53d7\u6570\u636e, \u7136\u540e\u5c06\u6570\u636e\u4fdd\u5b58\u81f3\u6570\u636e\u5e93\u4e2d\u3002'}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u4e1a\u52a1\u89c4\u5219\uff1a"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u83dc\u54c1\u540d\u79f0\u5fc5\u987b\u662f\u552f\u4e00\u7684"}),"\n",(0,s.jsx)(e.li,{children:"\u83dc\u54c1\u5fc5\u987b\u5c5e\u4e8e\u67d0\u4e2a\u5206\u7c7b\u4e0b\uff0c\u4e0d\u80fd\u5355\u72ec\u5b58\u5728"}),"\n",(0,s.jsx)(e.li,{children:"\u65b0\u589e\u83dc\u54c1\u65f6\u53ef\u4ee5\u6839\u636e\u60c5\u51b5\u9009\u62e9\u83dc\u54c1\u7684\u53e3\u5473"}),"\n",(0,s.jsx)(e.li,{children:"\u6bcf\u4e2a\u83dc\u54c1\u5fc5\u987b\u5bf9\u5e94\u4e00\u5f20\u56fe\u7247"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"212-\u63a5\u53e3\u8bbe\u8ba1",children:"2.1.2 \u63a5\u53e3\u8bbe\u8ba1"}),"\n",(0,s.jsxs)(e.p,{children:["\u6839\u636e\u4e0a\u8ff0\u539f\u578b\u56fe\u5148",(0,s.jsx)(e.strong,{children:"\u7c97\u7c92\u5ea6"}),"\u8bbe\u8ba1\u63a5\u53e3\uff0c\u5171\u5305\u542b3\u4e2a\u63a5\u53e3\u3002"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u63a5\u53e3\u8bbe\u8ba1\uff1a"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6839\u636e\u7c7b\u578b\u67e5\u8be2\u5206\u7c7b\uff08\u5df2\u5b8c\u6210\uff09"}),"\n",(0,s.jsx)(e.li,{children:"\u6587\u4ef6\u4e0a\u4f20"}),"\n",(0,s.jsx)(e.li,{children:"\u65b0\u589e\u83dc\u54c1"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u63a5\u4e0b\u6765",(0,s.jsx)(e.strong,{children:"\u7ec6\u7c92\u5ea6"}),"\u5206\u6790\u6bcf\u4e2a\u63a5\u53e3\uff0c\u660e\u786e\u6bcf\u4e2a\u63a5\u53e3\u7684\u8bf7\u6c42\u65b9\u5f0f\u3001\u8bf7\u6c42\u8def\u5f84\u3001\u4f20\u5165\u53c2\u6570\u548c\u8fd4\u56de\u503c\u3002"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1. \u6839\u636e\u7c7b\u578b\u67e5\u8be2\u5206\u7c7b"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(36250).A+"",width:"666",height:"509"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2. \u6587\u4ef6\u4e0a\u4f20"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(49967).A+"",width:"648",height:"686"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"3. \u65b0\u589e\u83dc\u54c1"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(10942).A+"",width:"495",height:"441"})}),"\n",(0,s.jsx)(e.h4,{id:"213-\u8868\u8bbe\u8ba1",children:"2.1.3 \u8868\u8bbe\u8ba1"}),"\n",(0,s.jsx)(e.p,{children:"\u901a\u8fc7\u539f\u578b\u56fe\u8fdb\u884c\u5206\u6790\uff1a"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(19901).A+"",width:"1083",height:"782"})}),"\n",(0,s.jsx)(e.p,{children:"\u65b0\u589e\u83dc\u54c1\uff0c\u5176\u5b9e\u5c31\u662f\u5c06\u65b0\u589e\u9875\u9762\u5f55\u5165\u7684\u83dc\u54c1\u4fe1\u606f\u63d2\u5165\u5230dish\u8868\uff0c\u5982\u679c\u6dfb\u52a0\u4e86\u53e3\u5473\u505a\u6cd5\uff0c\u8fd8\u9700\u8981\u5411dish_flavor\u8868\u63d2\u5165\u6570\u636e\u3002\u6240\u4ee5\u5728\u65b0\u589e\u83dc\u54c1\u65f6\uff0c\u6d89\u53ca\u5230\u4e24\u4e2a\u8868\uff1a"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u8868\u540d"}),(0,s.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"dish"}),(0,s.jsx)(e.td,{children:"\u83dc\u54c1\u8868"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"dish_flavor"}),(0,s.jsx)(e.td,{children:"\u83dc\u54c1\u53e3\u5473\u8868"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1). \u83dc\u54c1\u8868:dish"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u5b57\u6bb5\u540d"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u6570\u636e\u7c7b\u578b"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u8bf4\u660e"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u5907\u6ce8"})})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"id"}),(0,s.jsx)(e.td,{children:"bigint"}),(0,s.jsx)(e.td,{children:"\u4e3b\u952e"}),(0,s.jsx)(e.td,{children:"\u81ea\u589e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"name"}),(0,s.jsx)(e.td,{children:"varchar(32)"}),(0,s.jsx)(e.td,{children:"\u83dc\u54c1\u540d\u79f0"}),(0,s.jsx)(e.td,{children:"\u552f\u4e00"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"category_id"}),(0,s.jsx)(e.td,{children:"bigint"}),(0,s.jsx)(e.td,{children:"\u5206\u7c7bid"}),(0,s.jsx)(e.td,{children:"\u903b\u8f91\u5916\u952e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"price"}),(0,s.jsx)(e.td,{children:"decimal(10,2)"}),(0,s.jsx)(e.td,{children:"\u83dc\u54c1\u4ef7\u683c"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"image"}),(0,s.jsx)(e.td,{children:"varchar(255)"}),(0,s.jsx)(e.td,{children:"\u56fe\u7247\u8def\u5f84"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"description"}),(0,s.jsx)(e.td,{children:"varchar(255)"}),(0,s.jsx)(e.td,{children:"\u83dc\u54c1\u63cf\u8ff0"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"status"}),(0,s.jsx)(e.td,{children:"int"}),(0,s.jsx)(e.td,{children:"\u552e\u5356\u72b6\u6001"}),(0,s.jsx)(e.td,{children:"1\u8d77\u552e 0\u505c\u552e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"create_time"}),(0,s.jsx)(e.td,{children:"datetime"}),(0,s.jsx)(e.td,{children:"\u521b\u5efa\u65f6\u95f4"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"update_time"}),(0,s.jsx)(e.td,{children:"datetime"}),(0,s.jsx)(e.td,{children:"\u6700\u540e\u4fee\u6539\u65f6\u95f4"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"create_user"}),(0,s.jsx)(e.td,{children:"bigint"}),(0,s.jsx)(e.td,{children:"\u521b\u5efa\u4ebaid"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"update_user"}),(0,s.jsx)(e.td,{children:"bigint"}),(0,s.jsx)(e.td,{children:"\u6700\u540e\u4fee\u6539\u4ebaid"}),(0,s.jsx)(e.td,{})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2). \u83dc\u54c1\u53e3\u5473\u8868:dish_flavor"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u5b57\u6bb5\u540d"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u6570\u636e\u7c7b\u578b"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u8bf4\u660e"})}),(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u5907\u6ce8"})})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"id"}),(0,s.jsx)(e.td,{children:"bigint"}),(0,s.jsx)(e.td,{children:"\u4e3b\u952e"}),(0,s.jsx)(e.td,{children:"\u81ea\u589e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"dish_id"}),(0,s.jsx)(e.td,{children:"bigint"}),(0,s.jsx)(e.td,{children:"\u83dc\u54c1id"}),(0,s.jsx)(e.td,{children:"\u903b\u8f91\u5916\u952e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"name"}),(0,s.jsx)(e.td,{children:"varchar(32)"}),(0,s.jsx)(e.td,{children:"\u53e3\u5473\u540d\u79f0"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"value"}),(0,s.jsx)(e.td,{children:"varchar(255)"}),(0,s.jsx)(e.td,{children:"\u53e3\u5473\u503c"}),(0,s.jsx)(e.td,{})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"22-\u4ee3\u7801\u5f00\u53d1",children:"2.2 \u4ee3\u7801\u5f00\u53d1"}),"\n",(0,s.jsx)(e.h4,{id:"221-\u6587\u4ef6\u4e0a\u4f20\u5b9e\u73b0",children:"2.2.1 \u6587\u4ef6\u4e0a\u4f20\u5b9e\u73b0"}),"\n",(0,s.jsx)(e.p,{children:"\u56e0\u4e3a\u5728\u65b0\u589e\u83dc\u54c1\u65f6\uff0c\u9700\u8981\u4e0a\u4f20\u83dc\u54c1\u5bf9\u5e94\u7684\u56fe\u7247(\u6587\u4ef6)\uff0c\u5305\u62ec\u540e\u7eea\u5176\u5b83\u529f\u80fd\u4e5f\u4f1a\u4f7f\u7528\u5230\u6587\u4ef6\u4e0a\u4f20\uff0c\u6545\u8981\u5b9e\u73b0\u901a\u7528\u7684\u6587\u4ef6\u4e0a\u4f20\u63a5\u53e3\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u6587\u4ef6\u4e0a\u4f20\uff0c\u662f\u6307\u5c06\u672c\u5730\u56fe\u7247\u3001\u89c6\u9891\u3001\u97f3\u9891\u7b49\u6587\u4ef6\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u4e0a\uff0c\u53ef\u4ee5\u4f9b\u5176\u4ed6\u7528\u6237\u6d4f\u89c8\u6216\u4e0b\u8f7d\u7684\u8fc7\u7a0b\u3002\u6587\u4ef6\u4e0a\u4f20\u5728\u9879\u76ee\u4e2d\u5e94\u7528\u975e\u5e38\u5e7f\u6cdb\uff0c\u6211\u4eec\u7ecf\u5e38\u53d1\u6296\u97f3\u3001\u53d1\u670b\u53cb\u5708\u90fd\u7528\u5230\u4e86\u6587\u4ef6\u4e0a\u4f20\u529f\u80fd\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u5b9e\u73b0\u6587\u4ef6\u4e0a\u4f20\u670d\u52a1\uff0c\u9700\u8981\u6709\u5b58\u50a8\u7684\u652f\u6301\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u89e3\u51b3\u65b9\u6848\u5c06\u4ee5\u4e0b\u51e0\u79cd\uff1a"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\u76f4\u63a5\u5c06\u56fe\u7247\u4fdd\u5b58\u5230\u670d\u52a1\u7684\u786c\u76d8\uff08springmvc\u4e2d\u7684\u6587\u4ef6\u4e0a\u4f20\uff09\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u4f18\u70b9\uff1a\u5f00\u53d1\u4fbf\u6377\uff0c\u6210\u672c\u4f4e"}),"\n",(0,s.jsx)(e.li,{children:"\u7f3a\u70b9\uff1a\u6269\u5bb9\u56f0\u96be"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u4f7f\u7528\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u8fdb\u884c\u5b58\u50a8\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u4f18\u70b9\uff1a\u5bb9\u6613\u5b9e\u73b0\u6269\u5bb9"}),"\n",(0,s.jsx)(e.li,{children:"\u7f3a\u70b9\uff1a\u5f00\u53d1\u590d\u6742\u5ea6\u7a0d\u5927\uff08\u6709\u6210\u719f\u7684\u4ea7\u54c1\u53ef\u4ee5\u4f7f\u7528\uff0c\u6bd4\u5982\uff1aFastDFS,MinIO\uff09"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u4f7f\u7528\u7b2c\u4e09\u65b9\u7684\u5b58\u50a8\u670d\u52a1\uff08\u4f8b\u5982OSS\uff09\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u4f18\u70b9\uff1a\u5f00\u53d1\u7b80\u5355\uff0c\u62e5\u6709\u5f3a\u5927\u529f\u80fd\uff0c\u514d\u7ef4\u62a4"}),"\n",(0,s.jsx)(e.li,{children:"\u7f3a\u70b9\uff1a\u4ed8\u8d39"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u672c\u9879\u76ee\u9009\u7528\u963f\u91cc\u4e91\u7684OSS\u670d\u52a1\u8fdb\u884c\u6587\u4ef6\u5b58\u50a8\u3002\uff08\u524d\u9762\u8bfe\u7a0b\u5df2\u5b66\u4e60\u8fc7\u963f\u91cc\u4e91OSS,\u4e0d\u518d\u8d58\u8ff0\uff09"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(99114).A+"",width:"961",height:"194"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5b9e\u73b0\u6b65\u9aa4\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1). \u5b9a\u4e49OSS\u76f8\u5173\u914d\u7f6e"})}),"\n",(0,s.jsx)(e.p,{children:"\u5728sky-server\u6a21\u5757"}),"\n",(0,s.jsx)(e.p,{children:"application-dev.yml"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"sky:\r\n  alioss:\r\n    endpoint: oss-cn-hangzhou.aliyuncs.com\r\n    access-key-id: LTAI5tPeFLzsPPT8gG3LPW64\r\n    access-key-secret: U6k1brOZ8gaOIXv3nXbulGTUzy6Pd7\r\n    bucket-name: sky-take-out\n"})}),"\n",(0,s.jsx)(e.p,{children:"application.yml"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"spring:\r\n  profiles:\r\n    active: dev    #\u8bbe\u7f6e\u73af\u5883\r\nsky:\r\n  alioss:\r\n    endpoint: ${sky.alioss.endpoint}\r\n    access-key-id: ${sky.alioss.access-key-id}\r\n    access-key-secret: ${sky.alioss.access-key-secret}\r\n    bucket-name: ${sky.alioss.bucket-name}\r\n\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2). \u8bfb\u53d6OSS\u914d\u7f6e"})}),"\n",(0,s.jsx)(e.p,{children:"\u5728sky-common\u6a21\u5757\u4e2d\uff0c\u5df2\u5b9a\u4e49"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'package com.sky.properties;\r\n\r\nimport lombok.Data;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@ConfigurationProperties(prefix = "sky.alioss")\r\n@Data\r\npublic class AliOssProperties {\r\n\r\n    private String endpoint;\r\n    private String accessKeyId;\r\n    private String accessKeySecret;\r\n    private String bucketName;\r\n\r\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"3). \u751f\u6210OSS\u5de5\u5177\u7c7b\u5bf9\u8c61"})}),"\n",(0,s.jsx)(e.p,{children:"\u5728sky-server\u6a21\u5757"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'package com.sky.config;\r\n\r\nimport com.sky.properties.AliOssProperties;\r\nimport com.sky.utils.AliOssUtil;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n/**\r\n * \u914d\u7f6e\u7c7b\uff0c\u7528\u4e8e\u521b\u5efaAliOssUtil\u5bf9\u8c61\r\n */\r\n@Configuration\r\n@Slf4j\r\npublic class OssConfiguration {\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public AliOssUtil aliOssUtil(AliOssProperties aliOssProperties){\r\n        log.info("\u5f00\u59cb\u521b\u5efa\u963f\u91cc\u4e91\u6587\u4ef6\u4e0a\u4f20\u5de5\u5177\u7c7b\u5bf9\u8c61\uff1a{}",aliOssProperties);\r\n        return new AliOssUtil(aliOssProperties.getEndpoint(),\r\n                aliOssProperties.getAccessKeyId(),\r\n                aliOssProperties.getAccessKeySecret(),\r\n                aliOssProperties.getBucketName());\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u5176\u4e2d\uff0cAliOssUtil.java\u5df2\u5728sky-common\u6a21\u5757\u4e2d\u5b9a\u4e49"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'package com.sky.utils;\r\n\r\nimport com.aliyun.oss.ClientException;\r\nimport com.aliyun.oss.OSS;\r\nimport com.aliyun.oss.OSSClientBuilder;\r\nimport com.aliyun.oss.OSSException;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport java.io.ByteArrayInputStream;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@Slf4j\r\npublic class AliOssUtil {\r\n\r\n    private String endpoint;\r\n    private String accessKeyId;\r\n    private String accessKeySecret;\r\n    private String bucketName;\r\n\r\n    /**\r\n     * \u6587\u4ef6\u4e0a\u4f20\r\n     *\r\n     * @param bytes\r\n     * @param objectName\r\n     * @return\r\n     */\r\n    public String upload(byte[] bytes, String objectName) {\r\n\r\n        // \u521b\u5efaOSSClient\u5b9e\u4f8b\u3002\r\n        OSS ossClient = new OSSClientBuilder().build(endpoint, accessKeyId, accessKeySecret);\r\n\r\n        try {\r\n            // \u521b\u5efaPutObject\u8bf7\u6c42\u3002\r\n            ossClient.putObject(bucketName, objectName, new ByteArrayInputStream(bytes));\r\n        } catch (OSSException oe) {\r\n            System.out.println("Caught an OSSException, which means your request made it to OSS, "\r\n                    + "but was rejected with an error response for some reason.");\r\n            System.out.println("Error Message:" + oe.getErrorMessage());\r\n            System.out.println("Error Code:" + oe.getErrorCode());\r\n            System.out.println("Request ID:" + oe.getRequestId());\r\n            System.out.println("Host ID:" + oe.getHostId());\r\n        } catch (ClientException ce) {\r\n            System.out.println("Caught an ClientException, which means the client encountered "\r\n                    + "a serious internal problem while trying to communicate with OSS, "\r\n                    + "such as not being able to access the network.");\r\n            System.out.println("Error Message:" + ce.getMessage());\r\n        } finally {\r\n            if (ossClient != null) {\r\n                ossClient.shutdown();\r\n            }\r\n        }\r\n\r\n        //\u6587\u4ef6\u8bbf\u95ee\u8def\u5f84\u89c4\u5219 https://BucketName.Endpoint/ObjectName\r\n        StringBuilder stringBuilder = new StringBuilder("https://");\r\n        stringBuilder\r\n                .append(bucketName)\r\n                .append(".")\r\n                .append(endpoint)\r\n                .append("/")\r\n                .append(objectName);\r\n\r\n        log.info("\u6587\u4ef6\u4e0a\u4f20\u5230:{}", stringBuilder.toString());\r\n\r\n        return stringBuilder.toString();\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"4). \u5b9a\u4e49\u6587\u4ef6\u4e0a\u4f20\u63a5\u53e3"})}),"\n",(0,s.jsx)(e.p,{children:"\u5728sky-server\u6a21\u5757\u4e2d\u5b9a\u4e49\u63a5\u53e3"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'package com.sky.controller.admin;\r\n\r\nimport com.sky.constant.MessageConstant;\r\nimport com.sky.result.Result;\r\nimport com.sky.utils.AliOssUtil;\r\nimport io.swagger.annotations.Api;\r\nimport io.swagger.annotations.ApiOperation;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport java.io.IOException;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * \u901a\u7528\u63a5\u53e3\r\n */\r\n@RestController\r\n@RequestMapping("/admin/common")\r\n@Api(tags = "\u901a\u7528\u63a5\u53e3")\r\n@Slf4j\r\npublic class CommonController {\r\n\r\n    @Autowired\r\n    private AliOssUtil aliOssUtil;\r\n\r\n    /**\r\n     * \u6587\u4ef6\u4e0a\u4f20\r\n     * @param file\r\n     * @return\r\n     */\r\n    @PostMapping("/upload")\r\n    @ApiOperation("\u6587\u4ef6\u4e0a\u4f20")\r\n    public Result<String> upload(MultipartFile file){\r\n        log.info("\u6587\u4ef6\u4e0a\u4f20\uff1a{}",file);\r\n\r\n        try {\r\n            //\u539f\u59cb\u6587\u4ef6\u540d\r\n            String originalFilename = file.getOriginalFilename();\r\n            //\u622a\u53d6\u539f\u59cb\u6587\u4ef6\u540d\u7684\u540e\u7f00   dfdfdf.png\r\n            String extension = originalFilename.substring(originalFilename.lastIndexOf("."));\r\n            //\u6784\u9020\u65b0\u6587\u4ef6\u540d\u79f0\r\n            String objectName = UUID.randomUUID().toString() + extension;\r\n\r\n            //\u6587\u4ef6\u7684\u8bf7\u6c42\u8def\u5f84\r\n            String filePath = aliOssUtil.upload(file.getBytes(), objectName);\r\n            return Result.success(filePath);\r\n        } catch (IOException e) {\r\n            log.error("\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25\uff1a{}", e);\r\n        }\r\n\r\n        return Result.error(MessageConstant.UPLOAD_FAILED);\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(e.h4,{id:"222-\u65b0\u589e\u83dc\u54c1\u5b9e\u73b0",children:"2.2.2 \u65b0\u589e\u83dc\u54c1\u5b9e\u73b0"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1). \u8bbe\u8ba1DTO\u7c7b"})}),"\n",(0,s.jsx)(e.p,{children:"\u5728sky-pojo\u6a21\u5757\u4e2d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"package com.sky.dto;\r\n\r\nimport com.sky.entity.DishFlavor;\r\nimport lombok.Data;\r\nimport java.io.Serializable;\r\nimport java.math.BigDecimal;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Data\r\npublic class DishDTO implements Serializable {\r\n\r\n    private Long id;\r\n    //\u83dc\u54c1\u540d\u79f0\r\n    private String name;\r\n    //\u83dc\u54c1\u5206\u7c7bid\r\n    private Long categoryId;\r\n    //\u83dc\u54c1\u4ef7\u683c\r\n    private BigDecimal price;\r\n    //\u56fe\u7247\r\n    private String image;\r\n    //\u63cf\u8ff0\u4fe1\u606f\r\n    private String description;\r\n    //0 \u505c\u552e 1 \u8d77\u552e\r\n    private Integer status;\r\n    //\u53e3\u5473\r\n    private List<DishFlavor> flavors = new ArrayList<>();\r\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2). Controller\u5c42"})}),"\n",(0,s.jsx)(e.p,{children:"\u8fdb\u5165\u5230sky-server\u6a21\u5757"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'package com.sky.controller.admin;\r\n\r\nimport com.sky.dto.DishDTO;\r\nimport com.sky.dto.DishPageQueryDTO;\r\nimport com.sky.entity.Dish;\r\nimport com.sky.result.PageResult;\r\nimport com.sky.result.Result;\r\nimport com.sky.service.DishService;\r\nimport com.sky.vo.DishVO;\r\nimport io.swagger.annotations.Api;\r\nimport io.swagger.annotations.ApiOperation;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\n/**\r\n * \u83dc\u54c1\u7ba1\u7406\r\n */\r\n@RestController\r\n@RequestMapping("/admin/dish")\r\n@Api(tags = "\u83dc\u54c1\u76f8\u5173\u63a5\u53e3")\r\n@Slf4j\r\npublic class DishController {\r\n\r\n    @Autowired\r\n    private DishService dishService;\r\n\r\n    /**\r\n     * \u65b0\u589e\u83dc\u54c1\r\n     *\r\n     * @param dishDTO\r\n     * @return\r\n     */\r\n    @PostMapping\r\n    @ApiOperation("\u65b0\u589e\u83dc\u54c1")\r\n    public Result save(@RequestBody DishDTO dishDTO) {\r\n        log.info("\u65b0\u589e\u83dc\u54c1\uff1a{}", dishDTO);\r\n        dishService.saveWithFlavor(dishDTO);//\u540e\u7eea\u6b65\u9aa4\u5f00\u53d1\r\n        return Result.success();\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"3). Service\u5c42\u63a5\u53e3"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"package com.sky.service;\r\n\r\nimport com.sky.dto.DishDTO;\r\nimport com.sky.entity.Dish;\r\n\r\npublic interface DishService {\r\n\r\n    /**\r\n     * \u65b0\u589e\u83dc\u54c1\u548c\u5bf9\u5e94\u7684\u53e3\u5473\r\n     *\r\n     * @param dishDTO\r\n     */\r\n    public void saveWithFlavor(DishDTO dishDTO);\r\n\r\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"4). Service\u5c42\u5b9e\u73b0\u7c7b"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"package com.sky.service.impl;\r\n\r\n\r\n@Service\r\n@Slf4j\r\npublic class DishServiceImpl implements DishService {\r\n\r\n    @Autowired\r\n    private DishMapper dishMapper;\r\n    @Autowired\r\n    private DishFlavorMapper dishFlavorMapper;\r\n\r\n    /**\r\n     * \u65b0\u589e\u83dc\u54c1\u548c\u5bf9\u5e94\u7684\u53e3\u5473\r\n     *\r\n     * @param dishDTO\r\n     */\r\n    @Transactional\r\n    public void saveWithFlavor(DishDTO dishDTO) {\r\n\r\n        Dish dish = new Dish();\r\n        BeanUtils.copyProperties(dishDTO, dish);\r\n\r\n        //\u5411\u83dc\u54c1\u8868\u63d2\u51651\u6761\u6570\u636e\r\n        dishMapper.insert(dish);//\u540e\u7eea\u6b65\u9aa4\u5b9e\u73b0\r\n\r\n        //\u83b7\u53d6insert\u8bed\u53e5\u751f\u6210\u7684\u4e3b\u952e\u503c\r\n        Long dishId = dish.getId();\r\n\r\n        List<DishFlavor> flavors = dishDTO.getFlavors();\r\n        if (flavors != null && flavors.size() > 0) {\r\n            flavors.forEach(dishFlavor -> {\r\n                dishFlavor.setDishId(dishId);\r\n            });\r\n            //\u5411\u53e3\u5473\u8868\u63d2\u5165n\u6761\u6570\u636e\r\n            dishFlavorMapper.insertBatch(flavors);//\u540e\u7eea\u6b65\u9aa4\u5b9e\u73b0\r\n        }\r\n    }\r\n\r\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"5). Mapper\u5c42"})}),"\n",(0,s.jsx)(e.p,{children:"DishMapper.java\u4e2d\u6dfb\u52a0"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u63d2\u5165\u83dc\u54c1\u6570\u636e\r\n     *\r\n     * @param dish\r\n     */\r\n    @AutoFill(value = OperationType.INSERT)\r\n    void insert(Dish dish);\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5728/resources/mapper\u4e2d\u521b\u5efaDishMapper.xml"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8" ?>\r\n<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\r\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >\r\n<mapper namespace="com.sky.mapper.DishMapper">\r\n\r\n    <insert id="insert" useGeneratedKeys="true" keyProperty="id">\r\n        insert into dish (name, category_id, price, image, description, create_time, update_time, create_user,update_user, status)\r\n        values (#{name}, #{categoryId}, #{price}, #{image}, #{description}, #{createTime}, #{updateTime}, #{createUser}, #{updateUser}, #{status})\r\n    </insert>\r\n</mapper>\r\n\n'})}),"\n",(0,s.jsx)(e.p,{children:"DishFlavorMapper.java"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"package com.sky.mapper;\r\n\r\nimport com.sky.entity.DishFlavor;\r\nimport java.util.List;\r\n\r\n@Mapper\r\npublic interface DishFlavorMapper {\r\n    /**\r\n     * \u6279\u91cf\u63d2\u5165\u53e3\u5473\u6570\u636e\r\n     * @param flavors\r\n     */\r\n    void insertBatch(List<DishFlavor> flavors);\r\n\r\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5728/resources/mapper\u4e2d\u521b\u5efaDishFlavorMapper.xml"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8" ?>\r\n<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\r\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >\r\n<mapper namespace="com.sky.mapper.DishFlavorMapper">\r\n    <insert id="insertBatch">\r\n        insert into dish_flavor (dish_id, name, value) VALUES\r\n        <foreach collection="flavors" item="df" separator=",">\r\n            (#{df.dishId},#{df.name},#{df.value})\r\n        </foreach>\r\n    </insert>\r\n</mapper>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"23-\u529f\u80fd\u6d4b\u8bd5",children:"2.3 \u529f\u80fd\u6d4b\u8bd5"}),"\n",(0,s.jsx)(e.p,{children:"\u8fdb\u5165\u5230\u83dc\u54c1\u7ba1\u7406---\x3e\u65b0\u5efa\u83dc\u54c1"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(89274).A+"",width:"1212",height:"772"})}),"\n",(0,s.jsx)(e.p,{children:"\u7531\u4e8e\u6ca1\u6709\u5b9e\u73b0\u83dc\u54c1\u67e5\u8be2\u529f\u80fd\uff0c\u6240\u4ee5\u4fdd\u5b58\u540e\uff0c\u6682\u4e14\u5728\u8868\u4e2d\u67e5\u770b\u6dfb\u52a0\u7684\u6570\u636e\u3002"}),"\n",(0,s.jsx)(e.p,{children:"dish\u8868\uff1a"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(57974).A+"",width:"1797",height:"272"})}),"\n",(0,s.jsx)(e.p,{children:"dish_flavor\u8868\uff1a"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(88020).A+"",width:"924",height:"272"})}),"\n",(0,s.jsx)(e.p,{children:"\u6d4b\u8bd5\u6210\u529f\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"24\u4ee3\u7801\u63d0\u4ea4",children:"2.4\u4ee3\u7801\u63d0\u4ea4"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(88452).A+"",width:"1077",height:"997"})}),"\n",(0,s.jsx)(e.p,{children:"\u540e\u7eed\u6b65\u9aa4\u548c\u4e0a\u8ff0\u529f\u80fd\u4ee3\u7801\u63d0\u4ea4\u4e00\u81f4\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"3-\u83dc\u54c1\u5206\u9875\u67e5\u8be2",children:"3. \u83dc\u54c1\u5206\u9875\u67e5\u8be2"}),"\n",(0,s.jsx)(e.h3,{id:"31-\u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1",children:"3.1 \u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1"}),"\n",(0,s.jsx)(e.h4,{id:"311-\u4ea7\u54c1\u539f\u578b",children:"3.1.1 \u4ea7\u54c1\u539f\u578b"}),"\n",(0,s.jsx)(e.p,{children:"\u7cfb\u7edf\u4e2d\u7684\u83dc\u54c1\u6570\u636e\u5f88\u591a\u7684\u65f6\u5019\uff0c\u5982\u679c\u5728\u4e00\u4e2a\u9875\u9762\u4e2d\u5168\u90e8\u5c55\u793a\u51fa\u6765\u4f1a\u663e\u5f97\u6bd4\u8f83\u4e71\uff0c\u4e0d\u4fbf\u4e8e\u67e5\u770b\uff0c\u6240\u4ee5\u4e00\u822c\u7684\u7cfb\u7edf\u4e2d\u90fd\u4f1a\u4ee5\u5206\u9875\u7684\u65b9\u5f0f\u6765\u5c55\u793a\u5217\u8868\u6570\u636e\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u83dc\u54c1\u5206\u9875\u539f\u578b\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(64171).A+"",width:"1041",height:"672"})}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u83dc\u54c1\u5217\u8868\u5c55\u793a\u65f6\uff0c\u9664\u4e86\u83dc\u54c1\u7684\u57fa\u672c\u4fe1\u606f(\u540d\u79f0\u3001\u552e\u4ef7\u3001\u552e\u5356\u72b6\u6001\u3001\u6700\u540e\u64cd\u4f5c\u65f6\u95f4)\u5916\uff0c\u8fd8\u6709\u4e24\u4e2a\u5b57\u6bb5\u7565\u5fae\u7279\u6b8a\uff0c\u7b2c\u4e00\u4e2a\u662f\u56fe\u7247\u5b57\u6bb5 \uff0c\u6211\u4eec\u4ece\u6570\u636e\u5e93\u67e5\u8be2\u51fa\u6765\u7684\u4ec5\u4ec5\u662f\u56fe\u7247\u7684\u540d\u5b57\uff0c\u56fe\u7247\u8981\u60f3\u5728\u8868\u683c\u4e2d\u56de\u663e\u5c55\u793a\u51fa\u6765\uff0c\u5c31\u9700\u8981\u4e0b\u8f7d\u8fd9\u4e2a\u56fe\u7247\u3002\u7b2c\u4e8c\u4e2a\u662f\u83dc\u54c1\u5206\u7c7b\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u5206\u7c7b\u540d\u79f0\uff0c\u800c\u4e0d\u662f\u5206\u7c7bID\uff0c\u6b64\u65f6\u6211\u4eec\u5c31\u9700\u8981\u6839\u636e\u83dc\u54c1\u7684\u5206\u7c7bID\uff0c\u53bb\u5206\u7c7b\u8868\u4e2d\u67e5\u8be2\u5206\u7c7b\u4fe1\u606f\uff0c\u7136\u540e\u5728\u9875\u9762\u5c55\u793a\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u4e1a\u52a1\u89c4\u5219\uff1a"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6839\u636e\u9875\u7801\u5c55\u793a\u83dc\u54c1\u4fe1\u606f"}),"\n",(0,s.jsx)(e.li,{children:"\u6bcf\u9875\u5c55\u793a10\u6761\u6570\u636e"}),"\n",(0,s.jsx)(e.li,{children:"\u5206\u9875\u67e5\u8be2\u65f6\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8f93\u5165\u83dc\u54c1\u540d\u79f0\u3001\u83dc\u54c1\u5206\u7c7b\u3001\u83dc\u54c1\u72b6\u6001\u8fdb\u884c\u67e5\u8be2"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"312-\u63a5\u53e3\u8bbe\u8ba1",children:"3.1.2 \u63a5\u53e3\u8bbe\u8ba1"}),"\n",(0,s.jsx)(e.p,{children:"\u6839\u636e\u4e0a\u8ff0\u539f\u578b\u56fe\uff0c\u8bbe\u8ba1\u51fa\u76f8\u5e94\u7684\u63a5\u53e3\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(70250).A+"",width:"507",height:"697"})}),"\n",(0,s.jsx)(e.h3,{id:"32-\u4ee3\u7801\u5f00\u53d1",children:"3.2 \u4ee3\u7801\u5f00\u53d1"}),"\n",(0,s.jsx)(e.h4,{id:"321-\u8bbe\u8ba1dto\u7c7b",children:"3.2.1 \u8bbe\u8ba1DTO\u7c7b"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u6839\u636e\u83dc\u54c1\u5206\u9875\u67e5\u8be2\u63a5\u53e3\u5b9a\u4e49\u8bbe\u8ba1\u5bf9\u5e94\u7684DTO\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:"\u5728sky-pojo\u6a21\u5757\u4e2d\uff0c\u5df2\u5b9a\u4e49"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"package com.sky.dto;\r\n\r\nimport lombok.Data;\r\nimport java.io.Serializable;\r\n\r\n@Data\r\npublic class DishPageQueryDTO implements Serializable {\r\n\r\n    private int page;\r\n    private int pageSize;\r\n    private String name;\r\n    private Integer categoryId; //\u5206\u7c7bid\r\n    private Integer status; //\u72b6\u6001 0\u8868\u793a\u7981\u7528 1\u8868\u793a\u542f\u7528\r\n\r\n}\n"})}),"\n",(0,s.jsx)(e.h4,{id:"322-\u8bbe\u8ba1vo\u7c7b",children:"3.2.2 \u8bbe\u8ba1VO\u7c7b"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u6839\u636e\u83dc\u54c1\u5206\u9875\u67e5\u8be2\u63a5\u53e3\u5b9a\u4e49\u8bbe\u8ba1\u5bf9\u5e94\u7684VO\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:"\u5728sky-pojo\u6a21\u5757\u4e2d\uff0c\u5df2\u5b9a\u4e49"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"package com.sky.vo;\r\n\r\nimport com.sky.entity.DishFlavor;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport java.io.Serializable;\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDateTime;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class DishVO implements Serializable {\r\n\r\n    private Long id;\r\n    //\u83dc\u54c1\u540d\u79f0\r\n    private String name;\r\n    //\u83dc\u54c1\u5206\u7c7bid\r\n    private Long categoryId;\r\n    //\u83dc\u54c1\u4ef7\u683c\r\n    private BigDecimal price;\r\n    //\u56fe\u7247\r\n    private String image;\r\n    //\u63cf\u8ff0\u4fe1\u606f\r\n    private String description;\r\n    //0 \u505c\u552e 1 \u8d77\u552e\r\n    private Integer status;\r\n    //\u66f4\u65b0\u65f6\u95f4\r\n    private LocalDateTime updateTime;\r\n    //\u5206\u7c7b\u540d\u79f0\r\n    private String categoryName;\r\n    //\u83dc\u54c1\u5173\u8054\u7684\u53e3\u5473\r\n    private List<DishFlavor> flavors = new ArrayList<>();\r\n}\n"})}),"\n",(0,s.jsx)(e.h4,{id:"323-controller\u5c42",children:"3.2.3 Controller\u5c42"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u6839\u636e\u63a5\u53e3\u5b9a\u4e49\u521b\u5efaDishController\u7684page\u5206\u9875\u67e5\u8be2\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'\t/**\r\n     * \u83dc\u54c1\u5206\u9875\u67e5\u8be2\r\n     *\r\n     * @param dishPageQueryDTO\r\n     * @return\r\n     */\r\n    @GetMapping("/page")\r\n    @ApiOperation("\u83dc\u54c1\u5206\u9875\u67e5\u8be2")\r\n    public Result<PageResult> page(DishPageQueryDTO dishPageQueryDTO) {\r\n        log.info("\u83dc\u54c1\u5206\u9875\u67e5\u8be2:{}", dishPageQueryDTO);\r\n        PageResult pageResult = dishService.pageQuery(dishPageQueryDTO);//\u540e\u7eea\u6b65\u9aa4\u5b9a\u4e49\r\n        return Result.success(pageResult);\r\n    }\n'})}),"\n",(0,s.jsx)(e.h4,{id:"324-service\u5c42\u63a5\u53e3",children:"3.2.4 Service\u5c42\u63a5\u53e3"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728 DishService \u4e2d\u6269\u5c55\u5206\u9875\u67e5\u8be2\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u83dc\u54c1\u5206\u9875\u67e5\u8be2\r\n     *\r\n     * @param dishPageQueryDTO\r\n     * @return\r\n     */\r\n    PageResult pageQuery(DishPageQueryDTO dishPageQueryDTO);\n"})}),"\n",(0,s.jsx)(e.h4,{id:"325-service\u5c42\u5b9e\u73b0\u7c7b",children:"3.2.5 Service\u5c42\u5b9e\u73b0\u7c7b"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728 DishServiceImpl \u4e2d\u5b9e\u73b0\u5206\u9875\u67e5\u8be2\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u83dc\u54c1\u5206\u9875\u67e5\u8be2\r\n     *\r\n     * @param dishPageQueryDTO\r\n     * @return\r\n     */\r\n    public PageResult pageQuery(DishPageQueryDTO dishPageQueryDTO) {\r\n        PageHelper.startPage(dishPageQueryDTO.getPage(), dishPageQueryDTO.getPageSize());\r\n        Page<DishVO> page = dishMapper.pageQuery(dishPageQueryDTO);//\u540e\u7eea\u6b65\u9aa4\u5b9e\u73b0\r\n        return new PageResult(page.getTotal(), page.getResult());\r\n    }\n"})}),"\n",(0,s.jsx)(e.h4,{id:"326-mapper\u5c42",children:"3.2.6 Mapper\u5c42"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728 DishMapper \u63a5\u53e3\u4e2d\u58f0\u660e pageQuery \u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u83dc\u54c1\u5206\u9875\u67e5\u8be2\r\n     *\r\n     * @param dishPageQueryDTO\r\n     * @return\r\n     */\r\n    Page<DishVO> pageQuery(DishPageQueryDTO dishPageQueryDTO);\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728 DishMapper.xml \u4e2d\u7f16\u5199SQL\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<select id="pageQuery" resultType="com.sky.vo.DishVO">\r\n        select d.* , c.name as categoryName from dish d left outer join category c on d.category_id = c.id\r\n        <where>\r\n            <if test="name != null">\r\n                and d.name like concat(\'%\',#{name},\'%\')\r\n            </if>\r\n            <if test="categoryId != null">\r\n                and d.category_id = #{categoryId}\r\n            </if>\r\n            <if test="status != null">\r\n                and d.status = #{status}\r\n            </if>\r\n        </where>\r\n        order by d.create_time desc\r\n</select>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"33-\u529f\u80fd\u6d4b\u8bd5",children:"3.3 \u529f\u80fd\u6d4b\u8bd5"}),"\n",(0,s.jsx)(e.h4,{id:"331-\u63a5\u53e3\u6587\u6863\u6d4b\u8bd5",children:"3.3.1 \u63a5\u53e3\u6587\u6863\u6d4b\u8bd5"}),"\n",(0,s.jsxs)(e.p,{children:["**\u542f\u52a8\u670d\u52a1\uff1a**\u8bbf\u95ee",(0,s.jsx)(e.a,{href:"http://localhost:8080/doc.html%EF%BC%8C%E8%BF%9B%E5%85%A5%E8%8F%9C%E5%93%81%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2%E6%8E%A5%E5%8F%A3",children:"http://localhost:8080/doc.html\uff0c\u8fdb\u5165\u83dc\u54c1\u5206\u9875\u67e5\u8be2\u63a5\u53e3"})]}),"\n",(0,s.jsx)(e.p,{children:"**\u6ce8\u610f\uff1a**\u4f7f\u7528admin\u7528\u6237\u767b\u5f55\u91cd\u65b0\u83b7\u53d6token\uff0c\u9632\u6b62token\u5931\u6548\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(50406).A+"",width:"1902",height:"649"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u70b9\u51fb\u53d1\u9001\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(4946).A+"",width:"1378",height:"357"})}),"\n",(0,s.jsx)(e.h4,{id:"332-\u524d\u540e\u7aef\u8054\u8c03\u6d4b\u8bd5",children:"3.3.2 \u524d\u540e\u7aef\u8054\u8c03\u6d4b\u8bd5"}),"\n",(0,s.jsxs)(e.p,{children:["\u542f\u52a8nginx,\u8bbf\u95ee ",(0,s.jsx)(e.a,{href:"http://localhost",children:"http://localhost"})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u70b9\u51fb\u83dc\u54c1\u7ba1\u7406"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(50430).A+"",width:"1900",height:"844"})}),"\n",(0,s.jsx)(e.p,{children:"\u6570\u636e\u6210\u529f\u67e5\u51fa\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"4-\u5220\u9664\u83dc\u54c1",children:"4. \u5220\u9664\u83dc\u54c1"}),"\n",(0,s.jsx)(e.h3,{id:"41-\u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1",children:"4.1 \u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1"}),"\n",(0,s.jsx)(e.h4,{id:"411-\u4ea7\u54c1\u539f\u578b",children:"4.1.1 \u4ea7\u54c1\u539f\u578b"}),"\n",(0,s.jsxs)(e.p,{children:["\u5728\u83dc\u54c1\u5217\u8868\u9875\u9762\uff0c\u6bcf\u4e2a\u83dc\u54c1\u540e\u9762\u5bf9\u5e94\u7684\u64cd\u4f5c\u5206\u522b\u4e3a",(0,s.jsx)(e.strong,{children:"\u4fee\u6539"}),"\u3001",(0,s.jsx)(e.strong,{children:"\u5220\u9664"}),"\u3001",(0,s.jsx)(e.strong,{children:"\u505c\u552e"}),"\uff0c\u53ef\u901a\u8fc7\u5220\u9664\u529f\u80fd\u5b8c\u6210\u5bf9\u83dc\u54c1\u53ca\u76f8\u5173\u7684\u6570\u636e\u8fdb\u884c\u5220\u9664\u3002"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5220\u9664\u83dc\u54c1\u539f\u578b\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(66668).A+"",width:"1283",height:"662"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u4e1a\u52a1\u89c4\u5219\uff1a"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u53ef\u4ee5\u4e00\u6b21\u5220\u9664\u4e00\u4e2a\u83dc\u54c1\uff0c\u4e5f\u53ef\u4ee5\u6279\u91cf\u5220\u9664\u83dc\u54c1"}),"\n",(0,s.jsx)(e.li,{children:"\u8d77\u552e\u4e2d\u7684\u83dc\u54c1\u4e0d\u80fd\u5220\u9664"}),"\n",(0,s.jsx)(e.li,{children:"\u88ab\u5957\u9910\u5173\u8054\u7684\u83dc\u54c1\u4e0d\u80fd\u5220\u9664"}),"\n",(0,s.jsx)(e.li,{children:"\u5220\u9664\u83dc\u54c1\u540e\uff0c\u5173\u8054\u7684\u53e3\u5473\u6570\u636e\u4e5f\u9700\u8981\u5220\u9664\u6389"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"412-\u63a5\u53e3\u8bbe\u8ba1",children:"4.1.2 \u63a5\u53e3\u8bbe\u8ba1"}),"\n",(0,s.jsx)(e.p,{children:"\u6839\u636e\u4e0a\u8ff0\u539f\u578b\u56fe\uff0c\u8bbe\u8ba1\u51fa\u76f8\u5e94\u7684\u63a5\u53e3\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(20816).A+"",width:"630",height:"586"})}),"\n",(0,s.jsx)(e.p,{children:"**\u6ce8\u610f\uff1a**\u5220\u9664\u4e00\u4e2a\u83dc\u54c1\u548c\u6279\u91cf\u5220\u9664\u83dc\u54c1\u5171\u7528\u4e00\u4e2a\u63a5\u53e3\uff0c\u6545ids\u53ef\u5305\u542b\u591a\u4e2a\u83dc\u54c1id,\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"413-\u8868\u8bbe\u8ba1",children:"4.1.3 \u8868\u8bbe\u8ba1"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u8fdb\u884c\u5220\u9664\u83dc\u54c1\u64cd\u4f5c\u65f6\uff0c\u4f1a\u6d89\u53ca\u5230\u4ee5\u4e0b\u4e09\u5f20\u8868\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(28905).A+"",width:"1167",height:"693"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u6ce8\u610f\u4e8b\u9879\uff1a"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5728dish\u8868\u4e2d\u5220\u9664\u83dc\u54c1\u57fa\u672c\u6570\u636e\u65f6\uff0c\u540c\u65f6\uff0c\u4e5f\u8981\u628a\u5173\u8054\u5728dish_flavor\u8868\u4e2d\u7684\u6570\u636e\u4e00\u5757\u5220\u9664\u3002"}),"\n",(0,s.jsx)(e.li,{children:"setmeal_dish\u8868\u4e3a\u83dc\u54c1\u548c\u5957\u9910\u5173\u8054\u7684\u4e2d\u95f4\u8868\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u82e5\u5220\u9664\u7684\u83dc\u54c1\u6570\u636e\u5173\u8054\u7740\u67d0\u4e2a\u5957\u9910\uff0c\u6b64\u65f6\uff0c\u5220\u9664\u5931\u8d25\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u82e5\u8981\u5220\u9664\u5957\u9910\u5173\u8054\u7684\u83dc\u54c1\u6570\u636e\uff0c\u5148\u89e3\u9664\u4e24\u8005\u5173\u8054\uff0c\u518d\u5bf9\u83dc\u54c1\u8fdb\u884c\u5220\u9664\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"42-\u4ee3\u7801\u5f00\u53d1",children:"4.2 \u4ee3\u7801\u5f00\u53d1"}),"\n",(0,s.jsx)(e.h4,{id:"412-controller\u5c42",children:"4.1.2 Controller\u5c42"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u6839\u636e\u5220\u9664\u83dc\u54c1\u7684\u63a5\u53e3\u5b9a\u4e49\u5728DishController\u4e2d\u521b\u5efa\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'\t/**\r\n     * \u83dc\u54c1\u6279\u91cf\u5220\u9664\r\n     *\r\n     * @param ids\r\n     * @return\r\n     */\r\n    @DeleteMapping\r\n    @ApiOperation("\u83dc\u54c1\u6279\u91cf\u5220\u9664")\r\n    public Result delete(@RequestParam List<Long> ids) {\r\n        log.info("\u83dc\u54c1\u6279\u91cf\u5220\u9664\uff1a{}", ids);\r\n        dishService.deleteBatch(ids);//\u540e\u7eea\u6b65\u9aa4\u5b9e\u73b0\r\n        return Result.success();\r\n    }\n'})}),"\n",(0,s.jsx)(e.h4,{id:"422-service\u5c42\u63a5\u53e3",children:"4.2.2 Service\u5c42\u63a5\u53e3"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728DishService\u63a5\u53e3\u4e2d\u58f0\u660edeleteBatch\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u83dc\u54c1\u6279\u91cf\u5220\u9664\r\n     *\r\n     * @param ids\r\n     */\r\n    void deleteBatch(List<Long> ids);\n"})}),"\n",(0,s.jsx)(e.h4,{id:"423-service\u5c42\u5b9e\u73b0\u7c7b",children:"4.2.3 Service\u5c42\u5b9e\u73b0\u7c7b"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728DishServiceImpl\u4e2d\u5b9e\u73b0deleteBatch\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"    @Autowired\r\n    private SetmealDishMapper setmealDishMapper;\r\n\t/**\r\n     * \u83dc\u54c1\u6279\u91cf\u5220\u9664\r\n     *\r\n     * @param ids\r\n     */\r\n    @Transactional//\u4e8b\u52a1\r\n    public void deleteBatch(List<Long> ids) {\r\n        //\u5224\u65ad\u5f53\u524d\u83dc\u54c1\u662f\u5426\u80fd\u591f\u5220\u9664---\u662f\u5426\u5b58\u5728\u8d77\u552e\u4e2d\u7684\u83dc\u54c1\uff1f\uff1f\r\n        for (Long id : ids) {\r\n            Dish dish = dishMapper.getById(id);//\u540e\u7eea\u6b65\u9aa4\u5b9e\u73b0\r\n            if (dish.getStatus() == StatusConstant.ENABLE) {\r\n                //\u5f53\u524d\u83dc\u54c1\u5904\u4e8e\u8d77\u552e\u4e2d\uff0c\u4e0d\u80fd\u5220\u9664\r\n                throw new DeletionNotAllowedException(MessageConstant.DISH_ON_SALE);\r\n            }\r\n        }\r\n\r\n        //\u5224\u65ad\u5f53\u524d\u83dc\u54c1\u662f\u5426\u80fd\u591f\u5220\u9664---\u662f\u5426\u88ab\u5957\u9910\u5173\u8054\u4e86\uff1f\uff1f\r\n        List<Long> setmealIds = setmealDishMapper.getSetmealIdsByDishIds(ids);\r\n        if (setmealIds != null && setmealIds.size() > 0) {\r\n            //\u5f53\u524d\u83dc\u54c1\u88ab\u5957\u9910\u5173\u8054\u4e86\uff0c\u4e0d\u80fd\u5220\u9664\r\n            throw new DeletionNotAllowedException(MessageConstant.DISH_BE_RELATED_BY_SETMEAL);\r\n        }\r\n\r\n        //\u5220\u9664\u83dc\u54c1\u8868\u4e2d\u7684\u83dc\u54c1\u6570\u636e\r\n        for (Long id : ids) {\r\n            dishMapper.deleteById(id);//\u540e\u7eea\u6b65\u9aa4\u5b9e\u73b0\r\n            //\u5220\u9664\u83dc\u54c1\u5173\u8054\u7684\u53e3\u5473\u6570\u636e\r\n            dishFlavorMapper.deleteByDishId(id);//\u540e\u7eea\u6b65\u9aa4\u5b9e\u73b0\r\n        }\r\n    }\n"})}),"\n",(0,s.jsx)(e.h4,{id:"424-mapper\u5c42",children:"4.2.4 Mapper\u5c42"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728DishMapper\u4e2d\u58f0\u660egetById\u65b9\u6cd5\uff0c\u5e76\u914d\u7f6eSQL\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'\t/**\r\n     * \u6839\u636e\u4e3b\u952e\u67e5\u8be2\u83dc\u54c1\r\n     *\r\n     * @param id\r\n     * @return\r\n     */\r\n    @Select("select * from dish where id = #{id}")\r\n    Dish getById(Long id);\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u521b\u5efaSetmealDishMapper\uff0c\u58f0\u660egetSetmealIdsByDishIds\u65b9\u6cd5\uff0c\u5e76\u5728xml\u6587\u4ef6\u4e2d\u7f16\u5199SQL\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"package com.sky.mapper;\r\n\r\nimport com.sky.entity.SetmealDish;\r\nimport org.apache.ibatis.annotations.Delete;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport java.util.List;\r\n\r\n@Mapper\r\npublic interface SetmealDishMapper {\r\n    /**\r\n     * \u6839\u636e\u83dc\u54c1id\u67e5\u8be2\u5bf9\u5e94\u7684\u5957\u9910id\r\n     *\r\n     * @param dishIds\r\n     * @return\r\n     */\r\n    //select setmeal_id from setmeal_dish where dish_id in (1,2,3,4)\r\n    List<Long> getSetmealIdsByDishIds(List<Long> dishIds);\r\n}\r\n\n"})}),"\n",(0,s.jsx)(e.p,{children:"SetmealDishMapper.xml"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8" ?>\r\n<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\r\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >\r\n<mapper namespace="com.sky.mapper.SetmealDishMapper">\r\n    <select id="getSetmealIdsByDishIds" resultType="java.lang.Long">\r\n        select setmeal_id from setmeal_dish where dish_id in\r\n        <foreach collection="dishIds" item="dishId" separator="," open="(" close=")">\r\n            #{dishId}\r\n        </foreach>\r\n    </select>\r\n</mapper>\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728DishMapper.java\u4e2d\u58f0\u660edeleteById\u65b9\u6cd5\u5e76\u914d\u7f6eSQL\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'\t/**\r\n     * \u6839\u636e\u4e3b\u952e\u5220\u9664\u83dc\u54c1\u6570\u636e\r\n     *\r\n     * @param id\r\n     */\r\n    @Delete("delete from dish where id = #{id}")\r\n    void deleteById(Long id);\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728DishFlavorMapper\u4e2d\u58f0\u660edeleteByDishId\u65b9\u6cd5\u5e76\u914d\u7f6eSQL\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'    /**\r\n     * \u6839\u636e\u83dc\u54c1id\u5220\u9664\u5bf9\u5e94\u7684\u53e3\u5473\u6570\u636e\r\n     * @param dishId\r\n     */\r\n    @Delete("delete from dish_flavor where dish_id = #{dishId}")\r\n    void deleteByDishId(Long dishId);\n'})}),"\n",(0,s.jsx)(e.h3,{id:"43-\u529f\u80fd\u6d4b\u8bd5",children:"4.3 \u529f\u80fd\u6d4b\u8bd5"}),"\n",(0,s.jsxs)(e.p,{children:["\u65e2\u53ef\u4ee5\u901a\u8fc7Swagger\u63a5\u53e3\u6587\u6863\u8fdb\u884c\u6d4b\u8bd5\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u524d\u540e\u7aef\u8054\u8c03\u6d4b\u8bd5\uff0c\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528",(0,s.jsx)(e.strong,{children:"\u524d\u540e\u7aef\u8054\u8c03\u6d4b\u8bd5"}),"\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u8fdb\u5165\u5230\u83dc\u54c1\u5217\u8868\u67e5\u8be2\u9875\u9762"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(64506).A+"",width:"1893",height:"791"})}),"\n",(0,s.jsx)(e.p,{children:"\u5bf9\u6d4b\u8bd5\u83dc\u54c1\u8fdb\u884c\u5220\u9664\u64cd\u4f5c"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(87058).A+"",width:"1896",height:"751"})}),"\n",(0,s.jsxs)(e.p,{children:["\u540c\u65f6\uff0c\u8fdb\u5230dish\u8868\u548cdish_flavor\u4e24\u4e2a\u8868\u67e5\u770b",(0,s.jsx)(e.strong,{children:"\u6d4b\u8bd5\u83dc\u54c1"}),"\u7684\u76f8\u5173\u6570\u636e\u90fd\u5df2\u88ab\u6210\u529f\u5220\u9664\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u518d\u6b21\uff0c\u5220\u9664\u72b6\u6001\u4e3a\u542f\u552e\u7684\u83dc\u54c1"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(98215).A+"",width:"1889",height:"652"})}),"\n",(0,s.jsx)(e.p,{children:"\u70b9\u51fb\u6279\u91cf\u5220\u9664"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(36070).A+"",width:"1896",height:"562"})}),"\n",(0,s.jsx)(e.p,{children:"\u5220\u9664\u5931\u8d25\uff0c\u56e0\u4e3a\u8d77\u552e\u4e2d\u7684\u83dc\u54c1\u4e0d\u80fd\u5220\u9664\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"44-\u4ee3\u7801\u63d0\u4ea4",children:"4.4 \u4ee3\u7801\u63d0\u4ea4"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(62515).A+"",width:"1082",height:"1004"})}),"\n",(0,s.jsx)(e.p,{children:"\u540e\u7eed\u6b65\u9aa4\u548c\u4e0a\u8ff0\u529f\u80fd\u4ee3\u7801\u63d0\u4ea4\u4e00\u81f4\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"5-\u4fee\u6539\u83dc\u54c1",children:"5. \u4fee\u6539\u83dc\u54c1"}),"\n",(0,s.jsx)(e.h3,{id:"51-\u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1",children:"5.1 \u9700\u6c42\u5206\u6790\u548c\u8bbe\u8ba1"}),"\n",(0,s.jsx)(e.h4,{id:"511-\u4ea7\u54c1\u539f\u578b",children:"5.1.1 \u4ea7\u54c1\u539f\u578b"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u83dc\u54c1\u7ba1\u7406\u5217\u8868\u9875\u9762\u70b9\u51fb\u4fee\u6539\u6309\u94ae\uff0c\u8df3\u8f6c\u5230\u4fee\u6539\u83dc\u54c1\u9875\u9762\uff0c\u5728\u4fee\u6539\u9875\u9762\u56de\u663e\u83dc\u54c1\u76f8\u5173\u4fe1\u606f\u5e76\u8fdb\u884c\u4fee\u6539\uff0c\u6700\u540e\u70b9\u51fb\u4fdd\u5b58\u6309\u94ae\u5b8c\u6210\u4fee\u6539\u64cd\u4f5c\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u4fee\u6539\u83dc\u54c1\u539f\u578b\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(38929).A+"",width:"1082",height:"744"})}),"\n",(0,s.jsx)(e.h4,{id:"512-\u63a5\u53e3\u8bbe\u8ba1",children:"5.1.2 \u63a5\u53e3\u8bbe\u8ba1"}),"\n",(0,s.jsx)(e.p,{children:"\u901a\u8fc7\u5bf9\u4e0a\u8ff0\u539f\u578b\u56fe\u8fdb\u884c\u5206\u6790\uff0c\u8be5\u9875\u9762\u5171\u6d89\u53ca4\u4e2a\u63a5\u53e3\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u63a5\u53e3\uff1a"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6839\u636eid\u67e5\u8be2\u83dc\u54c1"}),"\n",(0,s.jsx)(e.li,{children:"\u6839\u636e\u7c7b\u578b\u67e5\u8be2\u5206\u7c7b(\u5df2\u5b9e\u73b0)"}),"\n",(0,s.jsx)(e.li,{children:"\u6587\u4ef6\u4e0a\u4f20(\u5df2\u5b9e\u73b0)"}),"\n",(0,s.jsx)(e.li,{children:"\u4fee\u6539\u83dc\u54c1"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u6211\u4eec\u53ea\u9700\u8981\u5b9e\u73b0",(0,s.jsx)(e.strong,{children:"\u6839\u636eid\u67e5\u8be2\u83dc\u54c1"}),"\u548c",(0,s.jsx)(e.strong,{children:"\u4fee\u6539\u83dc\u54c1"}),"\u4e24\u4e2a\u63a5\u53e3\uff0c\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u91cd\u70b9\u5206\u6790\u8fd9\u4e24\u4e2a\u63a5\u53e3\u3002"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1). \u6839\u636eid\u67e5\u8be2\u83dc\u54c1"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(99312).A+"",width:"301",height:"554"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2). \u4fee\u6539\u83dc\u54c1"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(88636).A+"",width:"550",height:"456"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(44324).A+"",width:"502",height:"261"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u6ce8:\u56e0\u4e3a\u662f\u4fee\u6539\u529f\u80fd\uff0c\u8bf7\u6c42\u65b9\u5f0f\u53ef\u8bbe\u7f6e\u4e3aPUT\u3002"})}),"\n",(0,s.jsx)(e.h3,{id:"52-\u4ee3\u7801\u5f00\u53d1",children:"5.2 \u4ee3\u7801\u5f00\u53d1"}),"\n",(0,s.jsx)(e.h4,{id:"521-\u6839\u636eid\u67e5\u8be2\u83dc\u54c1\u5b9e\u73b0",children:"5.2.1 \u6839\u636eid\u67e5\u8be2\u83dc\u54c1\u5b9e\u73b0"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1). Controller\u5c42"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u6839\u636eid\u67e5\u8be2\u83dc\u54c1\u7684\u63a5\u53e3\u5b9a\u4e49\u5728DishController\u4e2d\u521b\u5efa\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'    /**\r\n     * \u6839\u636eid\u67e5\u8be2\u83dc\u54c1\r\n     *\r\n     * @param id\r\n     * @return\r\n     */\r\n    @GetMapping("/{id}")\r\n    @ApiOperation("\u6839\u636eid\u67e5\u8be2\u83dc\u54c1")\r\n    public Result<DishVO> getById(@PathVariable Long id) {\r\n        log.info("\u6839\u636eid\u67e5\u8be2\u83dc\u54c1\uff1a{}", id);\r\n        DishVO dishVO = dishService.getByIdWithFlavor(id);//\u540e\u7eea\u6b65\u9aa4\u5b9e\u73b0\r\n        return Result.success(dishVO);\r\n    }\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2). Service\u5c42\u63a5\u53e3"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728DishService\u63a5\u53e3\u4e2d\u58f0\u660egetByIdWithFlavor\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u6839\u636eid\u67e5\u8be2\u83dc\u54c1\u548c\u5bf9\u5e94\u7684\u53e3\u5473\u6570\u636e\r\n     *\r\n     * @param id\r\n     * @return\r\n     */\r\n    DishVO getByIdWithFlavor(Long id);\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"3). Service\u5c42\u5b9e\u73b0\u7c7b"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728DishServiceImpl\u4e2d\u5b9e\u73b0getByIdWithFlavor\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u6839\u636eid\u67e5\u8be2\u83dc\u54c1\u548c\u5bf9\u5e94\u7684\u53e3\u5473\u6570\u636e\r\n     *\r\n     * @param id\r\n     * @return\r\n     */\r\n    public DishVO getByIdWithFlavor(Long id) {\r\n        //\u6839\u636eid\u67e5\u8be2\u83dc\u54c1\u6570\u636e\r\n        Dish dish = dishMapper.getById(id);\r\n\r\n        //\u6839\u636e\u83dc\u54c1id\u67e5\u8be2\u53e3\u5473\u6570\u636e\r\n        List<DishFlavor> dishFlavors = dishFlavorMapper.getByDishId(id);//\u540e\u7eea\u6b65\u9aa4\u5b9e\u73b0\r\n\r\n        //\u5c06\u67e5\u8be2\u5230\u7684\u6570\u636e\u5c01\u88c5\u5230VO\r\n        DishVO dishVO = new DishVO();\r\n        BeanUtils.copyProperties(dish, dishVO);\r\n        dishVO.setFlavors(dishFlavors);\r\n\r\n        return dishVO;\r\n    }\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"4). Mapper\u5c42"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728DishFlavorMapper\u4e2d\u58f0\u660egetByDishId\u65b9\u6cd5\uff0c\u5e76\u914d\u7f6eSQL\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'    /**\r\n     * \u6839\u636e\u83dc\u54c1id\u67e5\u8be2\u5bf9\u5e94\u7684\u53e3\u5473\u6570\u636e\r\n     * @param dishId\r\n     * @return\r\n     */\r\n    @Select("select * from dish_flavor where dish_id = #{dishId}")\r\n    List<DishFlavor> getByDishId(Long dishId);\n'})}),"\n",(0,s.jsx)(e.h4,{id:"521-\u4fee\u6539\u83dc\u54c1\u5b9e\u73b0",children:"5.2.1 \u4fee\u6539\u83dc\u54c1\u5b9e\u73b0"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1). Controller\u5c42"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u6839\u636e\u4fee\u6539\u83dc\u54c1\u7684\u63a5\u53e3\u5b9a\u4e49\u5728DishController\u4e2d\u521b\u5efa\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'\t/**\r\n     * \u4fee\u6539\u83dc\u54c1\r\n     *\r\n     * @param dishDTO\r\n     * @return\r\n     */\r\n    @PutMapping\r\n    @ApiOperation("\u4fee\u6539\u83dc\u54c1")\r\n    public Result update(@RequestBody DishDTO dishDTO) {\r\n        log.info("\u4fee\u6539\u83dc\u54c1\uff1a{}", dishDTO);\r\n        dishService.updateWithFlavor(dishDTO);\r\n        return Result.success();\r\n    }\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2). Service\u5c42\u63a5\u53e3"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728DishService\u63a5\u53e3\u4e2d\u58f0\u660eupdateWithFlavor\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u6839\u636eid\u4fee\u6539\u83dc\u54c1\u57fa\u672c\u4fe1\u606f\u548c\u5bf9\u5e94\u7684\u53e3\u5473\u4fe1\u606f\r\n     *\r\n     * @param dishDTO\r\n     */\r\n    void updateWithFlavor(DishDTO dishDTO);\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"3). Service\u5c42\u5b9e\u73b0\u7c7b"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728DishServiceImpl\u4e2d\u5b9e\u73b0updateWithFlavor\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u6839\u636eid\u4fee\u6539\u83dc\u54c1\u57fa\u672c\u4fe1\u606f\u548c\u5bf9\u5e94\u7684\u53e3\u5473\u4fe1\u606f\r\n     *\r\n     * @param dishDTO\r\n     */\r\n    public void updateWithFlavor(DishDTO dishDTO) {\r\n        Dish dish = new Dish();\r\n        BeanUtils.copyProperties(dishDTO, dish);\r\n\r\n        //\u4fee\u6539\u83dc\u54c1\u8868\u57fa\u672c\u4fe1\u606f\r\n        dishMapper.update(dish);\r\n\r\n        //\u5220\u9664\u539f\u6709\u7684\u53e3\u5473\u6570\u636e\r\n        dishFlavorMapper.deleteByDishId(dishDTO.getId());\r\n\r\n        //\u91cd\u65b0\u63d2\u5165\u53e3\u5473\u6570\u636e\r\n        List<DishFlavor> flavors = dishDTO.getFlavors();\r\n        if (flavors != null && flavors.size() > 0) {\r\n            flavors.forEach(dishFlavor -> {\r\n                dishFlavor.setDishId(dishDTO.getId());\r\n            });\r\n            //\u5411\u53e3\u5473\u8868\u63d2\u5165n\u6761\u6570\u636e\r\n            dishFlavorMapper.insertBatch(flavors);\r\n        }\r\n    }\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"4). Mapper\u5c42"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5728DishMapper\u4e2d\uff0c\u58f0\u660eupdate\u65b9\u6cd5\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"\t/**\r\n     * \u6839\u636eid\u52a8\u6001\u4fee\u6539\u83dc\u54c1\u6570\u636e\r\n     *\r\n     * @param dish\r\n     */\r\n    @AutoFill(value = OperationType.UPDATE)\r\n    void update(Dish dish);\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u5e76\u5728DishMapper.xml\u6587\u4ef6\u4e2d\u7f16\u5199SQL:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<update id="update">\r\n        update dish\r\n        <set>\r\n            <if test="name != null">name = #{name},</if>\r\n            <if test="categoryId != null">category_id = #{categoryId},</if>\r\n            <if test="price != null">price = #{price},</if>\r\n            <if test="image != null">image = #{image},</if>\r\n            <if test="description != null">description = #{description},</if>\r\n            <if test="status != null">status = #{status},</if>\r\n            <if test="updateTime != null">update_time = #{updateTime},</if>\r\n            <if test="updateUser != null">update_user = #{updateUser},</if>\r\n        </set>\r\n        where id = #{id}\r\n</update>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"53-\u529f\u80fd\u6d4b\u8bd5",children:"5.3 \u529f\u80fd\u6d4b\u8bd5"}),"\n",(0,s.jsxs)(e.p,{children:["\u672c\u6b21\u6d4b\u8bd5\u76f4\u63a5\u901a\u8fc7",(0,s.jsx)(e.strong,{children:"\u524d\u540e\u7aef\u8054\u8c03\u6d4b\u8bd5"})," \uff0c\u53ef\u4f7f\u7528Debug\u65b9\u5f0f\u542f\u52a8\u9879\u76ee\uff0c\u89c2\u5bdf\u8fd0\u884c\u4e2d\u6b65\u9aa4\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u8fdb\u5165\u83dc\u54c1\u5217\u8868\u67e5\u8be2\u9875\u9762\uff0c\u5bf9\u7b2c\u4e00\u4e2a\u83dc\u54c1\u7684\u4ef7\u683c\u8fdb\u884c\u4fee\u6539"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(99460).A+"",width:"1891",height:"670"})}),"\n",(0,s.jsx)(e.p,{children:"\u70b9\u51fb\u4fee\u6539\uff0c\u56de\u663e\u6210\u529f"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(77605).A+"",width:"1581",height:"844"})}),"\n",(0,s.jsx)(e.p,{children:"\u83dc\u54c1\u4ef7\u683c\u4fee\u6539\u540e\uff0c\u70b9\u51fb\u4fdd\u5b58"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(41260).A+"",width:"1892",height:"758"})}),"\n",(0,s.jsx)(e.p,{children:"\u4fee\u6539\u6210\u529f"}),"\n",(0,s.jsx)(e.h3,{id:"54-\u4ee3\u7801\u63d0\u4ea4",children:"5.4 \u4ee3\u7801\u63d0\u4ea4"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(38485).A+"",width:"1083",height:"1001"})}),"\n",(0,s.jsx)(e.p,{children:"\u540e\u7eed\u6b65\u9aa4\u548c\u4e0a\u8ff0\u529f\u80fd\u4ee3\u7801\u63d0\u4ea4\u4e00\u81f4\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002"})]})}function o(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},16759:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121142133307-68fca31000d1a510a07d14c932849a23.png"},97860:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121154642757-0391c77fde3df4bbbd82cc0cbc450556.png"},13275:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121154841887-9b200b29395d37888fe175af989daaaf.png"},87957:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121155104152-f08d35337d5214f76b031fe1578d9868.png"},85275:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121155718603-08318b412c4fd02c52a187b7b4f1d630.png"},11088:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121155824695-f67318539a3778b2af253b737b40c280.png"},89789:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121160002324-fadbaf5eeb1bd41281faaef6e6ab24ce.png"},72078:(n,e,r)=>{r.d(e,{A:()=>i});const i="data:image/png;base64,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"},85124:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121164131337-8639a6e060189e52690fc2651d95055c.png"},36250:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121165033612-267940da95cb2dc57519e3454e8e0f84.png"},49967:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121165201319-6cc4e11362f82ae11cda35ebe697df90.png"},10942:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121165254961-5e9de17d121af2348b62d202a3d7f1bd.png"},19901:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121165917874-d9671059d035d877d39ba746b90bd601.png"},99114:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121174942235-a03250244129008f30e2dbaa5cf2fe97.png"},89274:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121195440804-c8f72ad7d385c6265330ba2ab38753ef.png"},57974:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121195737692-ba30c2d5ec51ecdff9bb15fc5b66ba6d.png"},88020:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121195902555-142fafc9c299bcd8d4cc8092fdf59828.png"},88452:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121200332933-a3afe08b6274b274f1688ee1892c361b.png"},64171:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121201552489-25094dee66c09c18c0aef8cb948f0627.png"},70250:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121202019258-b5a46706db1f4ee1cacfed761d428d6d.png"},50406:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121210252403-1478f88e1bd632121dea4d54761680df.png"},4946:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121210333489-344a39254dc10137a3c6f8393258e897.png"},50430:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121210500188-4cb1d727b0719aaa068737cd9fc814cd.png"},66668:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121211236356-a24af806283ab53a098da0bcea09dc41.png"},20816:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121211801121-969ce824658266e45f63bfdfa05c3af5.png"},28905:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221121212436851-bcb3fec75c3997c63422f3e04266247c.png"},64506:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122125332084-bc601ef0bb2942d0f08899c5536d2b10.png"},87058:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122125625014-52aa6439b74570affae501d4931734cf.png"},98215:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122125841464-06dbe1190f05ae69b995bc0ed3ae3388.png"},36070:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122130016566-692da8799af38f9a9e3f1028cfed718c.png"},62515:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122130426605-ccabfce4cbbcbcd52014f93ecee975b3.png"},38929:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122130837173-9941e0c08224209dd398ea1a4f90f8ee.png"},99312:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122131733147-22e13aa325ca401ba21127a8f857cedf.png"},88636:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122131837393-6f7e9b9814689cd5bc74092eaf9dcb65.png"},44324:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122131914533-79b6005248e4ff0145dd7e45b7e5d654.png"},99460:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122141233080-a6b9857a9d847735cd6e737f2f083553.png"},77605:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122141348677-064edfaf1dd067f1d6c8e5525753d4d9.png"},41260:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122141456498-fbd313df1ae21e189b7c96c6a64e6a1f.png"},38485:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/image-20221122141554380-ca81bd1d58b572bfba209f6f922756db.png"},28453:(n,e,r)=>{r.d(e,{R:()=>d,x:()=>a});var i=r(96540);const s={},t=i.createContext(s);function d(n){const e=i.useContext(t);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:d(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);