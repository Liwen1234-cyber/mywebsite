"use strict";(self.webpackChunkmybase=self.webpackChunkmybase||[]).push([[88555],{58014:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>r,default:()=>t,frontMatter:()=>i,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"\u7801\u519c/Java\u9762\u8bd5\u6307\u5317/\u6280\u672f\u9762\u8bd5\u9898\u7bc7/\u9ad8\u5e76\u53d1/\u9ad8\u6027\u80fd\uff1a\u6709\u54ea\u4e9b\u5e38\u89c1\u7684SQL\u4f18\u5316\u624b\u6bb5\uff1f","title":"\u9ad8\u6027\u80fd\uff1a\u6709\u54ea\u4e9b\u5e38\u89c1\u7684 SQL \u4f18\u5316\u624b\u6bb5\uff1f","description":"\u907f\u514d\u4f7f\u7528 SELECT *","source":"@site/docs/\u7801\u519c/Java\u9762\u8bd5\u6307\u5317/\u6280\u672f\u9762\u8bd5\u9898\u7bc7/\u9ad8\u5e76\u53d1/\u9ad8\u6027\u80fd\uff1a\u6709\u54ea\u4e9b\u5e38\u89c1\u7684SQL\u4f18\u5316\u624b\u6bb5\uff1f.md","sourceDirName":"\u7801\u519c/Java\u9762\u8bd5\u6307\u5317/\u6280\u672f\u9762\u8bd5\u9898\u7bc7/\u9ad8\u5e76\u53d1","slug":"/\u7801\u519c/Java\u9762\u8bd5\u6307\u5317/\u6280\u672f\u9762\u8bd5\u9898\u7bc7/\u9ad8\u5e76\u53d1/\u9ad8\u6027\u80fd\uff1a\u6709\u54ea\u4e9b\u5e38\u89c1\u7684SQL\u4f18\u5316\u624b\u6bb5\uff1f","permalink":"/\u7801\u519c/Java\u9762\u8bd5\u6307\u5317/\u6280\u672f\u9762\u8bd5\u9898\u7bc7/\u9ad8\u5e76\u53d1/\u9ad8\u6027\u80fd\uff1a\u6709\u54ea\u4e9b\u5e38\u89c1\u7684SQL\u4f18\u5316\u624b\u6bb5\uff1f","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var a=n(74848),c=n(28453);const i={},r="\u9ad8\u6027\u80fd\uff1a\u6709\u54ea\u4e9b\u5e38\u89c1\u7684 SQL \u4f18\u5316\u624b\u6bb5\uff1f",d={},h=[{value:"\u907f\u514d\u4f7f\u7528 SELECT *",id:"\u907f\u514d\u4f7f\u7528-select-",level:2},{value:"\u6df1\u5ea6\u5206\u9875\u4f18\u5316",id:"\u6df1\u5ea6\u5206\u9875\u4f18\u5316",level:2},{value:"\u5c3d\u91cf\u907f\u514d\u591a\u8868\u505a join",id:"\u5c3d\u91cf\u907f\u514d\u591a\u8868\u505a-join",level:2},{value:"\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u5916\u952e\u4e0e\u7ea7\u8054",id:"\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u5916\u952e\u4e0e\u7ea7\u8054",level:2},{value:"\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5\u7c7b\u578b",id:"\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5\u7c7b\u578b",level:2},{value:"\u5c3d\u91cf\u7528 UNION ALL \u4ee3\u66ff UNION",id:"\u5c3d\u91cf\u7528-union-all-\u4ee3\u66ff-union",level:2},{value:"\u6279\u91cf\u64cd\u4f5c",id:"\u6279\u91cf\u64cd\u4f5c",level:2},{value:"Show Profile \u5206\u6790 SQL \u6267\u884c\u6027\u80fd",id:"show-profile-\u5206\u6790-sql-\u6267\u884c\u6027\u80fd",level:2},{value:"\u4f18\u5316\u6162 SQL",id:"\u4f18\u5316\u6162-sql",level:2},{value:"\u6b63\u786e\u4f7f\u7528\u7d22\u5f15",id:"\u6b63\u786e\u4f7f\u7528\u7d22\u5f15",level:2},{value:"\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15",id:"\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15",level:3},{value:"\u88ab\u9891\u7e41\u66f4\u65b0\u7684\u5b57\u6bb5\u5e94\u8be5\u614e\u91cd\u5efa\u7acb\u7d22\u5f15",id:"\u88ab\u9891\u7e41\u66f4\u65b0\u7684\u5b57\u6bb5\u5e94\u8be5\u614e\u91cd\u5efa\u7acb\u7d22\u5f15",level:3},{value:"\u5c3d\u53ef\u80fd\u7684\u8003\u8651\u5efa\u7acb\u8054\u5408\u7d22\u5f15\u800c\u4e0d\u662f\u5355\u5217\u7d22\u5f15",id:"\u5c3d\u53ef\u80fd\u7684\u8003\u8651\u5efa\u7acb\u8054\u5408\u7d22\u5f15\u800c\u4e0d\u662f\u5355\u5217\u7d22\u5f15",level:3},{value:"\u6ce8\u610f\u907f\u514d\u5197\u4f59\u7d22\u5f15",id:"\u6ce8\u610f\u907f\u514d\u5197\u4f59\u7d22\u5f15",level:3},{value:"\u8003\u8651\u5728\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5b57\u6bb5\u4e0a\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u4ee3\u66ff\u666e\u901a\u7d22\u5f15",id:"\u8003\u8651\u5728\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5b57\u6bb5\u4e0a\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u4ee3\u66ff\u666e\u901a\u7d22\u5f15",level:3},{value:"\u907f\u514d\u7d22\u5f15\u5931\u6548",id:"\u907f\u514d\u7d22\u5f15\u5931\u6548",level:3},{value:"\u5220\u9664\u957f\u671f\u672a\u4f7f\u7528\u7684\u7d22\u5f15",id:"\u5220\u9664\u957f\u671f\u672a\u4f7f\u7528\u7684\u7d22\u5f15",level:3},{value:"\u53c2\u8003",id:"\u53c2\u8003",level:2}];function m(s){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...s.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"\u9ad8\u6027\u80fd\u6709\u54ea\u4e9b\u5e38\u89c1\u7684-sql-\u4f18\u5316\u624b\u6bb5",children:"\u9ad8\u6027\u80fd\uff1a\u6709\u54ea\u4e9b\u5e38\u89c1\u7684 SQL \u4f18\u5316\u624b\u6bb5\uff1f"})}),"\n",(0,a.jsx)(e.h2,{id:"\u907f\u514d\u4f7f\u7528-select-",children:"\u907f\u514d\u4f7f\u7528 SELECT *"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"SELECT *"})," \u4f1a\u6d88\u8017\u66f4\u591a\u7684 CPU\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"SELECT *"})," \u65e0\u7528\u5b57\u6bb5\u589e\u52a0\u7f51\u7edc\u5e26\u5bbd\u8d44\u6e90\u6d88\u8017\uff0c\u589e\u52a0\u6570\u636e\u4f20\u8f93\u65f6\u95f4\uff0c\u5c24\u5176\u662f\u5927\u5b57\u6bb5\uff08\u5982 varchar\u3001blob\u3001text\uff09\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"SELECT *"})," \u65e0\u6cd5\u4f7f\u7528 MySQL \u4f18\u5316\u5668\u8986\u76d6\u7d22\u5f15\u7684\u4f18\u5316\uff08\u57fa\u4e8e MySQL \u4f18\u5316\u5668\u7684\u201c\u8986\u76d6\u7d22\u5f15\u201d\u7b56\u7565\u53c8\u662f\u901f\u5ea6\u6781\u5feb\uff0c\u6548\u7387\u6781\u9ad8\uff0c\u4e1a\u754c\u6781\u4e3a\u63a8\u8350\u7684\u67e5\u8be2\u4f18\u5316\u65b9\u5f0f\uff09"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"SELECT <\u5b57\u6bb5\u5217\u8868>"})," \u53ef\u51cf\u5c11\u8868\u7ed3\u6784\u53d8\u66f4\u5e26\u6765\u7684\u5f71\u54cd\u3002"]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"\u6df1\u5ea6\u5206\u9875\u4f18\u5316",children:"\u6df1\u5ea6\u5206\u9875\u4f18\u5316"}),"\n",(0,a.jsx)(e.p,{children:"\u666e\u901a\u7684\u5206\u9875\u5728\u6570\u636e\u91cf\u5c0f\u7684\u65f6\u5019\u8017\u8d39\u65f6\u95f4\u8fd8\u662f\u6bd4\u8f83\u77ed\u7684\u3002"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"# \u4ece\u7b2c10000\u884c\u5f00\u59cb\uff0c\u83b7\u53d610\u6761\u8bb0\u5f55\u3002\nSELECT `score`,`name` FROM `cus_order` LIMIT 10000, 10;\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u5982\u679c\u6570\u636e\u91cf\u53d8\u5927\uff0c\u8fbe\u5230\u767e\u4e07\u751a\u81f3\u662f\u5343\u4e07\u7ea7\u522b\uff0c\u666e\u901a\u7684\u5206\u9875\u8017\u8d39\u7684\u65f6\u95f4\u5c31\u975e\u5e38\u957f\u4e86\u3002\u50cf\u8fd9\u79cd\u67e5\u8be2\u504f\u79fb\u91cf\u8fc7\u5927\u7684\u573a\u666f\u6211\u4eec\u79f0\u4e3a\u6df1\u5ea6\u5206\u9875\u3002"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"# \u4ece\u7b2c1000000\u884c\u5f00\u59cb\uff0c\u83b7\u53d610\u6761\u8bb0\u5f55\u3002\nSELECT `score`,`name` FROM `cus_order` LIMIT 1000000, 10\n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u5982\u4f55\u4f18\u5316\u5462\uff1f"})," \u53ef\u4ee5\u5c06\u4e0a\u8ff0 SQL \u8bed\u53e5\u4fee\u6539\u4e3a",(0,a.jsx)(e.strong,{children:"\u5b50\u67e5\u8be2"}),"\u3002"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"# \u5b50\u67e5\u8be2\u67e5\u51fa\u5f53\u524d\u5206\u9875\u7684\u9996\u884cid\nSELECT `score`, `name` FROM `cus_order`\nWHERE id >= (SELECT id FROM `cus_order` LIMIT 1000000, 1)\nLIMIT 10;\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u6211\u4eec\u5148\u67e5\u8be2\u51fa limit \u7b2c\u4e00\u4e2a\u53c2\u6570\u5bf9\u5e94\u7684\u4e3b\u952e\u503c\uff0c\u518d\u6839\u636e\u8fd9\u4e2a\u4e3b\u952e\u503c\u518d\u53bb\u8fc7\u6ee4\u5e76 limit\uff0c\u8fd9\u6837\u6548\u7387\u4f1a\u66f4\u5feb\u4e00\u4e9b\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u963f\u91cc\u5df4\u5df4\u300aJava \u5f00\u53d1\u624b\u518c\u300b\u4e2d\u4e5f\u6709\u5bf9\u5e94\u7684\u63cf\u8ff0\uff1a"}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"\u5229\u7528\u5ef6\u8fdf\u5173\u8054\u6216\u8005\u5b50\u67e5\u8be2\u4f18\u5316\u8d85\u591a\u5206\u9875\u573a\u666f\u3002"}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"alibaba-java-development-handbook-paging.png",src:n(71917).A+"",width:"2306",height:"1214"})}),"\n",(0,a.jsx)(e.p,{children:"\u4e0d\u8fc7\uff0c\u5b50\u67e5\u8be2\u7684\u7ed3\u679c\u4f1a\u4ea7\u751f\u4e00\u5f20\u65b0\u8868\uff0c\u4f1a\u5f71\u54cd\u6027\u80fd\uff0c\u5e94\u8be5\u5c3d\u91cf\u907f\u514d\u5927\u91cf\u4f7f\u7528\u5b50\u67e5\u8be2\u3002\u5e76\u4e14\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ea\u9002\u7528\u4e8e ID \u662f\u6b63\u5e8f\u7684\u3002\u5728\u590d\u6742\u5206\u9875\u573a\u666f\uff0c\u5f80\u5f80\u9700\u8981\u901a\u8fc7\u8fc7\u6ee4\u6761\u4ef6\uff0c\u7b5b\u9009\u5230\u7b26\u5408\u6761\u4ef6\u7684 ID\uff0c\u6b64\u65f6\u7684 ID \u662f\u79bb\u6563\u4e14\u4e0d\u8fde\u7eed\u7684\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5229\u7528\u5b50\u67e5\u8be2\u5148\u53bb\u83b7\u53d6\u76ee\u6807\u5206\u9875\u7684 ID \u96c6\u5408\uff0c\u7136\u540e\u518d\u6839\u636e ID \u96c6\u5408\u83b7\u53d6\u5185\u5bb9\uff0c\u4f46\u8fd9\u79cd\u5199\u6cd5\u975e\u5e38\u7e41\u7410\uff0c\u4e0d\u5982\u4f7f\u7528\u5ef6\u8fdf\u5173\u8054\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u5ef6\u8fdf\u5173\u8054\u7684\u4f18\u5316\u601d\u8def\uff0c\u8ddf\u5b50\u67e5\u8be2\u7684\u4f18\u5316\u601d\u8def\u5176\u5b9e\u662f\u4e00\u6837\u7684\uff1a\u90fd\u662f\u628a\u6761\u4ef6\u8f6c\u79fb\u5230\u4e3b\u952e\u7d22\u5f15\u6811\uff0c\u51cf\u5c11\u56de\u8868\u7684\u6b21\u6570\u3002"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT `score`,`name` FROM `cus_order` a, (SELECT id from `cus_order` LIMIT 1000000, 10) b\nWHERE a.id = b.id;\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u4e5f\u53ef\u4ee5\u4f7f\u7528 INNER JOIN\uff08\u5185\u8fde\u63a5\uff09\u6765\u8fde\u63a5\u4e3b\u67e5\u8be2\u548c\u5b50\u67e5\u8be2\uff0c\u800c\u4e0d\u662f\u9017\u53f7\u8fde\u63a5\u3002"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT `score`,`name` FROM `cus_order` a\nINNER JOIN(SELECT id from `cus_order` LIMIT 1000000, 10) b \nON a.id = b.id\nLIMIT 10;\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u6211\u4eec\u5148\u63d0\u53d6\u5bf9\u5e94\u7684\u4e3b\u952e\uff0c\u518d\u5c06\u8fd9\u4e2a\u4e3b\u952e\u8868\u4e0e\u539f\u6570\u636e\u8868\u5173\u8054\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u9664\u4e86\u4e0a\u9762\u63d0\u5230\u7684\u5b50\u67e5\u8be2\u548c\u5ef6\u8fdf\u5173\u8054\u4e4b\u5916\uff0c\u8986\u76d6\u7d22\u5f15\u5bf9\u6df1\u5ea6\u5206\u9875\u4f18\u5316\u4e5f\u6709\u4e00\u5b9a\u5e2e\u52a9\u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u7d22\u5f15\u4e2d\u5df2\u7ecf\u5305\u542b\u4e86\u6240\u6709\u9700\u8981\u83b7\u53d6\u7684\u5b57\u6bb5\u7684\u67e5\u8be2\u65b9\u5f0f\u79f0\u4e3a\u8986\u76d6\u7d22\u5f15\u3002",(0,a.jsx)(e.strong,{children:"\u8986\u76d6\u7d22\u5f15\u7684\u597d\u5904\uff1a"})]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u907f\u514d InnoDB \u8868\u8fdb\u884c\u7d22\u5f15\u7684\u4e8c\u6b21\u67e5\u8be2\uff0c\u4e5f\u5c31\u662f\u56de\u8868\u64cd\u4f5c:"})," InnoDB \u662f\u4ee5\u805a\u96c6\u7d22\u5f15\u7684\u987a\u5e8f\u6765\u5b58\u50a8\u7684\uff0c\u5bf9\u4e8e InnoDB \u6765\u8bf4\uff0c\u4e8c\u7ea7\u7d22\u5f15\u5728\u53f6\u5b50\u8282\u70b9\u4e2d\u6240\u4fdd\u5b58\u7684\u662f\u884c\u7684\u4e3b\u952e\u4fe1\u606f\uff0c\u5982\u679c\u662f\u7528\u4e8c\u7ea7\u7d22\u5f15\u67e5\u8be2\u6570\u636e\u7684\u8bdd\uff0c\u5728\u67e5\u627e\u5230\u76f8\u5e94\u7684\u952e\u503c\u540e\uff0c\u8fd8\u8981\u901a\u8fc7\u4e3b\u952e\u8fdb\u884c\u4e8c\u6b21\u67e5\u8be2\u624d\u80fd\u83b7\u53d6\u6211\u4eec\u771f\u5b9e\u6240\u9700\u8981\u7684\u6570\u636e\u3002\u800c\u5728\u8986\u76d6\u7d22\u5f15\u4e2d\uff0c\u4e8c\u7ea7\u7d22\u5f15\u7684\u952e\u503c\u4e2d\u53ef\u4ee5\u83b7\u53d6\u6240\u6709\u7684\u6570\u636e\uff0c\u907f\u514d\u4e86\u5bf9\u4e3b\u952e\u7684\u4e8c\u6b21\u67e5\u8be2\uff08\u56de\u8868\uff09\uff0c\u51cf\u5c11\u4e86 IO \u64cd\u4f5c\uff0c\u63d0\u5347\u4e86\u67e5\u8be2\u6548\u7387\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u53ef\u4ee5\u628a\u968f\u673a IO \u53d8\u6210\u987a\u5e8f IO \u52a0\u5feb\u67e5\u8be2\u6548\u7387:"})," \u7531\u4e8e\u8986\u76d6\u7d22\u5f15\u662f\u6309\u952e\u503c\u7684\u987a\u5e8f\u5b58\u50a8\u7684\uff0c\u5bf9\u4e8e IO \u5bc6\u96c6\u578b\u7684\u8303\u56f4\u67e5\u627e\u6765\u8bf4\uff0c\u5bf9\u6bd4\u968f\u673a\u4ece\u78c1\u76d8\u8bfb\u53d6\u6bcf\u4e00\u884c\u7684\u6570\u636e IO \u8981\u5c11\u7684\u591a\uff0c\u56e0\u6b64\u5229\u7528\u8986\u76d6\u7d22\u5f15\u5728\u8bbf\u95ee\u65f6\u4e5f\u53ef\u4ee5\u628a\u78c1\u76d8\u7684\u968f\u673a\u8bfb\u53d6\u7684 IO \u8f6c\u53d8\u6210\u7d22\u5f15\u67e5\u627e\u7684\u987a\u5e8f IO\u3002"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"# \u5982\u679c\u53ea\u9700\u8981\u67e5\u8be2 id, code, type \u8fd9\u4e09\u5217\uff0c\u53ef\u5efa\u7acb code \u548c type \u7684\u8986\u76d6\u7d22\u5f15\nSELECT id, code, type FROM t_order\nORDER BY code\nLIMIT 1000000, 10;\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u4e0d\u8fc7\uff0c\u5f53\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u5360\u8868\u7684\u603b\u884c\u6570\u7684\u5f88\u5927\u4e00\u90e8\u5206\u65f6\uff0c\u53ef\u80fd\u5c31\u4e0d\u4f1a\u8d70\u7d22\u5f15\u4e86\uff0c\u81ea\u52a8\u8f6c\u6362\u4e3a\u5168\u8868\u626b\u63cf\u3002\u5f53\u7136\u4e86\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7 ",(0,a.jsx)(e.code,{children:"FORCE INDEX"})," \u6765\u5f3a\u5236\u67e5\u8be2\u4f18\u5316\u5668\u8d70\u7d22\u5f15\uff0c\u4f46\u8fd9\u79cd\u63d0\u5347\u6548\u679c\u4e00\u822c\u4e0d\u660e\u663e\u3002"]}),"\n",(0,a.jsx)(e.h2,{id:"\u5c3d\u91cf\u907f\u514d\u591a\u8868\u505a-join",children:"\u5c3d\u91cf\u907f\u514d\u591a\u8868\u505a join"}),"\n",(0,a.jsx)(e.p,{children:"\u963f\u91cc\u5df4\u5df4\u300aJava \u5f00\u53d1\u624b\u518c\u300b\u4e2d\u6709\u8fd9\u6837\u4e00\u6bb5\u63cf\u8ff0\uff1a"}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"\u3010\u5f3a\u5236\u3011\u8d85\u8fc7\u4e09\u4e2a\u8868\u7981\u6b62 join\u3002\u9700\u8981 join \u7684\u5b57\u6bb5\uff0c\u6570\u636e\u7c7b\u578b\u4fdd\u6301\u7edd\u5bf9\u4e00\u81f4;\u591a\u8868\u5173\u8054\u67e5\u8be2\u65f6\uff0c\u4fdd\u8bc1\u88ab\u5173\u8054 \u7684\u5b57\u6bb5\u9700\u8981\u6709\u7d22\u5f15\u3002"}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"alibaba-java-development-handbook-multi-table-join.png",src:n(65314).A+"",width:"2262",height:"944"})}),"\n",(0,a.jsx)(e.p,{children:"join \u7684\u6548\u7387\u6bd4\u8f83\u4f4e\uff0c\u4e3b\u8981\u539f\u56e0\u662f\u56e0\u4e3a\u5176\u4f7f\u7528\u5d4c\u5957\u5faa\u73af\uff08Nested Loop\uff09\u6765\u5b9e\u73b0\u5173\u8054\u67e5\u8be2\uff0c\u4e09\u79cd\u4e0d\u540c\u7684\u5b9e\u73b0\u6548\u7387\u90fd\u4e0d\u662f\u5f88\u9ad8\uff1a"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Simple Nested-Loop Join"})," \uff1a\u6ca1\u6709\u8fdb\u8fc7\u4f18\u5316\uff0c\u76f4\u63a5\u4f7f\u7528\u7b1b\u5361\u5c14\u79ef\u5b9e\u73b0 join\uff0c\u9010\u884c\u904d\u5386/\u5168\u8868\u626b\u63cf\uff0c\u6548\u7387\u6700\u4f4e\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Block Nested-Loop Join"})," \uff1a\u5229\u7528 JOIN BUFFER \u8fdb\u884c\u4f18\u5316\uff0c\u6027\u80fd\u53d7\u5230 JOIN BUFFER \u5927\u5c0f\u7684\u5f71\u54cd\uff0c\u76f8\u6bd4\u4e8e Simple Nested-Loop Join \u6027\u80fd\u6709\u6240\u63d0\u5347\u3002\u4e0d\u8fc7\uff0c\u5982\u679c\u4e24\u4e2a\u8868\u7684\u6570\u636e\u8fc7\u5927\u7684\u8bdd\uff0c\u65e0\u8bba\u5982\u4f55\u4f18\u5316\uff0cBlock Nested-Loop Join \u5bf9\u6027\u80fd\u7684\u63d0\u5347\u90fd\u975e\u5e38\u6709\u9650\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Index Nested-Loop Join"})," \uff1a\u5728\u5fc5\u8981\u7684\u5b57\u6bb5\u4e0a\u589e\u52a0\u7d22\u5f15\uff0c\u4f7f join \u7684\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u4f7f\u7528\u5230\u8fd9\u4e2a\u7d22\u5f15\uff0c\u8fd9\u6837\u53ef\u4ee5\u8ba9 Block Nested-Loop Join \u8f6c\u6362\u4e3a Index Nested-Loop Join\uff0c\u6027\u80fd\u5f97\u5230\u8fdb\u4e00\u6b65\u63d0\u5347\u3002"]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"\u5b9e\u9645\u4e1a\u52a1\u573a\u666f\u907f\u514d\u591a\u8868 join \u5e38\u89c1\u7684\u505a\u6cd5\u6709\u4e24\u79cd\uff1a"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u5355\u8868\u67e5\u8be2\u540e\u5728\u5185\u5b58\u4e2d\u81ea\u5df1\u505a\u5173\u8054"})," \uff1a\u5bf9\u6570\u636e\u5e93\u505a\u5355\u8868\u67e5\u8be2\uff0c\u518d\u6839\u636e\u67e5\u8be2\u7ed3\u679c\u8fdb\u884c\u4e8c\u6b21\u67e5\u8be2\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u6700\u540e\u518d\u8fdb\u884c\u5173\u8054\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u6570\u636e\u5197\u4f59"}),"\uff0c\u628a\u4e00\u4e9b\u91cd\u8981\u7684\u6570\u636e\u5728\u8868\u4e2d\u505a\u5197\u4f59\uff0c\u5c3d\u53ef\u80fd\u5730\u907f\u514d\u5173\u8054\u67e5\u8be2\u3002\u5f88\u7b28\u7684\u4e00\u79cd\u505a\u6cd5\uff0c\u8868\u7ed3\u6784\u6bd4\u8f83\u7a33\u5b9a\u7684\u60c5\u51b5\u4e0b\u624d\u4f1a\u8003\u8651\u8fd9\u79cd\u505a\u6cd5\u3002\u8fdb\u884c\u5197\u4f59\u8bbe\u8ba1\u4e4b\u524d\uff0c\u601d\u8003\u4e00\u4e0b\u81ea\u5df1\u7684\u8868\u7ed3\u6784\u8bbe\u8ba1\u7684\u662f\u5426\u6709\u95ee\u9898\u3002"]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"\u66f4\u52a0\u63a8\u8350\u7b2c\u4e00\u79cd\uff0c\u8fd9\u79cd\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u7684\u4f7f\u7528\u7387\u6bd4\u8f83\u9ad8\uff0c\u9664\u4e86\u6027\u80fd\u4e0d\u9519\u4e4b\u5916\uff0c\u8fd8\u6709\u5982\u4e0b\u4f18\u52bf\uff1a"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u62c6\u5206\u540e\u7684\u5355\u8868\u67e5\u8be2\u4ee3\u7801\u53ef\u590d\u7528\u6027\u66f4\u9ad8"})," \uff1ajoin \u8054\u8868 SQL \u57fa\u672c\u4e0d\u592a\u53ef\u80fd\u88ab\u590d\u7528\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u5355\u8868\u67e5\u8be2\u66f4\u5229\u4e8e\u540e\u7eed\u7684\u7ef4\u62a4"})," \uff1a\u4e0d\u8bba\u662f\u540e\u7eed\u4fee\u6539\u8868\u7ed3\u6784\u8fd8\u662f\u8fdb\u884c\u5206\u5e93\u5206\u8868\uff0c\u5355\u8868\u67e5\u8be2\u7ef4\u62a4\u8d77\u6765\u90fd\u66f4\u5bb9\u6613\u3002"]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"\u4e0d\u8fc7\uff0c\u5982\u679c\u7cfb\u7edf\u8981\u6c42\u7684\u5e76\u53d1\u91cf\u4e0d\u5927\u7684\u8bdd\uff0c\u6211\u89c9\u5f97\u591a\u8868 join \u4e5f\u662f\u6ca1\u95ee\u9898\u7684\u3002\u5f88\u591a\u516c\u53f8\u5185\u90e8\u590d\u6742\u7684\u7cfb\u7edf\uff0c\u8981\u6c42\u7684\u5e76\u53d1\u91cf\u4e0d\u9ad8\uff0c\u5f88\u591a\u6570\u636e\u5fc5\u987b join 5 \u5f20\u4ee5\u4e0a\u7684\u8868\u624d\u80fd\u67e5\u51fa\u6765\u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u77e5\u4e4e\u4e0a\u4e5f\u6709\u5173\u4e8e\u8fd9\u4e2a\u95ee\u9898\u7684\u8ba8\u8bba\uff1a",(0,a.jsx)(e.a,{href:"https://www.zhihu.com/question/68258877",children:"MySQL \u591a\u8868\u5173\u8054\u67e5\u8be2\u6548\u7387\u9ad8\u70b9\u8fd8\u662f\u591a\u6b21\u5355\u8868\u67e5\u8be2\u6548\u7387\u9ad8\uff0c\u4e3a\u4ec0\u4e48\uff1f"}),"\uff0c\u611f\u5174\u8da3\u7684\u53ef\u4ee5\u770b\u770b\u3002"]}),"\n",(0,a.jsx)(e.h2,{id:"\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u5916\u952e\u4e0e\u7ea7\u8054",children:"\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u5916\u952e\u4e0e\u7ea7\u8054"}),"\n",(0,a.jsx)(e.p,{children:"\u963f\u91cc\u5df4\u5df4\u300aJava \u5f00\u53d1\u624b\u518c\u300b\u4e2d\u6709\u8fd9\u6837\u4e00\u6bb5\u63cf\u8ff0\uff1a"}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"\u4e0d\u5f97\u4f7f\u7528\u5916\u952e\u4e0e\u7ea7\u8054\uff0c\u4e00\u5207\u5916\u952e\u6982\u5ff5\u5fc5\u987b\u5728\u5e94\u7528\u5c42\u89e3\u51b3\u3002"}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"alibaba-java-development-handbook-multi-table-join-foreign-keys-and-cascades.png",src:n(61686).A+"",width:"2190",height:"642"})}),"\n",(0,a.jsx)(e.p,{children:"\u7f51\u7edc\u4e0a\u5df2\u7ecf\u6709\u975e\u5e38\u591a\u5206\u6790\u5916\u952e\u4e0e\u7ea7\u8054\u7f3a\u9677\u7684\u6587\u7ae0\u4e86\uff0c\u4e2a\u4eba\u8ba4\u4e3a\u4e0d\u5efa\u8bae\u4f7f\u7528\u5916\u952e\u4e3b\u8981\u662f\u56e0\u4e3a\u5bf9\u5206\u5e93\u5206\u8868\u4e0d\u53cb\u597d\uff0c\u6027\u80fd\u65b9\u9762\u7684\u5f71\u54cd\u5176\u5b9e\u662f\u6bd4\u8f83\u5c0f\u7684\u3002"}),"\n",(0,a.jsx)(e.h2,{id:"\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5\u7c7b\u578b",children:"\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5\u7c7b\u578b"}),"\n",(0,a.jsx)(e.p,{children:"\u5b58\u50a8\u5b57\u8282\u8d8a\u5c0f\uff0c\u5360\u7528\u4e5f\u5c31\u7a7a\u95f4\u8d8a\u5c0f\uff0c\u6027\u80fd\u4e5f\u8d8a\u597d\u3002"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"a.\u67d0\u4e9b\u5b57\u7b26\u4e32\u53ef\u4ee5\u8f6c\u6362\u6210\u6570\u5b57\u7c7b\u578b\u5b58\u50a8\u6bd4\u5982\u53ef\u4ee5\u5c06 IP \u5730\u5740\u8f6c\u6362\u6210\u6574\u578b\u6570\u636e\u3002"})}),"\n",(0,a.jsx)(e.p,{children:"\u6570\u5b57\u662f\u8fde\u7eed\u7684\uff0c\u6027\u80fd\u66f4\u597d\uff0c\u5360\u7528\u7a7a\u95f4\u4e5f\u66f4\u5c0f\u3002"}),"\n",(0,a.jsx)(e.p,{children:"MySQL \u63d0\u4f9b\u4e86\u4e24\u4e2a\u65b9\u6cd5\u6765\u5904\u7406 ip \u5730\u5740"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"INET_ATON()"})," \uff1a \u628a ip \u8f6c\u4e3a\u65e0\u7b26\u53f7\u6574\u578b (4-8 \u4f4d)"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"INET_NTOA()"})," :\u628a\u6574\u578b\u7684 ip \u8f6c\u4e3a\u5730\u5740"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["\u63d2\u5165\u6570\u636e\u524d\uff0c\u5148\u7528 ",(0,a.jsx)(e.code,{children:"INET_ATON()"})," \u628a ip \u5730\u5740\u8f6c\u4e3a\u6574\u578b\uff0c\u663e\u793a\u6570\u636e\u65f6\uff0c\u4f7f\u7528 ",(0,a.jsx)(e.code,{children:"INET_NTOA()"})," \u628a\u6574\u578b\u7684 ip \u5730\u5740\u8f6c\u4e3a\u5730\u5740\u663e\u793a\u5373\u53ef\u3002"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"b.\u5bf9\u4e8e\u975e\u8d1f\u578b\u7684\u6570\u636e (\u5982\u81ea\u589e ID,\u6574\u578b IP\uff0c\u5e74\u9f84) \u6765\u8bf4,\u8981\u4f18\u5148\u4f7f\u7528\u65e0\u7b26\u53f7\u6574\u578b\u6765\u5b58\u50a8\u3002"})}),"\n",(0,a.jsx)(e.p,{children:"\u65e0\u7b26\u53f7\u76f8\u5bf9\u4e8e\u6709\u7b26\u53f7\u53ef\u4ee5\u591a\u51fa\u4e00\u500d\u7684\u5b58\u50a8\u7a7a\u95f4"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SIGNED INT -2147483648~2147483647\nUNSIGNED INT 0~4294967295\n"})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"c.\u5c0f\u6570\u503c\u7c7b\u578b\uff08\u6bd4\u5982\u5e74\u9f84\u3001\u72b6\u6001\u8868\u793a\u5982 0/1\uff09\u4f18\u5148\u4f7f\u7528 TINYINT \u7c7b\u578b\u3002"})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"d.\u5bf9\u4e8e\u65e5\u671f\u7c7b\u578b\u6765\u8bf4\uff0c \u4e00\u5b9a\u4e0d\u8981\u7528\u5b57\u7b26\u4e32\u5b58\u50a8\u65e5\u671f\u3002\u53ef\u4ee5\u8003\u8651 DATETIME\u3001TIMESTAMP \u548c \u6570\u503c\u578b\u65f6\u95f4\u6233\u3002"})}),"\n",(0,a.jsx)(e.p,{children:"\u8fd9\u4e09\u79cd\u79cd\u65b9\u5f0f\u90fd\u6709\u5404\u81ea\u7684\u4f18\u52bf\uff0c\u6839\u636e\u5b9e\u9645\u573a\u666f\u9009\u62e9\u6700\u5408\u9002\u7684\u624d\u662f\u738b\u9053\u3002\u4e0b\u9762\u518d\u5bf9\u8fd9\u4e09\u79cd\u65b9\u5f0f\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u5bf9\u6bd4\uff0c\u4ee5\u4f9b\u5927\u5bb6\u5b9e\u9645\u5f00\u53d1\u4e2d\u9009\u62e9\u6b63\u786e\u7684\u5b58\u653e\u65f6\u95f4\u7684\u6570\u636e\u7c7b\u578b\uff1a"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,a.jsx)(e.th,{children:"\u5b58\u50a8\u7a7a\u95f4"}),(0,a.jsx)(e.th,{children:"\u65e5\u671f\u683c\u5f0f"}),(0,a.jsx)(e.th,{children:"\u65e5\u671f\u8303\u56f4"}),(0,a.jsx)(e.th,{children:"\u662f\u5426\u5e26\u65f6\u533a\u4fe1\u606f"})]})}),(0,a.jsxs)(e.tbody,{children:[(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:"DATETIME"}),(0,a.jsx)(e.td,{children:"5~8\u5b57\u8282"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{className:"katex",children:(0,a.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"},children:"YYYY"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"MM"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6944em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"DD"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"hh"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"mm"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"ss"}),(0,a.jsx)(e.span,{className:"mopen",children:"["}),(0,a.jsx)(e.span,{className:"mord",children:"."}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"r"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"a"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"i"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:"]"})]})]})})}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{className:"katex",children:(0,a.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(e.span,{className:"mord",children:"1000"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(e.span,{className:"mord",children:"01"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,a.jsx)(e.span,{className:"mord",children:"0100"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,a.jsx)(e.span,{className:"mord",children:"00"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord",children:"00"}),(0,a.jsx)(e.span,{className:"mopen",children:"["}),(0,a.jsx)(e.span,{className:"mord",children:".000000"}),(0,a.jsx)(e.span,{className:"mclose",children:"]"}),(0,a.jsx)(e.span,{className:"mord cjk_fallback",children:"\uff5e"}),(0,a.jsx)(e.span,{className:"mord",children:"9999"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(e.span,{className:"mord",children:"12"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,a.jsx)(e.span,{className:"mord",children:"3123"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,a.jsx)(e.span,{className:"mord",children:"59"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord",children:"59"}),(0,a.jsx)(e.span,{className:"mopen",children:"["}),(0,a.jsx)(e.span,{className:"mord",children:".999999"}),(0,a.jsx)(e.span,{className:"mclose",children:"]"})]})]})})}),(0,a.jsx)(e.td,{children:"\u5426"})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:"TIMESTAMP"}),(0,a.jsx)(e.td,{children:"4~7\u5b57\u8282"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{className:"katex",children:(0,a.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"},children:"YYYY"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"MM"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6944em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"DD"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"hh"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"mm"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"ss"}),(0,a.jsx)(e.span,{className:"mopen",children:"["}),(0,a.jsx)(e.span,{className:"mord",children:"."}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"r"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"a"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"i"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:"]"})]})]})})}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{className:"katex",children:(0,a.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(e.span,{className:"mord",children:"1970"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(e.span,{className:"mord",children:"01"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,a.jsx)(e.span,{className:"mord",children:"0100"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,a.jsx)(e.span,{className:"mord",children:"00"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord",children:"01"}),(0,a.jsx)(e.span,{className:"mopen",children:"["}),(0,a.jsx)(e.span,{className:"mord",children:".000000"}),(0,a.jsx)(e.span,{className:"mclose",children:"]"}),(0,a.jsx)(e.span,{className:"mord cjk_fallback",children:"\uff5e"}),(0,a.jsx)(e.span,{className:"mord",children:"2038"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(e.span,{className:"mord",children:"01"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,a.jsx)(e.span,{className:"mord",children:"1903"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,a.jsx)(e.span,{className:"mord",children:"14"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:":"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord",children:"07"}),(0,a.jsx)(e.span,{className:"mopen",children:"["}),(0,a.jsx)(e.span,{className:"mord",children:".999999"}),(0,a.jsx)(e.span,{className:"mclose",children:"]"})]})]})})}),(0,a.jsx)(e.td,{children:"\u662f"})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:"\u6570\u503c\u578b\u65f6\u95f4\u6233"}),(0,a.jsx)(e.td,{children:"4\u5b57\u8282"}),(0,a.jsx)(e.td,{children:"\u5168\u6570\u5b57\u59821578707612"}),(0,a.jsx)(e.td,{children:"1970-01-01 00:00:01\u4e4b\u540e\u7684\u65f6\u95f4"}),(0,a.jsx)(e.td,{children:"\u5426"})]})]})]}),"\n",(0,a.jsxs)(e.p,{children:["MySQL \u65f6\u95f4\u7c7b\u578b\u9009\u62e9\u7684\u8be6\u7ec6\u4ecb\u7ecd\u8bf7\u770b\u8fd9\u7bc7\uff1a",(0,a.jsx)(e.a,{href:"https://javaguide.cn/database/mysql/some-thoughts-on-database-storage-time.html",children:"MySQL\u65f6\u95f4\u7c7b\u578b\u6570\u636e\u5b58\u50a8\u5efa\u8bae"}),"\u3002"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"e.\u91d1\u989d\u5b57\u6bb5\u7528 decimal\uff0c\u907f\u514d\u7cbe\u5ea6\u4e22\u5931\u3002"})}),"\n",(0,a.jsx)(e.p,{children:"decimal \u7528\u4e8e\u5b58\u50a8\u6709\u7cbe\u5ea6\u8981\u6c42\u7684\u5c0f\u6570\u6bd4\u5982\u4e0e\u91d1\u94b1\u76f8\u5173\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u907f\u514d\u6d6e\u70b9\u6570\u5e26\u6765\u7684\u7cbe\u5ea6\u635f\u5931\u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u5728 Java \u4e2d\uff0cMySQL \u7684 decimal \u7c7b\u578b\u5bf9\u5e94\u7684\u662f Java \u7c7b ",(0,a.jsx)(e.code,{children:"java.math.BigDecimal"})," \u3002"]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"BigDecimal"}),"\u7684\u8be6\u7ec6\u4ecb\u7ecd\u8bf7\u53c2\u8003\u8fd9\u7bc7\uff1a",(0,a.jsx)(e.a,{href:"https://javaguide.cn/java/basis/bigdecimal.html",children:"BigDecimal \u8be6\u89e3"}),"\u3002"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"f.\u5c3d\u91cf\u4f7f\u7528\u81ea\u589e id \u4f5c\u4e3a\u4e3b\u952e\u3002"})}),"\n",(0,a.jsx)(e.p,{children:"\u5982\u679c\u4e3b\u952e\u4e3a\u81ea\u589e id \u7684\u8bdd\uff0c\u6bcf\u6b21\u90fd\u4f1a\u5c06\u6570\u636e\u52a0\u5728 B+\u6811\u5c3e\u90e8\uff08\u672c\u8d28\u662f\u53cc\u5411\u94fe\u8868\uff09\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(1)\u3002\u5728\u5199\u6ee1\u4e00\u4e2a\u6570\u636e\u9875\u7684\u65f6\u5019\uff0c\u76f4\u63a5\u7533\u8bf7\u53e6\u4e00\u4e2a\u65b0\u6570\u636e\u9875\u63a5\u7740\u5199\u5c31\u53ef\u4ee5\u4e86\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u5982\u679c\u4e3b\u952e\u662f\u975e\u81ea\u589e id \u7684\u8bdd\uff0c\u4e3a\u4e86\u8ba9\u65b0\u52a0\u5165\u6570\u636e\u540e B+\u6811\u7684\u53f6\u5b50\u8282\u70b9\u8fd8\u80fd\u4fdd\u6301\u6709\u5e8f\uff0c\u5b83\u5c31\u9700\u8981\u5f80\u53f6\u5b50\u7ed3\u70b9\u7684\u4e2d\u95f4\u627e\uff0c\u67e5\u627e\u8fc7\u7a0b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(lgn)\u3002\u5982\u679c\u8fd9\u4e2a\u4e5f\u88ab\u5199\u6ee1\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u8fdb\u884c\u9875\u5206\u88c2\u3002\u9875\u5206\u88c2\u64cd\u4f5c\u9700\u8981\u52a0\u60b2\u89c2\u9501\uff0c\u6027\u80fd\u975e\u5e38\u4f4e\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u4e0d\u8fc7\uff0c \u50cf\u5206\u5e93\u5206\u8868\u8fd9\u7c7b\u573a\u666f\u5c31\u4e0d\u5efa\u8bae\u4f7f\u7528\u81ea\u589e id \u4f5c\u4e3a\u4e3b\u952e\uff0c\u5e94\u8be5\u4f7f\u7528\u5206\u5e03\u5f0f ID \u6bd4\u5982 uuid \u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u76f8\u5173\u9605\u8bfb\uff1a",(0,a.jsx)(e.a,{href:"https://mp.weixin.qq.com/s/vNRIFKjbe7itRTxmq-bkAA",children:"\u6570\u636e\u5e93\u4e3b\u952e\u4e00\u5b9a\u8981\u81ea\u589e\u5417\uff1f\u6709\u54ea\u4e9b\u573a\u666f\u4e0d\u5efa\u8bae\u81ea\u589e\uff1f"}),"\u3002"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsxs)(e.strong,{children:["g.\u4e0d\u5efa\u8bae\u4f7f\u7528 ",(0,a.jsx)(e.strong,{children:(0,a.jsx)(e.code,{children:"**NULL**"})})," \u4f5c\u4e3a\u5217\u9ed8\u8ba4\u503c\u3002"]})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"NULL"})," \u8ddf ",(0,a.jsx)(e.code,{children:"''"}),"(\u7a7a\u5b57\u7b26\u4e32)\u662f\u4e24\u4e2a\u5b8c\u5168\u4e0d\u4e00\u6837\u7684\u503c\uff0c\u533a\u522b\u5982\u4e0b\uff1a"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"NULL"})," \u4ee3\u8868\u4e00\u4e2a\u4e0d\u786e\u5b9a\u7684\u503c,\u5c31\u7b97\u662f\u4e24\u4e2a ",(0,a.jsx)(e.code,{children:"NULL"}),",\u5b83\u4fe9\u4e5f\u4e0d\u4e00\u5b9a\u76f8\u7b49\u3002\u4f8b\u5982\uff0c",(0,a.jsx)(e.code,{children:"SELECT NULL=NULL"}),"\u7684\u7ed3\u679c\u4e3a false\uff0c\u4f46\u662f\u5728\u6211\u4eec\u4f7f\u7528",(0,a.jsx)(e.code,{children:"DISTINCT"}),",",(0,a.jsx)(e.code,{children:"GROUP BY"}),",",(0,a.jsx)(e.code,{children:"ORDER BY"}),"\u65f6,",(0,a.jsx)(e.code,{children:"NULL"}),"\u53c8\u88ab\u8ba4\u4e3a\u662f\u76f8\u7b49\u7684\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"''"}),"\u7684\u957f\u5ea6\u662f 0\uff0c\u662f\u4e0d\u5360\u7528\u7a7a\u95f4\u7684\uff0c\u800c",(0,a.jsx)(e.code,{children:"NULL"})," \u662f\u9700\u8981\u5360\u7528\u7a7a\u95f4\u7684\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"NULL"})," \u4f1a\u5f71\u54cd\u805a\u5408\u51fd\u6570\u7684\u7ed3\u679c\u3002\u4f8b\u5982\uff0c",(0,a.jsx)(e.code,{children:"SUM"}),"\u3001",(0,a.jsx)(e.code,{children:"AVG"}),"\u3001",(0,a.jsx)(e.code,{children:"MIN"}),"\u3001",(0,a.jsx)(e.code,{children:"MAX"})," \u7b49\u805a\u5408\u51fd\u6570\u4f1a\u5ffd\u7565 ",(0,a.jsx)(e.code,{children:"NULL"})," \u503c\u3002 ",(0,a.jsx)(e.code,{children:"COUNT"})," \u7684\u5904\u7406\u65b9\u5f0f\u53d6\u51b3\u4e8e\u53c2\u6570\u7684\u7c7b\u578b\u3002\u5982\u679c\u53c2\u6570\u662f ",(0,a.jsx)(e.code,{children:"*"}),"(",(0,a.jsx)(e.code,{children:"COUNT(*)"}),")\uff0c\u5219\u4f1a\u7edf\u8ba1\u6240\u6709\u7684\u8bb0\u5f55\u6570\uff0c\u5305\u62ec ",(0,a.jsx)(e.code,{children:"NULL"})," \u503c\uff1b\u5982\u679c\u53c2\u6570\u662f\u67d0\u4e2a\u5b57\u6bb5\u540d(",(0,a.jsx)(e.code,{children:"COUNT(\u5217\u540d)"}),")\uff0c\u5219\u4f1a\u5ffd\u7565 ",(0,a.jsx)(e.code,{children:"NULL"})," \u503c\uff0c\u53ea\u7edf\u8ba1\u975e\u7a7a\u503c\u7684\u4e2a\u6570\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:["\u67e5\u8be2 ",(0,a.jsx)(e.code,{children:"NULL"})," \u503c\u65f6\uff0c\u5fc5\u987b\u4f7f\u7528 ",(0,a.jsx)(e.code,{children:"IS NULL"})," \u6216 ",(0,a.jsx)(e.code,{children:"IS NOT NULLl"})," \u6765\u5224\u65ad\uff0c\u800c\u4e0d\u80fd\u4f7f\u7528 =\u3001!=\u3001 <\u3001> \u4e4b\u7c7b\u7684\u6bd4\u8f83\u8fd0\u7b97\u7b26\u3002\u800c",(0,a.jsx)(e.code,{children:"''"}),"\u662f\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u6bd4\u8f83\u8fd0\u7b97\u7b26\u7684\u3002"]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"\u5c3d\u91cf\u7528-union-all-\u4ee3\u66ff-union",children:"\u5c3d\u91cf\u7528 UNION ALL \u4ee3\u66ff UNION"}),"\n",(0,a.jsx)(e.p,{children:"UNION \u4f1a\u628a\u4e24\u4e2a\u7ed3\u679c\u96c6\u7684\u6240\u6709\u6570\u636e\u653e\u5230\u4e34\u65f6\u8868\u4e2d\u540e\u518d\u8fdb\u884c\u53bb\u91cd\u64cd\u4f5c\uff0c\u66f4\u8017\u65f6\uff0c\u66f4\u6d88\u8017 CPU \u8d44\u6e90\u3002"}),"\n",(0,a.jsx)(e.p,{children:"UNION ALL \u4e0d\u4f1a\u518d\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u53bb\u91cd\u64cd\u4f5c\uff0c\u83b7\u53d6\u5230\u7684\u6570\u636e\u5305\u542b\u91cd\u590d\u7684\u9879\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u4e0d\u8fc7\uff0c\u5982\u679c\u5b9e\u9645\u4e1a\u52a1\u573a\u666f\u4e2d\u4e0d\u5141\u8bb8\u4ea7\u751f\u91cd\u590d\u6570\u636e\u7684\u8bdd\uff0c\u8fd8\u662f\u53ef\u4ee5\u4f7f\u7528 UNION\u3002"}),"\n",(0,a.jsx)(e.h2,{id:"\u6279\u91cf\u64cd\u4f5c",children:"\u6279\u91cf\u64cd\u4f5c"}),"\n",(0,a.jsx)(e.p,{children:"\u5bf9\u4e8e\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u66f4\u65b0\uff0c\u5982\u679c\u80fd\u4f7f\u7528\u6279\u91cf\u64cd\u4f5c\u5c31\u8981\u5c3d\u91cf\u4f7f\u7528\uff0c\u51cf\u5c11\u8bf7\u6c42\u6570\u636e\u5e93\u7684\u6b21\u6570\uff0c\u63d0\u9ad8\u6027\u80fd\u3002"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"# \u53cd\u4f8b\nINSERT INTO `cus_order` (`id`, `score`, `name`) VALUES (1, 426547, 'user1');\nINSERT INTO `cus_order` (`id`, `score`, `name`) VALUES (1, 33, 'user2');\nINSERT INTO `cus_order` (`id`, `score`, `name`) VALUES (1, 293854, 'user3');\n\n# \u6b63\u4f8b\nINSERT into `cus_order` (`id`, `score`, `name`) values(1, 426547, 'user1'),(1, 33, 'user2'),(1, 293854, 'user3');\n"})}),"\n",(0,a.jsx)(e.h2,{id:"show-profile-\u5206\u6790-sql-\u6267\u884c\u6027\u80fd",children:"Show Profile \u5206\u6790 SQL \u6267\u884c\u6027\u80fd"}),"\n",(0,a.jsxs)(e.p,{children:["\u4e3a\u4e86\u66f4\u7cbe\u51c6\u5b9a\u4f4d\u4e00\u6761 SQL \u8bed\u53e5\u7684\u6027\u80fd\u95ee\u9898\uff0c\u9700\u8981\u6e05\u695a\u5730\u77e5\u9053\u8fd9\u6761 SQL \u8bed\u53e5\u8fd0\u884c\u65f6\u6d88\u8017\u4e86\u591a\u5c11\u7cfb\u7edf\u8d44\u6e90\u3002 ",(0,a.jsx)(e.code,{children:"[SHOW PROFILE](https://dev.mysql.com/doc/refman/5.7/en/show-profile.html)"})," \u548c ",(0,a.jsx)(e.code,{children:"[SHOW PROFILES](https://dev.mysql.com/doc/refman/5.7/en/show-profiles.html)"})," \u5c55\u793a SQL \u8bed\u53e5\u7684\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\uff0c\u5c55\u793a\u7684\u6d88\u606f\u5305\u62ec CPU \u7684\u4f7f\u7528\uff0cCPU \u4e0a\u4e0b\u6587\u5207\u6362\uff0cIO \u7b49\u5f85\uff0c\u5185\u5b58\u4f7f\u7528\u7b49\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["MySQL \u5728 5.0.37 \u7248\u672c\u4e4b\u540e\u624d\u652f\u6301 Profiling\uff0c",(0,a.jsx)(e.code,{children:"select @@have_profiling"})," \u547d\u4ee4\u8fd4\u56de ",(0,a.jsx)(e.code,{children:"YES"})," \u8868\u793a\u8be5\u529f\u80fd\u53ef\u4ee5\u4f7f\u7528\u3002"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:" mysql> SELECT @@have_profiling;\n+------------------+\n| @@have_profiling |\n+------------------+\n| YES              |\n+------------------+\n1 row in set (0.00 sec)\n"})}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u6ce8\u610f"})," \uff1a",(0,a.jsx)(e.code,{children:"SHOW PROFILE"})," \u548c ",(0,a.jsx)(e.code,{children:"SHOW PROFILES"})," \u5df2\u7ecf\u88ab\u5f03\u7528\uff0c\u672a\u6765\u7684 MySQL \u7248\u672c\u4e2d\u53ef\u80fd\u4f1a\u88ab\u5220\u9664\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\u4f7f\u7528 ",(0,a.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/performance-schema.html",children:"Performance Schema"}),"\u3002\u5728\u8be5\u529f\u80fd\u88ab\u5220\u9664\u4e4b\u524d\uff0c\u6211\u4eec\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u5176\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["\u60f3\u8981\u4f7f\u7528 Profiling\uff0c\u8bf7\u786e\u4fdd\u4f60\u7684 ",(0,a.jsx)(e.code,{children:"profiling"})," \u662f\u5f00\u542f\uff08on\uff09\u7684\u72b6\u6001\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u4f60\u53ef\u4ee5\u901a\u8fc7 ",(0,a.jsx)(e.code,{children:"SHOW VARIABLES"})," \u547d\u4ee4\u67e5\u770b\u5176\u72b6\u6001\uff1a"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"mysql-show-variables-profiling.png",src:n(30248).A+"",width:"1354",height:"1102"})}),"\n",(0,a.jsxs)(e.p,{children:["\u4e5f\u53ef\u4ee5\u901a\u8fc7 ",(0,a.jsx)(e.code,{children:"SELECT @@profiling"}),"\u547d\u4ee4\u8fdb\u884c\u67e5\u770b\uff1a"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"\nmysql> SELECT @@profiling;\n+-------------+\n| @@profiling |\n+-------------+\n|           0 |\n+-------------+\n1 row in set (0.00 sec)\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c ",(0,a.jsx)(e.code,{children:"Profiling"})," \u662f\u5173\u95ed\uff08off\uff09\u7684\u72b6\u6001\uff0c\u4f60\u76f4\u63a5\u901a\u8fc7",(0,a.jsx)(e.code,{children:"SET @@profiling=1"}),"\u547d\u4ee4\u5373\u53ef\u5f00\u542f\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u5f00\u542f\u6210\u529f\u4e4b\u540e\uff0c\u6211\u4eec\u6267\u884c\u51e0\u6761 SQL \u8bed\u53e5\u3002\u6267\u884c\u5b8c\u6210\u4e4b\u540e\uff0c\u4f7f\u7528 ",(0,a.jsx)(e.code,{children:"SHOW PROFILES"})," \u53ef\u4ee5\u5c55\u793a\u5f53\u524d Session \u4e0b\u6240\u6709 SQL \u8bed\u53e5\u7684\u7b80\u8981\u7684\u4fe1\u606f\u5305\u62ec Query_ID\uff08SQL \u8bed\u53e5\u7684 ID \u7f16\u53f7\uff09 \u548c Duration\uff08\u8017\u65f6\uff09\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u5177\u4f53\u80fd\u6536\u96c6\u591a\u5c11\u4e2a SQL\uff0c\u7531\u53c2\u6570 ",(0,a.jsx)(e.code,{children:"profiling_history_size"})," \u51b3\u5b9a\uff0c\u9ed8\u8ba4\u503c\u4e3a 15\uff0c\u6700\u5927\u503c\u4e3a 100\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a 0\uff0c\u7b49\u540c\u4e8e\u5173\u95ed Profiling\u3002"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"mysql-show-profiles-ranking-list-table.png",src:n(70500).A+"",width:"1640",height:"984"})}),"\n",(0,a.jsxs)(e.p,{children:["\u5982\u679c\u60f3\u8981\u5c55\u793a\u4e00\u4e2a SQL \u8bed\u53e5\u7684\u6267\u884c\u8017\u65f6\u7ec6\u8282\uff0c\u53ef\u4ee5\u4f7f\u7528",(0,a.jsx)(e.code,{children:"SHOW PROFILE"})," \u547d\u4ee4\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"SHOW PROFILE"})," \u547d\u4ee4\u7684\u5177\u4f53\u7528\u6cd5\u5982\u4e0b\uff1a"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SHOW PROFILE [type [, type] ... ]\n    [FOR QUERY n]\n    [LIMIT row_count [OFFSET offset]]\n\ntype: {\n    ALL\n  | BLOCK IO\n  | CONTEXT SWITCHES\n  | CPU\n  | IPC\n  | MEMORY\n  | PAGE FAULTS\n  | SOURCE\n  | SWAPS\n}\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u5728\u6267\u884c",(0,a.jsx)(e.code,{children:"SHOW PROFILE"})," \u547d\u4ee4\u65f6\uff0c\u53ef\u4ee5\u52a0\u4e0a\u7c7b\u578b\u5b50\u53e5\uff0c\u6bd4\u5982 CPU\u3001IPC\u3001MEMORY \u7b49\uff0c\u67e5\u770b\u5177\u4f53\u67d0\u7c7b\u8d44\u6e90\u7684\u6d88\u8017\u60c5\u51b5\uff1a"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SHOW PROFILE CPU,IPC FOR QUERY 8;\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u5982\u679c\u4e0d\u52a0 ",(0,a.jsx)(e.code,{children:"FOR QUERY {n}"}),"\u5b50\u53e5\uff0c\u9ed8\u8ba4\u5c55\u793a\u6700\u65b0\u7684\u4e00\u6b21 SQL \u7684\u6267\u884c\u60c5\u51b5\uff0c\u52a0\u4e86 ",(0,a.jsx)(e.code,{children:"FOR QUERY {n}"}),"\uff0c\u8868\u793a\u5c55\u793a Query_ID \u4e3a n \u7684 SQL \u7684\u6267\u884c\u60c5\u51b5\u3002"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"mysql-show-profiles-cpu-ipc.png",src:n(92540).A+"",width:"1378",height:"738"})}),"\n",(0,a.jsx)(e.h2,{id:"\u4f18\u5316\u6162-sql",children:"\u4f18\u5316\u6162 SQL"}),"\n",(0,a.jsx)(e.p,{children:"\u4e3a\u4e86\u4f18\u5316\u6162 SQL \uff0c\u6211\u4eec\u9996\u5148\u8981\u627e\u5230\u54ea\u4e9b SQL \u8bed\u53e5\u6267\u884c\u901f\u5ea6\u6bd4\u8f83\u6162\u3002"}),"\n",(0,a.jsx)(e.p,{children:"MySQL \u6162\u67e5\u8be2\u65e5\u5fd7\u662f\u7528\u6765\u8bb0\u5f55 MySQL \u5728\u6267\u884c\u547d\u4ee4\u4e2d\uff0c\u54cd\u5e94\u65f6\u95f4\u8d85\u8fc7\u9884\u8bbe\u9608\u503c\u7684 SQL \u8bed\u53e5\u3002\u56e0\u6b64\uff0c\u901a\u8fc7\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\u6211\u4eec\u5c31\u53ef\u4ee5\u627e\u51fa\u6267\u884c\u901f\u5ea6\u6bd4\u8f83\u6162\u7684 SQL \u8bed\u53e5\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u51fa\u4e8e\u6027\u80fd\u5c42\u9762\u7684\u8003\u8651\uff0c\u6162\u67e5\u8be2\u65e5\u5fd7\u529f\u80fd\u9ed8\u8ba4\u662f\u5173\u95ed\u7684\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5f00\u542f\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"# \u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7\u529f\u80fd\nSET GLOBAL slow_query_log = 'ON';\n# \u6162\u67e5\u8be2\u65e5\u5fd7\u5b58\u653e\u4f4d\u7f6e\nSET GLOBAL slow_query_log_file = '/var/lib/mysql/ranking-list-slow.log';\n# \u65e0\u8bba\u662f\u5426\u8d85\u65f6\uff0c\u672a\u88ab\u7d22\u5f15\u7684\u8bb0\u5f55\u4e5f\u4f1a\u8bb0\u5f55\u4e0b\u6765\u3002\nSET GLOBAL log_queries_not_using_indexes = 'ON';\n# \u6162\u67e5\u8be2\u9608\u503c\uff08\u79d2\uff09\uff0cSQL \u6267\u884c\u8d85\u8fc7\u8fd9\u4e2a\u9608\u503c\u5c06\u88ab\u8bb0\u5f55\u5728\u65e5\u5fd7\u4e2d\u3002\nSET SESSION long_query_time = 1;\n# \u6162\u67e5\u8be2\u4ec5\u8bb0\u5f55\u626b\u63cf\u884c\u6570\u5927\u4e8e\u6b64\u53c2\u6570\u7684 SQL\nSET SESSION min_examined_row_limit = 100;\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u8bbe\u7f6e\u6210\u529f\u4e4b\u540e\uff0c\u4f7f\u7528 ",(0,a.jsx)(e.code,{children:"show variables like 'slow%';"})," \u547d\u4ee4\u8fdb\u884c\u67e5\u770b\u3002"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"| Variable_name       | Value                                |\n+---------------------+--------------------------------------+\n| slow_launch_time    | 2                                    |\n| slow_query_log      | ON                                   |\n| slow_query_log_file | /var/lib/mysql/ranking-list-slow.log |\n+---------------------+--------------------------------------+\n3 rows in set (0.01 sec)\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u6211\u4eec\u6545\u610f\u5728\u767e\u4e07\u6570\u636e\u91cf\u7684\u8868(\u672a\u4f7f\u7528\u7d22\u5f15)\u4e2d\u6267\u884c\u4e00\u6761\u6392\u5e8f\u7684\u8bed\u53e5\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT `score`,`name` FROM `cus_order` ORDER BY `score` DESC;\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u786e\u4fdd\u81ea\u5df1\u6709\u5bf9\u5e94\u76ee\u5f55\u7684\u8bbf\u95ee\u6743\u9650\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"chmod 755 /var/lib/mysql/\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u67e5\u770b\u5bf9\u5e94\u7684\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:" cat /var/lib/mysql/ranking-list-slow.log\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u6211\u4eec\u521a\u521a\u6545\u610f\u6267\u884c\u7684 SQL \u8bed\u53e5\u5df2\u7ecf\u88ab\u6162\u67e5\u8be2\u65e5\u5fd7\u8bb0\u5f55\u4e86\u4e0b\u6765\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-plain",children:"# Time: 2022-10-09T08:55:37.486797Z\n# User@Host: root[root] @  [172.17.0.1]  Id:    14\n# Query_time: 0.978054  Lock_time: 0.000164 Rows_sent: 999999  Rows_examined: 1999998\nSET timestamp=1665305736;\nSELECT `score`,`name` FROM `cus_order` ORDER BY `score` DESC;\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u8fd9\u91cc\u5bf9\u65e5\u5fd7\u4e2d\u7684\u4e00\u4e9b\u4fe1\u606f\u8fdb\u884c\u8bf4\u660e\uff1a"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"Time"})," \uff1a\u88ab\u65e5\u5fd7\u8bb0\u5f55\u7684\u4ee3\u7801\u5728\u670d\u52a1\u5668\u4e0a\u7684\u8fd0\u884c\u65f6\u95f4\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"User@Host"}),"\uff1a\u8c01\u6267\u884c\u7684\u8fd9\u6bb5\u4ee3\u7801\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"Query_time"}),"\uff1a\u8fd9\u6bb5\u4ee3\u7801\u8fd0\u884c\u65f6\u957f\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"Lock_time"}),"\uff1a\u6267\u884c\u8fd9\u6bb5\u4ee3\u7801\u65f6\uff0c\u9501\u5b9a\u4e86\u591a\u4e45\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"Rows_sent"}),"\uff1a\u6162\u67e5\u8be2\u8fd4\u56de\u7684\u8bb0\u5f55\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"Rows_examined"}),"\uff1a\u6162\u67e5\u8be2\u626b\u63cf\u8fc7\u7684\u884c\u6570\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["\u5b9e\u9645\u9879\u76ee\u4e2d\uff0c\u6162\u67e5\u8be2\u65e5\u5fd7\u901a\u5e38\u4f1a\u6bd4\u8f83\u590d\u6742\uff0c\u6211\u4eec\u9700\u8981\u501f\u52a9\u4e00\u4e9b\u5de5\u5177\u5bf9\u5176\u8fdb\u884c\u5206\u6790\u3002\u50cf MySQL \u5185\u7f6e\u7684 ",(0,a.jsx)(e.code,{children:"mysqldumpslow"})," \u5de5\u5177\u5c31\u53ef\u4ee5\u628a\u76f8\u540c\u7684 SQL \u5f52\u4e3a\u4e00\u7c7b\uff0c\u5e76\u7edf\u8ba1\u51fa\u5f52\u7c7b\u9879\u7684\u6267\u884c\u6b21\u6570\u548c\u6bcf\u6b21\u6267\u884c\u7684\u8017\u65f6\u7b49\u4e00\u7cfb\u5217\u5bf9\u5e94\u7684\u60c5\u51b5\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u627e\u5230\u4e86\u6162 SQL \u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ",(0,a.jsx)(e.code,{children:"EXPLAIN"})," \u547d\u4ee4\u5206\u6790\u5bf9\u5e94\u7684 ",(0,a.jsx)(e.code,{children:"SELECT"})," \u8bed\u53e5\uff1a"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"mysql> EXPLAIN SELECT `score`,`name` FROM `cus_order` ORDER BY `score` DESC;\n+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+----------------+\n| id | select_type | table     | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra          |\n+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+----------------+\n|  1 | SIMPLE      | cus_order | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 997572 |   100.00 | Using filesort |\n+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+----------------+\n1 row in set, 1 warning (0.00 sec)\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u6bd4\u8f83\u91cd\u8981\u7684\u5b57\u6bb5\u8bf4\u660e\uff1a"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"select_type"})," \uff1a\u67e5\u8be2\u7684\u7c7b\u578b\uff0c\u5e38\u7528\u7684\u53d6\u503c\u6709 SIMPLE\uff08\u666e\u901a\u67e5\u8be2\uff0c\u5373\u6ca1\u6709\u8054\u5408\u67e5\u8be2\u3001\u5b50\u67e5\u8be2\uff09\u3001PRIMARY\uff08\u4e3b\u67e5\u8be2\uff09\u3001UNION\uff08UNION \u4e2d\u540e\u9762\u7684\u67e5\u8be2\uff09\u3001SUBQUERY\uff08\u5b50\u67e5\u8be2\uff09\u7b49\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"table"})," \uff1a\u8868\u793a\u67e5\u8be2\u6d89\u53ca\u7684\u8868\u6216\u884d\u751f\u8868\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"type"})," \uff1a\u6267\u884c\u65b9\u5f0f\uff0c\u5224\u65ad\u67e5\u8be2\u662f\u5426\u9ad8\u6548\u7684\u91cd\u8981\u53c2\u8003\u6307\u6807\uff0c\u7ed3\u679c\u503c\u4ece\u5dee\u5230\u597d\u4f9d\u6b21\u662f\uff1aALL < index < range ~ index_merge < ref < eq_ref < const < system\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"rows"})," : SQL \u8981\u67e5\u627e\u5230\u7ed3\u679c\u96c6\u9700\u8981\u626b\u63cf\u8bfb\u53d6\u7684\u6570\u636e\u884c\u6570\uff0c\u539f\u5219\u4e0a rows \u8d8a\u5c11\u8d8a\u597d\u3002"]}),"\n",(0,a.jsx)(e.li,{children:"......"}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["\u5173\u4e8e Explain \u7684\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8bf7\u770b\u8fd9\u7bc7\u6587\u7ae0\uff1a",(0,a.jsx)(e.a,{href:"https://javaguide.cn/database/mysql/mysql-query-execution-plan.html",children:"MySQL \u6267\u884c\u8ba1\u5212\u5206\u6790"}),"\u3002\u53e6\u5916\uff0c\u518d\u63a8\u8350\u4e00\u4e0b\u963f\u91cc\u7684\u8fd9\u7bc7\u6587\u7ae0\uff1a",(0,a.jsx)(e.a,{href:"https://mp.weixin.qq.com/s/LZRSQJufGRpRw6u4h_Uyww",children:"\u6162 SQL \u6cbb\u7406\u7ecf\u9a8c\u603b\u7ed3"}),"\uff0c\u603b\u7ed3\u7684\u633a\u4e0d\u9519\u3002"]}),"\n",(0,a.jsx)(e.h2,{id:"\u6b63\u786e\u4f7f\u7528\u7d22\u5f15",children:"\u6b63\u786e\u4f7f\u7528\u7d22\u5f15"}),"\n",(0,a.jsx)(e.p,{children:"\u6b63\u786e\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u5927\u5927\u52a0\u5feb\u6570\u636e\u7684\u68c0\u7d22\u901f\u5ea6\uff08\u5927\u5927\u51cf\u5c11\u68c0\u7d22\u7684\u6570\u636e\u91cf\uff09\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15",children:"\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u4e0d\u4e3a NULL \u7684\u5b57\u6bb5"})," \uff1a\u7d22\u5f15\u5b57\u6bb5\u7684\u6570\u636e\u5e94\u8be5\u5c3d\u91cf\u4e0d\u4e3a NULL\uff0c\u56e0\u4e3a\u5bf9\u4e8e\u6570\u636e\u4e3a NULL \u7684\u5b57\u6bb5\uff0c\u6570\u636e\u5e93\u8f83\u96be\u4f18\u5316\u3002\u5982\u679c\u5b57\u6bb5\u9891\u7e41\u88ab\u67e5\u8be2\uff0c\u4f46\u53c8\u907f\u514d\u4e0d\u4e86\u4e3a NULL\uff0c\u5efa\u8bae\u4f7f\u7528 0,1,true,false \u8fd9\u6837\u8bed\u4e49\u8f83\u4e3a\u6e05\u6670\u7684\u77ed\u503c\u6216\u77ed\u5b57\u7b26\u4f5c\u4e3a\u66ff\u4ee3\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u88ab\u9891\u7e41\u67e5\u8be2\u7684\u5b57\u6bb5"})," \uff1a\u6211\u4eec\u521b\u5efa\u7d22\u5f15\u7684\u5b57\u6bb5\u5e94\u8be5\u662f\u67e5\u8be2\u64cd\u4f5c\u975e\u5e38\u9891\u7e41\u7684\u5b57\u6bb5\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u88ab\u4f5c\u4e3a\u6761\u4ef6\u67e5\u8be2\u7684\u5b57\u6bb5"})," \uff1a\u88ab\u4f5c\u4e3a WHERE \u6761\u4ef6\u67e5\u8be2\u7684\u5b57\u6bb5\uff0c\u5e94\u8be5\u88ab\u8003\u8651\u5efa\u7acb\u7d22\u5f15\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u9891\u7e41\u9700\u8981\u6392\u5e8f\u7684\u5b57\u6bb5"})," \uff1a\u7d22\u5f15\u5df2\u7ecf\u6392\u5e8f\uff0c\u8fd9\u6837\u67e5\u8be2\u53ef\u4ee5\u5229\u7528\u7d22\u5f15\u7684\u6392\u5e8f\uff0c\u52a0\u5feb\u6392\u5e8f\u67e5\u8be2\u65f6\u95f4\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u88ab\u7ecf\u5e38\u9891\u7e41\u7528\u4e8e\u8fde\u63a5\u7684\u5b57\u6bb5"})," \uff1a\u7ecf\u5e38\u7528\u4e8e\u8fde\u63a5\u7684\u5b57\u6bb5\u53ef\u80fd\u662f\u4e00\u4e9b\u5916\u952e\u5217\uff0c\u5bf9\u4e8e\u5916\u952e\u5217\u5e76\u4e0d\u4e00\u5b9a\u8981\u5efa\u7acb\u5916\u952e\uff0c\u53ea\u662f\u8bf4\u8be5\u5217\u6d89\u53ca\u5230\u8868\u4e0e\u8868\u7684\u5173\u7cfb\u3002\u5bf9\u4e8e\u9891\u7e41\u88ab\u8fde\u63a5\u67e5\u8be2\u7684\u5b57\u6bb5\uff0c\u53ef\u4ee5\u8003\u8651\u5efa\u7acb\u7d22\u5f15\uff0c\u63d0\u9ad8\u591a\u8868\u8fde\u63a5\u67e5\u8be2\u7684\u6548\u7387\u3002"]}),"\n"]}),"\n",(0,a.jsx)(e.h3,{id:"\u88ab\u9891\u7e41\u66f4\u65b0\u7684\u5b57\u6bb5\u5e94\u8be5\u614e\u91cd\u5efa\u7acb\u7d22\u5f15",children:"\u88ab\u9891\u7e41\u66f4\u65b0\u7684\u5b57\u6bb5\u5e94\u8be5\u614e\u91cd\u5efa\u7acb\u7d22\u5f15"}),"\n",(0,a.jsx)(e.p,{children:"\u867d\u7136\u7d22\u5f15\u80fd\u5e26\u6765\u67e5\u8be2\u4e0a\u7684\u6548\u7387\uff0c\u4f46\u662f\u7ef4\u62a4\u7d22\u5f15\u7684\u6210\u672c\u4e5f\u662f\u4e0d\u5c0f\u7684\u3002 \u5982\u679c\u4e00\u4e2a\u5b57\u6bb5\u4e0d\u88ab\u7ecf\u5e38\u67e5\u8be2\uff0c\u53cd\u800c\u88ab\u7ecf\u5e38\u4fee\u6539\uff0c\u90a3\u4e48\u5c31\u66f4\u4e0d\u5e94\u8be5\u5728\u8fd9\u79cd\u5b57\u6bb5\u4e0a\u5efa\u7acb\u7d22\u5f15\u4e86\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"\u5c3d\u53ef\u80fd\u7684\u8003\u8651\u5efa\u7acb\u8054\u5408\u7d22\u5f15\u800c\u4e0d\u662f\u5355\u5217\u7d22\u5f15",children:"\u5c3d\u53ef\u80fd\u7684\u8003\u8651\u5efa\u7acb\u8054\u5408\u7d22\u5f15\u800c\u4e0d\u662f\u5355\u5217\u7d22\u5f15"}),"\n",(0,a.jsx)(e.p,{children:"\u56e0\u4e3a\u7d22\u5f15\u662f\u9700\u8981\u5360\u7528\u78c1\u76d8\u7a7a\u95f4\u7684\uff0c\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u6bcf\u4e2a\u7d22\u5f15\u90fd\u5bf9\u5e94\u7740\u4e00\u9897 B+\u6811\u3002\u5982\u679c\u4e00\u4e2a\u8868\u7684\u5b57\u6bb5\u8fc7\u591a\uff0c\u7d22\u5f15\u8fc7\u591a\uff0c\u90a3\u4e48\u5f53\u8fd9\u4e2a\u8868\u7684\u6570\u636e\u8fbe\u5230\u4e00\u4e2a\u4f53\u91cf\u540e\uff0c\u7d22\u5f15\u5360\u7528\u7684\u7a7a\u95f4\u4e5f\u662f\u5f88\u591a\u7684\uff0c\u4e14\u4fee\u6539\u7d22\u5f15\u65f6\uff0c\u8017\u8d39\u7684\u65f6\u95f4\u4e5f\u662f\u8f83\u591a\u7684\u3002\u5982\u679c\u662f\u8054\u5408\u7d22\u5f15\uff0c\u591a\u4e2a\u5b57\u6bb5\u5728\u4e00\u4e2a\u7d22\u5f15\u4e0a\uff0c\u90a3\u4e48\u5c06\u4f1a\u8282\u7ea6\u5f88\u5927\u78c1\u76d8\u7a7a\u95f4\uff0c\u4e14\u4fee\u6539\u6570\u636e\u7684\u64cd\u4f5c\u6548\u7387\u4e5f\u4f1a\u63d0\u5347\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"\u6ce8\u610f\u907f\u514d\u5197\u4f59\u7d22\u5f15",children:"\u6ce8\u610f\u907f\u514d\u5197\u4f59\u7d22\u5f15"}),"\n",(0,a.jsx)(e.p,{children:"\u5197\u4f59\u7d22\u5f15\u6307\u7684\u662f\u7d22\u5f15\u7684\u529f\u80fd\u76f8\u540c\uff0c\u80fd\u591f\u547d\u4e2d\u7d22\u5f15(a, b)\u5c31\u80af\u5b9a\u80fd\u547d\u4e2d\u7d22\u5f15(a) \uff0c\u90a3\u4e48\u7d22\u5f15(a)\u5c31\u662f\u5197\u4f59\u7d22\u5f15\u3002\u5982\uff08name,city \uff09\u548c\uff08name \uff09\u8fd9\u4e24\u4e2a\u7d22\u5f15\u5c31\u662f\u5197\u4f59\u7d22\u5f15\uff0c\u80fd\u591f\u547d\u4e2d\u524d\u8005\u7684\u67e5\u8be2\u80af\u5b9a\u662f\u80fd\u591f\u547d\u4e2d\u540e\u8005\u7684 \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u90fd\u5e94\u8be5\u5c3d\u91cf\u6269\u5c55\u5df2\u6709\u7684\u7d22\u5f15\u800c\u4e0d\u662f\u521b\u5efa\u65b0\u7d22\u5f15\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"\u8003\u8651\u5728\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5b57\u6bb5\u4e0a\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u4ee3\u66ff\u666e\u901a\u7d22\u5f15",children:"\u8003\u8651\u5728\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5b57\u6bb5\u4e0a\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u4ee3\u66ff\u666e\u901a\u7d22\u5f15"}),"\n",(0,a.jsx)(e.p,{children:"\u524d\u7f00\u7d22\u5f15\u4ec5\u9650\u4e8e\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u8f83\u666e\u901a\u7d22\u5f15\u4f1a\u5360\u7528\u66f4\u5c0f\u7684\u7a7a\u95f4\uff0c\u6240\u4ee5\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u5e26\u66ff\u666e\u901a\u7d22\u5f15\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"\u907f\u514d\u7d22\u5f15\u5931\u6548",children:"\u907f\u514d\u7d22\u5f15\u5931\u6548"}),"\n",(0,a.jsx)(e.p,{children:"\u7d22\u5f15\u5931\u6548\u4e5f\u662f\u6162\u67e5\u8be2\u7684\u4e3b\u8981\u539f\u56e0\u4e4b\u4e00\uff0c\u5e38\u89c1\u7684\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\u7684\u60c5\u51b5\u6709\u4e0b\u9762\u8fd9\u4e9b\uff1a"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsxs)(e.del,{children:["\u4f7f\u7528 ",(0,a.jsx)(e.del,{children:(0,a.jsx)(e.code,{children:"~~SELECT *~~"})})," \u8fdb\u884c\u67e5\u8be2;"]})," ",(0,a.jsx)(e.code,{children:"SELECT *"})," \u4e0d\u4f1a\u76f4\u63a5\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\uff08\u5982\u679c\u4e0d\u8d70\u7d22\u5f15\u5927\u6982\u7387\u662f\u56e0\u4e3a where \u67e5\u8be2\u8303\u56f4\u8fc7\u5927\u5bfc\u81f4\u7684\uff09\uff0c\u4f46\u5b83\u53ef\u80fd\u4f1a\u5e26\u6765\u4e00\u4e9b\u5176\u4ed6\u7684\u6027\u80fd\u95ee\u9898\u6bd4\u5982\u9020\u6210\u7f51\u7edc\u4f20\u8f93\u548c\u6570\u636e\u5904\u7406\u7684\u6d6a\u8d39\u3001\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\u8986\u76d6;"]}),"\n",(0,a.jsx)(e.li,{children:"\u521b\u5efa\u4e86\u7ec4\u5408\u7d22\u5f15\uff0c\u4f46\u67e5\u8be2\u6761\u4ef6\u672a\u51c6\u5b88\u6700\u5de6\u5339\u914d\u539f\u5219;"}),"\n",(0,a.jsx)(e.li,{children:"\u5728\u7d22\u5f15\u5217\u4e0a\u8fdb\u884c\u8ba1\u7b97\u3001\u51fd\u6570\u3001\u7c7b\u578b\u8f6c\u6362\u7b49\u64cd\u4f5c;"}),"\n",(0,a.jsxs)(e.li,{children:["\u4ee5 % \u5f00\u5934\u7684 LIKE \u67e5\u8be2\u6bd4\u5982 ",(0,a.jsx)(e.code,{children:"LIKE '%abc';"}),";"]}),"\n",(0,a.jsx)(e.li,{children:"\u67e5\u8be2\u6761\u4ef6\u4e2d\u4f7f\u7528 OR\uff0c\u4e14 OR \u7684\u524d\u540e\u6761\u4ef6\u4e2d\u6709\u4e00\u4e2a\u5217\u6ca1\u6709\u7d22\u5f15\uff0c\u6d89\u53ca\u7684\u7d22\u5f15\u90fd\u4e0d\u4f1a\u88ab\u4f7f\u7528\u5230;"}),"\n",(0,a.jsx)(e.li,{children:"IN \u7684\u53d6\u503c\u8303\u56f4\u8f83\u5927\u65f6\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\uff0c\u8d70\u5168\u8868\u626b\u63cf(NOT IN \u548c IN \u7684\u5931\u6548\u573a\u666f\u76f8\u540c);"}),"\n",(0,a.jsxs)(e.li,{children:["\u53d1\u751f",(0,a.jsx)(e.a,{href:"https://javaguide.cn/database/mysql/index-invalidation-caused-by-implicit-conversion.html",children:"\u9690\u5f0f\u8f6c\u6362"}),";"]}),"\n",(0,a.jsx)(e.li,{children:"\u2026\u2026"}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"\u63a8\u8350\u9605\u8bfb\u8fd9\u7bc7\u6587\u7ae0\uff1a"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.a,{href:"https://mp.weixin.qq.com/s/mwME3qukHBFul57WQLkOYg",children:"\u7f8e\u56e2\u6691\u671f\u5b9e\u4e60\u4e00\u9762\uff1aMySQl \u7d22\u5f15\u5931\u6548\u7684\u573a\u666f\u6709\u54ea\u4e9b\uff1f"})}),"\n",(0,a.jsx)(e.h3,{id:"\u5220\u9664\u957f\u671f\u672a\u4f7f\u7528\u7684\u7d22\u5f15",children:"\u5220\u9664\u957f\u671f\u672a\u4f7f\u7528\u7684\u7d22\u5f15"}),"\n",(0,a.jsx)(e.p,{children:"\u5220\u9664\u957f\u671f\u672a\u4f7f\u7528\u7684\u7d22\u5f15\uff0c\u4e0d\u7528\u7684\u7d22\u5f15\u7684\u5b58\u5728\u4f1a\u9020\u6210\u4e0d\u5fc5\u8981\u7684\u6027\u80fd\u635f\u8017 MySQL 5.7 \u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2 sys \u5e93\u7684 schema_unused_indexes \u89c6\u56fe\u6765\u67e5\u8be2\u54ea\u4e9b\u7d22\u5f15\u4ece\u672a\u88ab\u4f7f\u7528"}),"\n",(0,a.jsx)(e.h2,{id:"\u53c2\u8003",children:"\u53c2\u8003"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["MySQL 8.2 Optimizing SQL Statements\uff1a",(0,a.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/statement-optimization.html",children:"https://dev.mysql.com/doc/refman/8.0/en/statement-optimization.html"})]}),"\n",(0,a.jsxs)(e.li,{children:["\u4e3a\u4ec0\u4e48\u963f\u91cc\u5df4\u5df4\u7981\u6b62\u6570\u636e\u5e93\u4e2d\u505a\u591a\u8868 join - Hollis\uff1a",(0,a.jsx)(e.a,{href:"https://mp.weixin.qq.com/s/GSGVFkDLz1hZ1OjGndUjZg",children:"https://mp.weixin.qq.com/s/GSGVFkDLz1hZ1OjGndUjZg"})]}),"\n",(0,a.jsxs)(e.li,{children:["MySQL \u7684 COUNT \u8bed\u53e5\uff0c\u7adf\u7136\u90fd\u80fd\u88ab\u9762\u8bd5\u5b98\u8650\u7684\u8fd9\u4e48\u60e8 - Hollis\uff1a",(0,a.jsx)(e.a,{href:"https://mp.weixin.qq.com/s/IOHvtel2KLNi-Ol4UBivbQ",children:"https://mp.weixin.qq.com/s/IOHvtel2KLNi-Ol4UBivbQ"})]}),"\n",(0,a.jsxs)(e.li,{children:["MySQL \u6027\u80fd\u4f18\u5316\u795e\u5668 Explain \u4f7f\u7528\u5206\u6790\uff1a",(0,a.jsx)(e.a,{href:"https://segmentfault.com/a/1190000008131735",children:"https://segmentfault.com/a/1190000008131735"})]}),"\n",(0,a.jsxs)(e.li,{children:["\u5982\u4f55\u4f7f\u7528 MySQL \u6162\u67e5\u8be2\u65e5\u5fd7\u8fdb\u884c\u6027\u80fd\u4f18\u5316 \uff1a",(0,a.jsx)(e.a,{href:"https://kalacloud.com/blog/how-to-use-mysql-slow-query-log-profiling-mysqldumpslow/",children:"https://kalacloud.com/blog/how-to-use-mysql-slow-query-log-profiling-mysqldumpslow/"})]}),"\n"]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsxs)(e.p,{children:["\u66f4\u65b0: 2024-09-13 17:06:39",(0,a.jsx)(e.br,{}),"\n\u539f\u6587: ",(0,a.jsx)(e.a,{href:"https://www.yuque.com/snailclimb/mf2z3k/abc2sv",children:"https://www.yuque.com/snailclimb/mf2z3k/abc2sv"})]}),"\n"]})]})}function t(s={}){const{wrapper:e}={...(0,c.R)(),...s.components};return e?(0,a.jsx)(e,{...s,children:(0,a.jsx)(m,{...s})}):m(s)}},70500:(s,e,n)=>{n.d(e,{A:()=>l});const l=n.p+"assets/images/1665321510520-88c4b321-48e0-4997-b5d1-ae280a81a4b3-684944-78fb858164acfc896ccf4ca2119baf19.png"},92540:(s,e,n)=>{n.d(e,{A:()=>l});const l=n.p+"assets/images/1665321510546-f94f1d3e-80ab-44cc-b254-ed03b0fc7141-510039-e34ca79f9997f60560de650cbb7253ee.png"},30248:(s,e,n)=>{n.d(e,{A:()=>l});const l=n.p+"assets/images/1665321510560-d04dff39-e986-4058-b4e0-bbab811adcbb-982361-0cc908405cf489446e822b0ffdf83c46.png"},65314:(s,e,n)=>{n.d(e,{A:()=>l});const l=n.p+"assets/images/1665321600558-95c48321-1dde-4f09-b87f-1600a1767328-628499-56fad1b0aaccc740f6b432507e1b5fde.png"},61686:(s,e,n)=>{n.d(e,{A:()=>l});const l=n.p+"assets/images/1665321600609-cb62034b-da57-41d5-92ad-41e22eaa75c8-917873-d724f08e04c89409eb09bca5dcc0194d.png"},71917:(s,e,n)=>{n.d(e,{A:()=>l});const l=n.p+"assets/images/1706322619128-eaeb3707-ee71-42ef-9c2d-2999ce71ae8b-800275-c62cb9b0407752ca3b19e2ab49b75344.png"},28453:(s,e,n)=>{n.d(e,{R:()=>i,x:()=>r});var l=n(96540);const a={},c=l.createContext(a);function i(s){const e=l.useContext(c);return l.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(a):s.components||a:i(s.components),l.createElement(c.Provider,{value:e},s.children)}}}]);