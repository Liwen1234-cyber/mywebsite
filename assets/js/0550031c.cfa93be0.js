"use strict";(self.webpackChunkmybase=self.webpackChunkmybase||[]).push([[30222],{65863:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u4e2d\u4ecb\u8005","title":"\u8bbe\u8ba1\u6a21\u5f0f - \u4e2d\u4ecb\u8005","description":"5. \u4e2d\u4ecb\u8005\uff08Mediator\uff09","source":"@site/docs/\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u4e2d\u4ecb\u8005.md","sourceDirName":"\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840","slug":"/\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u4e2d\u4ecb\u8005","permalink":"/\u7801\u519c/\u8ba1\u7b97\u673a\u57fa\u7840/\u8bbe\u8ba1\u6a21\u5f0f - \u4e2d\u4ecb\u8005","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var l=a(74848),t=a(28453);const i={},o=void 0,c={},d=[{value:"5. \u4e2d\u4ecb\u8005\uff08Mediator\uff09",id:"5-\u4e2d\u4ecb\u8005mediator",level:2},{value:"Intent",id:"intent",level:3},{value:"Class Diagram",id:"class-diagram",level:3},{value:"Implementation",id:"implementation",level:3},{value:"JDK",id:"jdk",level:3}];function s(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"5-\u4e2d\u4ecb\u8005mediator",children:"5. \u4e2d\u4ecb\u8005\uff08Mediator\uff09"}),"\n",(0,l.jsx)(n.h3,{id:"intent",children:"Intent"}),"\n",(0,l.jsx)(n.p,{children:"\u96c6\u4e2d\u76f8\u5173\u5bf9\u8c61\u4e4b\u95f4\u590d\u6742\u7684\u6c9f\u901a\u548c\u63a7\u5236\u65b9\u5f0f\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"class-diagram",children:"Class Diagram"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Mediator\uff1a\u4e2d\u4ecb\u8005\uff0c\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\u7528\u4e8e\u4e0e\u5404\u540c\u4e8b\uff08Colleague\uff09\u5bf9\u8c61\u901a\u4fe1\u3002"}),"\n",(0,l.jsx)(n.li,{children:"Colleague\uff1a\u540c\u4e8b\uff0c\u76f8\u5173\u5bf9\u8c61"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:a(50462).A+"",width:"794",height:"402"})}),"\n",(0,l.jsx)(n.h3,{id:"implementation",children:"Implementation"}),"\n",(0,l.jsx)(n.p,{children:"Alarm\uff08\u95f9\u949f\uff09\u3001CoffeePot\uff08\u5496\u5561\u58f6\uff09\u3001Calendar\uff08\u65e5\u5386\uff09\u3001Sprinkler\uff08\u55b7\u5934\uff09\u662f\u4e00\u7ec4\u76f8\u5173\u7684\u5bf9\u8c61\uff0c\u5728\u67d0\u4e2a\u5bf9\u8c61\u7684\u4e8b\u4ef6\u4ea7\u751f\u65f6\u9700\u8981\u53bb\u64cd\u4f5c\u5176\u5b83\u5bf9\u8c61\uff0c\u5f62\u6210\u4e86\u4e0b\u9762\u8fd9\u79cd\u4f9d\u8d56\u7ed3\u6784\uff1a"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:a(26009).A+"",width:"368",height:"378"})}),"\n",(0,l.jsx)(n.p,{children:"\u4f7f\u7528\u4e2d\u4ecb\u8005\u6a21\u5f0f\u53ef\u4ee5\u5c06\u590d\u6742\u7684\u4f9d\u8d56\u7ed3\u6784\u53d8\u6210\u661f\u5f62\u7ed3\u6784\uff1a"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:a(15906).A+"",width:"324",height:"471"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public abstract class Colleague {\n    public abstract void onEvent(Mediator mediator);\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'public class Alarm extends Colleague {\n\n    @Override\n    public void onEvent(Mediator mediator) {\n        mediator.doEvent("alarm");\n    }\n\n    public void doAlarm() {\n        System.out.println("doAlarm()");\n    }\n}\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'public class CoffeePot extends Colleague {\n    @Override\n    public void onEvent(Mediator mediator) {\n        mediator.doEvent("coffeePot");\n    }\n\n    public void doCoffeePot() {\n        System.out.println("doCoffeePot()");\n    }\n}\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'public class Calender extends Colleague {\n    @Override\n    public void onEvent(Mediator mediator) {\n        mediator.doEvent("calender");\n    }\n\n    public void doCalender() {\n        System.out.println("doCalender()");\n    }\n}\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'public class Sprinkler extends Colleague {\n    @Override\n    public void onEvent(Mediator mediator) {\n        mediator.doEvent("sprinkler");\n    }\n\n    public void doSprinkler() {\n        System.out.println("doSprinkler()");\n    }\n}\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public abstract class Mediator {\n    public abstract void doEvent(String eventType);\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'public class ConcreteMediator extends Mediator {\n    private Alarm alarm;\n    private CoffeePot coffeePot;\n    private Calender calender;\n    private Sprinkler sprinkler;\n\n    public ConcreteMediator(Alarm alarm, CoffeePot coffeePot, Calender calender, Sprinkler sprinkler) {\n        this.alarm = alarm;\n        this.coffeePot = coffeePot;\n        this.calender = calender;\n        this.sprinkler = sprinkler;\n    }\n\n    @Override\n    public void doEvent(String eventType) {\n        switch (eventType) {\n            case "alarm":\n                doAlarmEvent();\n                break;\n            case "coffeePot":\n                doCoffeePotEvent();\n                break;\n            case "calender":\n                doCalenderEvent();\n                break;\n            default:\n                doSprinklerEvent();\n        }\n    }\n\n    public void doAlarmEvent() {\n        alarm.doAlarm();\n        coffeePot.doCoffeePot();\n        calender.doCalender();\n        sprinkler.doSprinkler();\n    }\n\n    public void doCoffeePotEvent() {\n        // ...\n    }\n\n    public void doCalenderEvent() {\n        // ...\n    }\n\n    public void doSprinklerEvent() {\n        // ...\n    }\n}\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public class Client {\n    public static void main(String[] args) {\n        Alarm alarm = new Alarm();\n        CoffeePot coffeePot = new CoffeePot();\n        Calender calender = new Calender();\n        Sprinkler sprinkler = new Sprinkler();\n        Mediator mediator = new ConcreteMediator(alarm, coffeePot, calender, sprinkler);\n        // \u95f9\u949f\u4e8b\u4ef6\u5230\u8fbe\uff0c\u8c03\u7528\u4e2d\u4ecb\u8005\u5c31\u53ef\u4ee5\u64cd\u4f5c\u76f8\u5173\u5bf9\u8c61\n        alarm.onEvent(mediator);\n    }\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"doAlarm()\ndoCoffeePot()\ndoCalender()\ndoSprinkler()\n"})}),"\n",(0,l.jsx)(n.h3,{id:"jdk",children:"JDK"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["All scheduleXXX() methods of ",(0,l.jsx)(n.a,{href:"http://docs.oracle.com/javase/8/docs/api/java/util/Timer.html",children:"java.util.Timer"})]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html#execute-java.lang.Runnable-",children:"java.util.concurrent.Executor#execute()"})}),"\n",(0,l.jsxs)(n.li,{children:["submit() and invokeXXX() methods of ",(0,l.jsx)(n.a,{href:"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html",children:"java.util.concurrent.ExecutorService"})]}),"\n",(0,l.jsxs)(n.li,{children:["scheduleXXX() methods of ",(0,l.jsx)(n.a,{href:"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html",children:"java.util.concurrent.ScheduledExecutorService"})]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html#invoke-java.lang.Object-java.lang.Object...-",children:"java.lang.reflect.Method#invoke()"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(s,{...e})}):s(e)}},50462:(e,n,a)=>{a.d(n,{A:()=>r});const r=a.p+"assets/images/30d6e95c-2e3c-4d32-bf4f-68128a70bc05-3b59a05ca98f271ebbd12bf6493b6220.png"},15906:(e,n,a)=>{a.d(n,{A:()=>r});const r=a.p+"assets/images/5359cbf5-5a79-4874-9b17-f23c53c2cb80-3acef9a1e19371e812842a7affdee6c2.jpg"},26009:(e,n,a)=>{a.d(n,{A:()=>r});const r=a.p+"assets/images/82cfda3b-b53b-4c89-9fdb-26dd2db0cd02-7e46fbcafe69a47734ce6437b851796a.jpg"},28453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>o});var r=a(96540);const l={},t=r.createContext(l);function i(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);