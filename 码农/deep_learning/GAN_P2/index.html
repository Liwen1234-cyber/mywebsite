<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-码农/deep_learning/GAN_P2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">GAN_P2_Theory behind GAN | Coisini</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://doc.minddiy.top/码农/deep_learning/GAN_P2/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="GAN_P2_Theory behind GAN | Coisini"><meta data-rh="true" name="description" content="P1是用了一堆比喻说明GAN 的操作是怎麼进行的"><meta data-rh="true" property="og:description" content="P1是用了一堆比喻说明GAN 的操作是怎麼进行的"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://doc.minddiy.top/码农/deep_learning/GAN_P2/"><link data-rh="true" rel="alternate" href="https://doc.minddiy.top/码农/deep_learning/GAN_P2/" hreflang="en"><link data-rh="true" rel="alternate" href="https://doc.minddiy.top/码农/deep_learning/GAN_P2/" hreflang="x-default"><meta name="google-site-verification" content="1FUPX6Qo4y3ecU623ShEurhgnjhSTjK49rRMhEDlzFA">
<link rel="stylesheet" href="/katex/katex.min.css">
<script src="/js/matomo.js" async defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.79037026.css">
<script src="/assets/js/runtime~main.468f2b27.js" defer="defer"></script>
<script src="/assets/js/main.4763ab3e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Coisini</b></a></div><div class="navbar__items navbar__items--right"><a href="https://minddiy.top" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Main site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>GAN_P2_Theory behind GAN</h1></header>
<p>P1是用了一堆比喻说明GAN 的操作是怎麼进行的</p>
<p>接下来,我们告诉你说实际上,為什麼这个 <strong>Generator 跟 Discriminator 的互动</strong>,可以让我们的 <strong>Generator產生像是真正的人脸的图片</strong>,那这背后的互动在做的,到底是什麼样的事情</p>
<p>那我们先来弄清楚,我们今天的<strong>训练的目标</strong>到底是什麼</p>
<p>我们在训练 Network 的时候,你就是要</p>
<ul>
<li>定一个 Loss Function</li>
<li>定完以后用 Gradient Descent 去调你的参数</li>
<li>去 <strong>Minimize</strong> 那个 Loss Function 就结束了</li>
</ul>
<p>在这个 Generation 的问题裡面,我们要 <strong>Minimize,或者是 Maximize 什麼样的东西</strong>,我们要把这些事弄清楚,才能够做接下来的事情</p>
<p>我们想要 <strong>Minimize</strong> 的东西是这个样子的，我们有一个 Generator</p>
<ul>
<li>给它一大堆的 Vector,给它从 Normal Distribution Sample 出来的东西</li>
<li>丢进这个 Generator 以后,会產生一个比较复杂的 Distribution,这个复杂 Distribution,我们叫它 ==PG==</li>
<li>然后 我们有一堆的 Data,这个是真正的 Data,真正的 Data 也形成了另外一个 Distribution,叫做 ==Pdata==,我们期待 <strong>PG 跟 Pdata 越接近越好</strong></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="our-objective">Our objective<a href="#our-objective" class="hash-link" aria-label="Direct link to Our objective" title="Direct link to Our objective">​</a></h2>
<p>如果你一下子没有办法想像,这个 PG 、Pdata 是怎麼一回事的话,那我们用<strong>一维的状况</strong>来跟大家说明</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210516190051672-2e86ba5c99c3805b2b50f6c391d31fbb.png" width="870" height="356" class="img_ev3q"></p>
<p>我们假设</p>
<ul>
<li>Generator 的 Input 是一个一维的向量</li>
<li>Generator 的 Output 也是一维的向量</li>
<li>我们真正的 Data 也是一维的向量</li>
</ul>
<p>那我们的 Normal Distribution 就长这个样子</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="187" height="107" class="img_ev3q"></p>
<p>那丢到 Generator 以后,假设你输入 5 个点,那边这每一个点,它的位置会改变,那你就產生一个新的 Distribution,那可能本来大家都集中在中间,通过这个 Generator,通过一个 Network 裡面很复杂,不知道做了什麼事情以后,这些点就分成两边,所以你的 Distribution 就变成这个样子</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="190" height="116" class="img_ev3q"></p>
<p>而 <strong>Pdata</strong> 是指真正的资料的分布,真正资料分布可能长这个样子</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="199" height="129" class="img_ev3q"></p>
<p>它分两面的状况是更极端的,左边的东西比较多,右边的东西比较少,那你期待左边这个分布跟右边这个分布,越接近越好,如果写成式子的话</p>
<p>你可以写成这个样子</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210516190555803-ec37b39bf0083276e540897ca0e35827.png" width="808" height="116" class="img_ev3q"></p>
<p>Div Of PG 跟 Pdata,它指的意思就是 PG 跟 Pdata,这两个 Distribution 之间的 ==Divergence==(散度)</p>
<p>Divergence 这边指的意思就是,这两个你可以想成是,这<strong>两个 Distribution 之间的某种距离</strong></p>
<ul>
<li>如果这个 <strong>Divergence 越大</strong>,就代表这<strong>两个 Distribution 越不像</strong></li>
<li><strong>Divergence 越小</strong>,就代表这两个 <strong>Distribution 越相近</strong></li>
</ul>
<p>Divergence 这就是衡量,两个的 Distribution 相似度的一个 Measure</p>
<p>我们现在的目标,是要去<strong>找一个 Generator</strong>,找一个 Generator找个操作,实际上做的事情是找一个 <strong>Generator 裡面的参数</strong>, Generator 也是一个 Network,裡面有一大堆的 Weight 跟 Bias,它可以让我们產生出来的 PG 跟 Pdata,之间的 Divergence 越小越好,我要找的就是这样子的 Generator</p>
<p>这边把它写作 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6887em"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>,所以我们这边要做的事情,<strong>跟一般 Train Network 其实非常地像</strong>,我们第一堂课就告诉你说,我们定义了 Loss Function,找一组参数 Minimize Loss Function</p>
<p>在 Generation 这个问题裡面,我们现在其实也定义了我们的 <strong>Loss Function</strong>,它就是 PG 跟 Pdata 的 <strong>Divergence</strong>,就是它们两个之间的距离,<strong>它们两个越近,那就代表这个產生出来的 PG 跟 Pdata 越像</strong>,所以 PG 跟 Pdata,我们希望它们越相像越好</p>
<p>但是我们这边遇到一个<strong>困难的问题</strong></p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517095401804-482f73e4be4891fe959bf7b7447ac47e.png" width="802" height="135" class="img_ev3q"></p>
<p>这个 Loss,我们是可以算的,但是这个 Divergence 是要怎麼样算？那你可能知道一些 Divergence 的式子,比如说 KL Divergence,比如说 JS Divergence,这些 Divergence 用在这种 Continues 的,Distribution 上面,你要做一个很复杂的,在实作上你<strong>几乎不知道要怎麼算的积分,那我们根本就无法把这个 Divergence 算出来</strong></p>
<p>我们算不出这个 Divergence,我们又要如何去找一个 G,去 Minimize 这个 Divergence ,这个就是 GAN 所遇到的问题,这就是我们在 Train 这一种,Generator 的时候会遇到的问题</p>
<p>而 <strong>==GAN==是一个很神奇的做法,它==可以突破,我们不知道怎麼计算 Divergence 的限制==</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sampling-is-good-enough-">Sampling is good enough ……<a href="#sampling-is-good-enough-" class="hash-link" aria-label="Direct link to Sampling is good enough ……" title="Direct link to Sampling is good enough ……">​</a></h2>
<p>所以我现在<strong>遇到的问题</strong>就是,<strong>不知道怎麼计算 Divergence</strong>,而 GAN 告诉我们就是,你<strong>不需要知道 PG 跟 Pdata它们实际上的 Formulation 长什麼样子</strong>，只要能<strong>从 PG 和 Pdata这两个 Distributions Sample 东西出来,就有办法算 Divergence</strong></p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517101337058-1114c6c488d458047e2b9700f268b69a.png" width="592" height="349" class="img_ev3q"></p>
<p>怎麼从真正的 Data 裡面,Sample 出东西来，怎麼从 Generator 裡面,產生一些东西出来？</p>
<ul>
<li>
<p>把你的图库拿出来,从图库裡面随机產生,随机 Sample 一些图片出来,你就得到 <strong>Pdata</strong></p>
</li>
<li>
<p>那你就把你的 Generator,输入这个 Normal 的,从 ==Normal Distribution== Sample 出来的 Vector,丢到 Generator 裡面（我们刚才说过,你这边的拿来 Sample 那个 Distribution,要是你有办法 Sample 的,所以我们选 Normal Distribution式子我们是知道的,是有办法 Sample 的) 我们从 Normal Distribution 裡面,Sample 一堆 Vector 出来丢给 Generator,让 Generator 產生一堆图片出来,那这些图片就是从 <strong>PG</strong>  Sample 出来的结果</p>
</li>
</ul>
<p>所以我们有办法从 PG 做 Sample,我们有办法从 Pdata 做 Sample</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="discriminator">Discriminator<a href="#discriminator" class="hash-link" aria-label="Direct link to Discriminator" title="Direct link to Discriminator">​</a></h2>
<p>接下来,GAN 这一整个系列的 Work,就是要告诉你说,怎麼在<strong>只有做 Sample 的前提之下</strong>,我根本<strong>不知道 PG 跟 Pdata,实际上完整的 Formulation 长什麼样子</strong>,居然就估测出了 Divergence</p>
<p>那这个就是要<strong>靠 ==Discriminator== 的力量</strong></p>
<p>那我们刚才讲过说 Discriminator是怎麼训练出来的</p>
<ul>
<li>我们有一大堆的 Real Data,这个 Real Data 就是从 Pdata Sample 出来的结果</li>
<li>我们有一大堆 Generative 的 Data,Generative 的 Data,就可以看作是从 PG Sample 出来的结果</li>
</ul>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517105747587-b02f4db754eab7a4376af7af813480f8.png" width="779" height="223" class="img_ev3q"></p>
<p>根据 Real 的 Data 跟 Generative 的 Data,我会去训练一个 Discriminator,它的训练的目标是</p>
<ul>
<li>看到 <strong>Real Data</strong>,就给它比较<strong>高的分数</strong></li>
<li>看到这个 <strong>Generative 的 Data</strong>,就给它比较<strong>低的分数</strong></li>
</ul>
<p>Discriminator 训练的目标,就是要<strong>分辨好的图跟不好的图</strong>,分辨真的图跟生成的图,所以<strong>看到真的图</strong>给它<strong>高分</strong>,<strong>看到生成的图</strong>给它<strong>低分</strong></p>
<p>实际以上的过程,你也可以把它写成式子,把它当做是一个 <strong>Optimization 的问题</strong>,这个 Optimization 的问题是这样子的</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517110317766-132aef3fcb309b1f221bad90d7f06779.png" width="809" height="179" class="img_ev3q"></p>
<p>这个 Discriminator 可以去 <strong>Maximize</strong>某一个 Function,我们这边叫做 ==Objective Function==（我们要 <strong>Maximize</strong> 的东西,我们会叫 <strong>Objective Function</strong>,如果 <strong>Minimize</strong> 我们就叫它 <strong>Loss Function</strong>）</p>
<p>我们现在要<strong>找一个 D</strong>,它可以 Maximize 这个 Objective Function,这个 Objective Function 长这个样子</p>
<ul>
<li>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.3488em;margin-left:-0.1389em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mclose">)]</span></span></span></span> 我们有一堆 Y,它是从 Pdata 裡面 Sample 出来的,也就是它们是真正的 Image,而我们把这个真正的 Image 丢到 D 裡面,得到一个分数再取<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.3567em;margin-left:-0.1389em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">G</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1433em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mclose">))]</span></span></span></span> 那另外一方面,我们有一堆 Y,它是从 PG 从 Generato r 所產生出来的,把这些图片也丢到 Discriminator 裡面,得到一个分数,再取 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mclose">))</span></span></span></span></p>
</li>
</ul>
<p>我们希望这个 <strong>Objective Function V越大越好</strong></p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517112608814-94d8122ae4505b7f53903ef4f516a809.png" width="801" height="105" class="img_ev3q"></p>
<ul>
<li>意味著我们希望这边的 D (Y) 越大越好,我们希望 Y 如果是从 <strong>Pdata Sample 出来的</strong>,它就要<strong>越大越好</strong></li>
<li>我们希望说如果 Y 是从,这个 <strong>PG Sample 出来的</strong>,它就要<strong>越小越好</strong></li>
</ul>
<p>让 D (Y) 越大越好,也就是让Discriminator Output 的值越小越好</p>
<p>你可能觉得没事突然写出这个式子有点奇怪,但你<strong>不一定要把这个 Objective Function,写成这个样子</strong>,它完全可以有其他的写法,那最早年之所以写成这个样子,是有一个很明确的理由,是為了要把 <strong>Discriminator跟 Binary Classification</strong>,跟二元的分类<strong>扯上关係</strong></p>
<p>事实上这个 Objective Function,它就是 <strong>Cross Entropy 乘一个负号</strong>,我们知道我们在训练一个 Classifier 的时候,我们就是要 Minimize Cross Entropy,所以当我们<strong>Maximize Cross Entropy 乘一个负号</strong>的时候,其实等同於 <strong>Minimize Cross Entropy</strong>,也就是等同於是在<strong>训练一个 Classifier</strong></p>
<p>那这个 Discriminator,其实可以当做是一个 Classifier,它做的事情就是把蓝色这些点,从 Pdata Sample 出来的真实的 Image,当作 Class 1,把从 PG Sample出来的这些假的 Image,当作 Class 2</p>
<p>有两个 Class 的 Data,训练一个 Binary 的 Classifier,训练完就等同於是,解了这一个 Optimization 的问题</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517143713952-d369582ffb43216d77eb2973bdbd60e0.png" width="827" height="517" class="img_ev3q"></p>
<p>那这边最神奇的地方是这一个式子,这个<strong>红框框裡面的数值,它跟 JS Divergence 有关</strong></p>
<p>那事实上有趣的事情是,我觉得最原始的 GAN 的 Paper,它的发想可能真的是从 Binary Classifier 来的,一开始是把 Discriminator,写成 Binary 的 Classifier,然后有了这样的 Objective Function,然后再经过一番推导以后,这个 Objective Function,它的 Maximum,就是你找到一个 D,可以让这个 Objective Function,它的值最大的时候,这个最大的值跟 JS Divergence 是有关的。它们没有完全一模一样,所以显然一开始,并不是针对 JS Divergence 设计的,而是经过一番推导以后,发现它们是非常有关联的,那至於实际上的推导过程,你可以参见原始 Ian J. Goodfellow 写的文章,那其实裡面的推导过程,我觉得写得算是蛮清楚的</p>
<p>所以真正神奇的地方就是,这一个 <strong>Objective Function 的最大值,它  跟 Divergence 是有关的</strong>,所以我们刚才说,我们不知道怎麼算 Divergence没关係,Train 你的 Discriminator,Train 完以后,看看它的 Objective Function 可以到多大,那个值就跟 Divergence 有关</p>
<p>这边我们并没有把证明拿出来跟大家讲了,但是我们还是可以从<strong>直观上</strong>来理解一下,為什麼这个 <strong>Objective Function 的值,会跟 Divergence 有关</strong></p>
<p>你可以想想看,假设 PG 跟 Pdata,它的 <strong>Divergence 很小</strong></p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517145950583-aa552987d0438d4545cb852bba8aa8d9.png" width="783" height="577" class="img_ev3q"></p>
<ul>
<li>
<p>也就 <strong>PG 跟 Pdata 很像</strong>,它们差距没有很大,它们很像 PG 跟 Pdata Sample 出来的,蓝色的星星跟红色的星星,它们是<strong>混在一起的</strong></p>
<p>这个时候Discriminator 就是在 Train 一个,Binary 的 Classifier,对 Discriminator 来说,既然这两堆资料是混在一起的,那就<strong>很难分开</strong>,这个问题很难,所以你在解这个 Optimization Problem 的时候,你就没有办法让这个 Objective 的值非常地大</p>
<p>所以这个 Objective 这个 V 的,Maximum 的值就比较小,所以小的 Divergence,对应到小的这个 Objective Function 的Maximum 的值</p>
<p>所以不是 Objective Function 的值本身,是 Objective Function 在穷举地找 Discriminator 要可以得到的最大的值,</p>
</li>
<li>
<p>如果今天,你的<strong>两组 Data 很不像</strong>,它们的 Divergence 很大,那对 Discriminator 而言,就可以轻易地把它分开</p>
<p>当 Discriminator 可以轻易把它分开的时候,这个 Objective Function 就可以冲得很大,那所以当你有大的 Divergence 的时候,这个 Objective Function 的 Maximum 的值,就可以很大</p>
</li>
</ul>
<p>详细的证明请参见 GAN 原始的 Paper,裡面在做了一些假设,比如说 Discriminator 的 Capacity 是无穷大,等等的假设以后,  可以做出这个 Maximum 的值,跟 JS Divergence 一些相关的这个推导</p>
<p>所以我们说我们本来的目标是要找一个 Generator,去 Minimize PG 跟 Pdata 的 Divergence</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="453" height="76" class="img_ev3q"></p>
<p>但我们卡在<strong>不知道怎麼计算 Divergence</strong>,那我们现在要知道,我们只要训练一个 Discriminator,训练完以后,这个 Objective Function 的最大值,就是这个 Divergence,就跟这个 Divergence 有关</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517151012214-7514894e1c9b535c1fd9fba4243df5eb.png" width="736" height="183" class="img_ev3q"></p>
<p>那我们何不就把红框框裡面这一项,跟 Divergence 做替换,我们何不就把 Divergence,替换成红框框裡面这一项,所以我们就有了这样一个 Objective Function</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517151036974-e0bc27aa470255730c6d0c5fa76c5f5d.png" width="721" height="186" class="img_ev3q"></p>
<p>这个 Objective Function 乍看之下有点复杂,它<strong>有一个 Minimum</strong>,<strong>又有一个 Maximum</strong>,所以你不小心就会脑筋转不过来</p>
<ul>
<li>我们是要找一个 <strong>Generator</strong>,去 Minimize 红色框框裡面这件事</li>
<li>但是红框框裡面这件事,又是另外一个 Optimization Problem,它是在<strong>给定 Generator</strong> 的情况下,去找一个 Discriminator,这个 <strong>Discriminator,可以让 V 这个 Objective Function 越大越好</strong></li>
</ul>
<p>然后我们要找一个 G,让红框框裡面的值最小,这个 G 就是我们要的 Generator,而刚才我们讲的这个 Generator 跟 Discriminator,互动 互相欺骗这个过程,其实就是想解这一个有 Minimize,又有 Maximize 这个 Min Max,Min Max 的问题,就是透过下面这一个,我们刚才讲的 GAN 的 Argument 来解的</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517152330770-da40448e198f5276cb53c01658963785.png" width="834" height="472" class="img_ev3q"></p>
<p>那至於实际上,為什麼下面这个 Argument 可以解这个问题,你也可以参见原始 GAN 的 Paper</p>
<p>那讲到这边,也许你就会问说,<strong>為什麼是 JS Divergence,而且还不是真的 JS Divergence</strong>,是跟 JS Divergence 相关而已,<strong>怎麼不用真正的 JS Divergence,或不用别的,比如说 KL Divergence</strong></p>
<p>你完全可以这麼做,你只要改了那个 Objective Function,你就可以量各式各样的 Divergence,那至於怎麼样设计 Objective Function,得到不同的 Divergence,那有一篇叫做 F GAN 的 Paper 裡面,有非常详细的证明</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517152805378-cd1cb18b2f794a78feb3750fdd9456ba.png" width="890" height="628" class="img_ev3q"></p>
<p>它有很多的 Table 告诉你说,不同的 Divergence,要怎麼设计它的 Objective Function,你设计什麼样的 Objective Function,去找它的 Maximum Value,就会变成什麼样的 Divergence,在这篇文章裡<a href="https://arxiv.org/abs/1606.00709%E9%9D%A2%E9%83%BD%E6%9C%89%E8%AF%A6%E7%BB%86%E7%9A%84%E8%AE%B0%E8%BD%BD,%E8%BF%99%E4%B8%80%E5%BC%80%E5%A7%8B%E6%9C%89%E4%BA%BA%E4%BC%9A%E8%A7%89%E5%BE%97%E8%AF%B4,GAN" target="_blank" rel="noopener noreferrer">https://arxiv.org/abs/1606.00709面都有详细的记载,这一开始有人会觉得说,GAN</a> 之所以没有很好 Train,也许是因為,就是我们没有在真的,这个 Minimize JS Divergence</p>
<p>但是有了这个 F GAN 这个 Paper以后,它就告诉你说,我们有办法 Minimize JS Divergence,但<strong>就算你真的可以 Minimize JS Divergence,结果也还是没有很好</strong>,GAN 还是没有很好 Train</p>
<p>所以俗话就说,No Pain No Gan</p>
<p><img decoding="async" loading="lazy" alt="image-20210517153016705" src="/assets/images/image-20210517153016705-7c26d2ce4517b136a2c0e444f0b3b870.png" width="877" height="600" class="img_ev3q"></p>
<p>所以接下来我们就要讲一些,GAN 训练的小技巧</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tips-for-gan">Tips for GAN<a href="#tips-for-gan" class="hash-link" aria-label="Direct link to Tips for GAN" title="Direct link to Tips for GAN">​</a></h2>
<p>其实它 GAN 训练的小技巧非常非常多,我们只挑一个最知名的来讲,这个最知名的就是很多人都听过,就是很多人都听过的 ==WGAN==</p>
<p>在讲 WGAN 之前,我们先讲 <strong>JS Divergence 有什麼样的问题</strong>，在最早的 GAN 说,我们要 Minimize 的是 JS Divergence,那选择 JS Divergence 的时候,会有什麼问题</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="js-divergence-is-not-suitable">JS divergence is not suitable<a href="#js-divergence-is-not-suitable" class="hash-link" aria-label="Direct link to JS divergence is not suitable" title="Direct link to JS divergence is not suitable">​</a></h3>
<p>在想 JS Divergence 的问题之前,我们先看一下 <strong>PG 跟 Pdata 有什麼样的特性</strong></p>
<p>那 PG 跟 Pdata 有一个非常关键的特性是,<strong>PG 跟 Pdata 它们重叠的部分往往非常少</strong></p>
<p><img decoding="async" loading="lazy" alt="image-20210517160024282" src="data:image/png;base64,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" width="721" height="45" class="img_ev3q"></p>
<p>这边有两个理由</p>
<ul>
<li>
<p>第一个理由是来自於 Data 本身的特性</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517160108669-b594277a2cff82d12bc9d4171364ca65.png" width="759" height="202" class="img_ev3q"></p>
<p>PG 跟 Pdata,它们都是要產生图片的,那图片其实是高维空间裡面的一个低维的 Manifold(<strong>流形</strong>（英语：Manifolds）是可以局部<a href="https://zh.wikipedia.org/wiki/%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E7%A9%BA%E9%97%B4" target="_blank" rel="noopener noreferrer">欧几里得空间</a>化的一个<a href="https://zh.wikipedia.org/wiki/%E6%8B%93%E6%89%91%E7%A9%BA%E9%97%B4" target="_blank" rel="noopener noreferrer">拓扑空间</a>，是欧几里得空间中的曲线、曲面等概念的推广),怎麼知道图片是高维空间,裡面低维的 Manifold</p>
<p>我们可以想想看,你在高维空间裡面,随便 Sample 一个点,它通常都没有办法构成一个,二次元人物的头像,所以二次元人物的头像它的分布,在高维的空间中,其实是非常狭窄的,所以二次元头像的分布,这个图片的分布,其实是高维空间中的低维的 Manifold</p>
<p>或者是如果是以二维空间来想的话,那图片的分布,可能就是<strong>二维空间的一条线</strong>,二维空间中多数的点都不是图片,就高维空间中随便 Sample 一个点,都不是图片,只有非常小的范围,Sample 出来它会是图片,所以从这个角度来看,从资料本身的特性来看,PG 跟 Pdata,它们都是 Low Dimensional 的 Manifold,用二维空间来讲,PG 跟 Pdata 都是二维空间中的两条直线,而二维空间中的两条直线,除非它刚好重合,不然<strong>它们相交的范围,几乎是可以忽略的</strong>,这是第一个理由,那也许有人说, 这个 也许图片根本就不是什麼Low Dimensional 的 Manifold,那会不会第一个理由就不成立了</p>
</li>
<li>
<p>第二个理由是,我们是从来都不知道 PG 跟 Pdata 长什麼样子,我们对 PG 跟 Pdata,它的分布的理解,其实来自於 Sample</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517162310091-e61fcb5680c61cc0ee2614fc2031a9d4.png" width="814" height="233" class="img_ev3q"></p>
<p>所以也许 PG 跟 Pdata,它们是有<strong>非常大的 Overlap 的范围</strong>,但是我们实际上,在了解这个 PG 跟 Pdata,在计算它们的 Divergence 的时候,我们是从  Pdata 裡面 Sample 一些点出来,从 PG 裡面 Sample 一些点出来</p>
<p>如果你 <strong>Sample 的点不够多,你 Sample 的点不够密</strong>,那就算是这两个 Divergence 实际上,这两个 Distribution 实际上有重叠,但是假设你 Sample 的点不够多,对 Discriminator 来说,它也是没有重叠的</p>
<p>就是这个蓝色的分布跟红色的分布,明明是有重叠的,但如果你从蓝色分布 Sample 一些点,红色分布 Sample 一些点,这些点你又 <strong>Sample 得不够多</strong>,你完全就可以画一条楚河汉界,把红色的点跟蓝色的点完全地分开来,然后说红色的点,它的分布就是在这个楚河汉界的右边,蓝色的点就在左边,它们完全是<strong>没有任何冲突</strong></p>
<p>所以以上给你两个理由,试图说服你说 PG 跟 Pdata 这两个分布,它们<strong>重叠的范围是非常小的</strong></p>
</li>
</ul>
<p>而几乎没有重叠这件事情,对於 JS Divergence 会造成什麼问题？</p>
<p>JS Divergence 有个特性,是<strong>两个没有重叠的分布,JS Divergence 算出来,就永远都是 Log2</strong>,不管这两个分布长什麼样,所以两个分布只要没有重叠,算出来就一定是 Log2</p>
<p>所以举例来说</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="266" height="309" class="img_ev3q"></p>
<p>假设这是你的 Pdata,这是你的 PG,它们都,假设它们都是一条直线,然后中间有很长的距离,你算它们的 JS Divergence,是 Log2</p>
<p>假设你的 PG 跟 Pdata 其实蛮接近的</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="202" height="300" class="img_ev3q"></p>
<p>那中间的间隔其实是比较小的,算出来结果还是 Log2</p>
<p>除非你的 PG 跟 Pdata 有重合</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="234" height="280" class="img_ev3q"></p>
<p>不然这个 PG 跟 Pdata 只要它们是两条直线,它们这两条直线没有相交,那算出来就是 Log2,算出来这个 Case,算出来是 Log2,这个 Case 算出来也是 Log2</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517163615303-0e4dd81bd3d83a30560490f6a74c95b3.png" width="834" height="368" class="img_ev3q"></p>
<p>那但是明明中间这个 Case,中间这个 Generator就比左边这个 Generator 好,明明蓝色的线就跟红色的线比较近,但是从 JS Divergence 上面,看不出这样子的现象</p>
<p>那既然从 JS Divergence 上,看不出这样的现象,你在 Training 的时候,你根本就没有办法把这样子的 Generator,Update 参数变成这样子的 Generator,因為对你的 Loss 来说,对你的目标来说,这两个 Generator 是一样好,或者是一样糟</p>
<p>那以上是从比较理论的方向来说明,如果我们从更直观的实际操作的角度来说明,你会发现,当你是<strong>用 JS Divergence</strong> 的时候,你就假设你今天在 Train 一个,Binary 的 Classifier,去分辨 Real 的 Image,跟 Generated Image,你会发现<strong>实际上你通常 Train 完以后,正确率几乎都是 100%</strong></p>
<p>因為你 <strong>Sample 的图片根本就没几张</strong>,对你的 Discriminator 来说,你 Sample 256 张 Real 的图片,256 张 Fake 的图片,它直接用硬背的,都可以把这两组图片分开,知道说谁是 Real 谁是 Fake,所以实际上,如果你有自己 Train 过 GAN 的话你会发现,如果你用 Binary 的 Classifier Train 下去,你会发现,你几乎每次 Train 完你的 Classifier 以后,也就你 Train 完你的 Discriminator 以后,正确率都是 100%</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517163937858-cdb50407fc19c03ef97e8fe143bceeec.png" width="831" height="488" class="img_ev3q"></p>
<p>我们本来会期待说,这个 Discriminator 的 Loss,也许代表了某些事情,这个 Binary Classifier Loss, 也许代表某些事情,这个 <strong>Loss 越来越大,代表问题越来越难</strong>,代表我们的 <strong>Generated Data,跟 Real 的 Data 越来越接近</strong></p>
<p>但实际上,你在实际操作的时候你<strong>根本观察不到这个现象</strong>,这个 Binary Classifier <strong>训练完的 Loss根本没有什麼意义</strong>,因為它总是可以让它的正确率变到 100%,两组 Image 都是 Sample 出来的,它硬背都可以得到 100% 的正确率,你根本就没有办法看出你的 Generator,有没有越来越好</p>
<p>所以过去,尤其是在还没有 WGAN 这样的技术,在我们还用 Binary Classifier,当作 Discriminator 的时候,Train GAN 真的就很像巫术 黑魔法,你根本就不知道你 Train 的时候,有没有越来越好,所以怎麼办,那时候做法就是,你每次 Update 几次 Generator 以后,你就要把你的图片 Print 出来看,然后你就要一边那个吃饭,一边看那个图片生成的结果,然后跑一跑就发现 哇 坏掉了,然后咔掉重做这样子</p>
<p>所以以前你根本就没有,不像我们在 Train 一般的 Network 的时候,你有个 Loss Function,然后那个 Loss 随著训练的过程,会慢慢慢慢变小,那你就会看说 Loss 慢慢变小,你就放心知道说你的 Network 有在 Train,但会不会 Overfitting 是另外一件事,至少还在它在 Training Data 上有越来越好</p>
<p>但是对 GAN 而言,本来我们期待 Classifier 的 Loss,可以提供一些资讯,但是当你的 Classifier 是一个,简单 一般的 Binary Classifier 的时候,它训练的结果你就没有任何资讯,你每次训练出来正确率都是 100%,你根本不知道你的 Generator,有没有越来越好,变成你只能够用人眼看,用人眼守在电脑前面看,发现结果不好 咔掉,重新用一组 Hyperparameter,重新调一下 Network,加工重做,所以过去训练 GAN 是有点辛苦的</p>
<p>那既然是 JS Divergence 的问题,於是有人就想说,那会不会<strong>换一个,衡量两个 Distribution 的相似程度的方式,换一种 Divergence,就可以解决这个问题了,於是就有了这个  Wasserstein</strong>,或使用 ==Wasserstein Distance== 的想法</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wasserstein-distance">Wasserstein Distance<a href="#wasserstein-distance" class="hash-link" aria-label="Direct link to Wasserstein Distance" title="Direct link to Wasserstein Distance">​</a></h3>
<p>Wasserstein Distance 的想法是这个样子,假设你有两个 Distribution,一个 Distribution 我们叫它 P,另外一个 Distribution 我们叫它 Q</p>
<p>Wasserstein Distance 它计算的方法,就是想像你在开一台推土机</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517165125486-7a69ecc984e8e1f1911d3ecf41cb6fc2.png" width="771" height="441" class="img_ev3q"></p>
<p>推土机的英文叫做 Earth Mover,想像你在开一台推土机,那你把 P 想成是一堆土,把 Q 想成是你要把土堆放的目的地,那这个推土机<strong>把 P 这边的土,挪到 Q 所移动的平均距离</strong>,就是 <strong>Wasserstein Distance</strong></p>
<p>在这个例子裡面,我们假设 P 都集中在这个点,Q 都集中在这个点,对推土机而言,假设它要把 P 这边的土挪到 Q 这边,那它要平均走的距离,就是 D</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517165248639-a1af4b87c1212cc33a352cd852c7543c.png" width="735" height="258" class="img_ev3q"></p>
<p>所以在这个例子裡面,假设 P 集中在一个点,Q 集中在一个点,这两个点之间的距离是 D 的话,那 P 跟 Q 的 Wasserstein Distance,就是 D</p>
<p>那因為在讲这个,Wasserstein Distance 的时候,你要想像有一个 Earth Mover,有一个推土机在推土,所以其实 Wasserstein Distance,又叫 ==Earth Mover Distance==</p>
<p>但是如果是<strong>更复杂的 Distribution</strong>,你要算 <strong>Wasserstein Distance,就有点困难</strong>了</p>
<p>假设这是你的 P,假设这是你的 Q</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="457" height="336" class="img_ev3q"></p>
<p>假设你开了一个推土机,想要把 P 把它重新塑造一下形状,让 P 的形状跟 Q 比较接近一点,那有什麼样的做法,你会发现说,你可能的 Moving Plans,<strong>把 P重新塑造成 Q</strong> 的<strong>方法有无穷多种</strong></p>
<p>你可以说我把这边的土搬到这裡来,我把这边的土搬到这裡来,把 P 变成 Q</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517203324961-e9b264ef50e5d1b0eeffb89d4229b87d.png" width="451" height="336" class="img_ev3q"></p>
<p>但你也可以捨近求远说,我把这裡的土搬到这裡来,把这裡的土搬到这裡来,捨近求远,一样还是可以把 P 变成 Q</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517203350798-887e04e029a4da58a27fcd9f1357f89c.png" width="435" height="338" class="img_ev3q"></p>
<p>所以当我们考虑,比较复杂的 Distribution 的时候,把 Q 把 P 变成 Q 的方法,是有非常非常多不同的方法,你有各式各样不同的 Moiving Plan,用<strong>不同的 Moving Plan</strong>,你<strong>推土机平均走的距离就不一样</strong></p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517203441636-1ca0940603fac194c44bc22897ab9a49.png" width="881" height="538" class="img_ev3q"></p>
<p>在左边这个例子裡面,推土机平均走的距离比较少,在右边这个例子裡面因為捨近求远,推土机平均走的距离比较大</p>
<p>為了让 Wasserstein Distance 只有一个值,所以这边 Wasserstein Distance 的定义是,<strong>穷举所有的 Moving Plans</strong>,然后看哪一个推土的方法,哪一个 Moving 的计划,可以让平均的距离最小,那个<strong>最小的值,才是 Wasserstein Distance</strong></p>
<p>所以其实要计算 Wasserstein Distance,是挺麻烦的,光只是要计算一个 Distance,居然还要解一个 Optimization 的问题,<strong>解出这个 Optimization 的问题,才能算 Wasserstein Distance</strong></p>
<p>我们先不讲,怎麼计算 Wasserstein Distance 这件事,我们先来讲假设我们<strong>能够计算Wasserstein Distance 的话</strong>,它可以带给我们什麼样的<strong>好处</strong></p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517210354183-d1ea1c260d1f2b2eac9263e5f6d43f28.png" width="809" height="465" class="img_ev3q"></p>
<p>那假设 PG 跟 Pdata 它们的距离是 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>,在左边这个例子裡面,Wasserstein Distance 算出来就是 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></p>
<p>在中间这个例子裡面,PG 跟 Pdata 它们之间的距离是 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>,那 Wasserstein Distance 算出来的距离,就是 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></p>
<p>假设 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> 比较小,<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> 比较大,那算 Wasserstein Distance 的时候,这个 Case 的 Wasserstein Distance 就比较小,这个 Case 的 Wasserstein Distance 就比较大,所以我们就可以知道说,<strong>由左向右的时候,Wasserstein Distance 是越来越小的</strong></p>
<p>所以如果你观察,Wasserstein Distance 的话会知道说,从左到右我们的 Generator 越来越进步,但是如果你观察 Discriminator,你会发现你观察不到任何东西,对 Discriminator 而言,这边每一个 Case 算出来的 JS Divergence,都是一样,都是一样好或一样差,但是如果换成 Wasserstein Distance,由左向右的时候我们会知道说,我们的 Discriminator 做,我们的 Generator 做得越来越好</p>
<p>所以我们<strong>换一个计算 Divergence 的方式</strong>,我们就可以解决 JS Divergence,有可能带来的问题</p>
<p>这又让我想到一个演化的例子,这是眼睛的生成</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517211703473-6466d9cf24f00944a61529952db46bf2.png" width="827" height="422" class="img_ev3q"></p>
<p>右边这个是人类的眼睛,人类的眼睛是非常地复杂的,那有一些生物它有非常原始的  眼睛,比如说有一些细胞具备有感光的能力,这可以看做是最原始的眼睛,但是这些最原始的眼睛,怎麼变成最复杂的眼睛,这对人类来说其实觉得非常难想像</p>
<p>左边这个图像构造这麼简单,只是一些感光的细胞在皮肤上,经过突变產生一些感光的细胞,听起来像是一个合理的,但是天择突变,怎麼可能產生这麼复杂的器官,怎麼產生眼睛这麼精巧的器官</p>
<p>那如果你直接觉得说,从这个地方就可以一步跳到这个地方,那根本不可能发生,但是<strong>中间其实是有很多连续的步骤</strong>,从感光细胞到眼睛,中间其实是有连续的步骤的</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517212626500-f838c4610441097c81f731d9baa1ca2a.png" width="838" height="576" class="img_ev3q"></p>
<p>举例来说,感光的细胞可能会,出现在一个比较凹陷的地方,皮肤凹陷下去,这样感光细胞可以接受来自不同方向的光源,然后后来觉得说,乾脆把凹陷的地方盖起来,后来觉得盖起来的地方裡面,可以放一些液体,然后最后就变成了人的眼睛</p>
<p>而从最左边跳到最右边这一步,非常大,但是这边每一小步,都可以让一个生命存活的机率变大,都可以让生命繁衍下去的机率变高</p>
<p>既然这边每一个步骤,都可以让生命繁衍的机率变高,那生命就可以从左边一直演化到右边,最终產生复杂的器官</p>
<p>而我觉得对於当你使用 WGAN,当你使用这个 Wasserstein Distance,来衡量你的 Divergence 的时候,其实就製造了类似的效果,本来 PG0 跟 Pdata 非常地遥远,你要它一步从这裡跑到这裡,一步从这裡跑到这裡,让这个 PG0 跟 Pdata,直接 Align 在一起,是不可能的,可能非常地困难</p>
<p>对 JS Divergence 而言,它需要做到直接从这一步跳到这一步,它的 JS Divergence 的 Loss 才会有差异,但是对 <strong>W Distance</strong> 而言,你只要<strong>每次有稍微把 PG 往 Pdata 挪近一点</strong>,W Distance 就会有变化,W Distance 有变化,你才有办法 Train 你的 Generator,去 Minimize W Distance,所以这就是為什麼,当我们从 JS Divergence,换成 Wasserstein Distance 的时候,可以带来的好处</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wgan">WGAN<a href="#wgan" class="hash-link" aria-label="Direct link to WGAN" title="Direct link to WGAN">​</a></h3>
<p>WGAN 实际上就是用,当你用 Wasserstein Distance,来取代 JS Divergence 的时候,这个 GAN 就叫做 WGAN</p>
<p>接下来你会遇到的问题就是,<strong>Wasserstein Distance 是要怎麼算</strong>,Pdata 跟 PG,它的 Wasserstein Distance 要怎麼计算,Wasserstein Distance,是一个非常复杂的东西,我光要算个 Wasserstein Distance,还要解一个 Optimization 的问题,实际上要怎麼计算</p>
<p>那这边就<strong>不讲过程,直接告诉结果</strong>,解下面这个 Opimilazion 的 Problem,解出来以后你得到的值,就是 Wasserstein Distance</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="708" height="84" class="img_ev3q"></p>
<p>我们就观察一下这个式子,这个式子裡面有说</p>
<ul>
<li>y 如果是从 Pdata 来的,那我们要计算它的 D(y) 的<strong>期望值</strong></li>
<li>y 如果是从 PG 来的,我们计算它的 D(y) 的<strong>期望值</strong>,但是<strong>前面乘上一个负号</strong></li>
</ul>
<p>所以如果你要 Maximum,这个 Objective Function,你会达成这样的效果，</p>
<ul>
<li>如果 y是从 <strong>Pdata</strong> Sample 出来的,D(y),就 Discriminator 的 Output 要<strong>越大越好</strong></li>
<li>如果 X 是从 <strong>PG</strong>,从 Generator Sample 出来的,那 D(y),也就 Discriminator 的 Output,应该要<strong>越小越好</strong></li>
</ul>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517213552789-f85327e858f549d727cef3d0692ba93e.png" width="706" height="173" class="img_ev3q"></p>
<p>但是这边<strong>还有另外一个限制</strong>,它不是光大括号裡面的值变大就好,还有一个限制是,<strong>D 不能够是一个随便的 Function</strong>,D必须要是一个 1-Lipschitz 的 Function</p>
<p>1-Lipschitz 是什麼东西,如果你不知道是什麼的话,也没有关係</p>
<p>我们这边你就想成,<strong>D 必须要是一个足够平滑的 Function</strong>,它不可以是变动很剧烈的 Function,它必须要是一个足够平滑的 Function</p>
<p>那為什麼足够平滑这件事情是非常重要的,我们可以从直观来理解它,假设这个是真正的资料的分布,这是 Generated 的资料的分布</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517214301455-3370fec076e5d6f76bc2f133509f0018.png" width="370" height="253" class="img_ev3q"></p>
<p>如果我们没有这个限制,只看大括号裡面的值的话,大括号裡面的目标,是要这些真正的值,它的 D(y) 越大越好,那要让 Generated 的值,它的 D(y) 越小越好</p>
<p>如果你没有做任何限制,只单纯要这边的值越大越好,这边的值越小  越好,在蓝色的点跟绿色的点,也就是真正的 Image,跟 Generated 的 Image,没有任何重叠的情况下,你的 Discriminator 会做什麼,它会给 Real 的 Image <strong>无限大的正值</strong>,给 Generated 的 Image <strong>无限大的负值</strong></p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517214207569-e1e7e5dce999537a4a6c0dc177d1ae6b.png" width="781" height="263" class="img_ev3q"></p>
<p>所以你这个 Training 根本就没有办法收敛,而且你会发现说,只要这两堆 Data 没有重叠,<strong>你算出来的值都是无限大</strong>,你算出来的这个 Maximum 值都是无限大,这显然不是我们要的,这不就跟 JS Divergence 的问题一模一样吗</p>
<p>其实你要加上这个限制以后,你这个 Maximum 的值,才会是 Wasserstein Distance,才是做 WGAN</p>
<p>為什麼加上这个限制,就可以解决刚才的问题？</p>
<p>因為这个限制是要求 <strong>Discriminator,不可以太变化剧烈</strong>,它必须要够听话,那今天如果你,要求你的 Discriminator 够平滑的时候,假设 Real Data 跟 Generated Data,它们距离比较近,那你就没有办法让 Real 的 Data 值非常大,然后 Generated 的值非常小,因為如果你让 Real 的值非常大,Generated 的值非常小,它们中间的差距很大,那这一个 Discriminator 变化就很剧烈,它就不平滑了,它就不是 1-Lipschitz</p>
<p>那為了要是 1-Lipschitz,这边的值没办法很大,这边的值没办法很小,让 Discrimination 必须足够,只觉得发现说,如果 Real 跟generated 的 Data 差距离很远,那它们的值就可以差很多,这边算出来的值就会比较大,你的 Wasserstein Distance 就比较大</p>
<p>如果 Real 跟 Generated 很近,就算它们没有重合,<strong>因為有了这一个限制</strong>,有了这一个写在 Max 下面的,1-Lipschitz Function 的限制,那你就发现说,它们其实<strong>不会真的都跑到无限大</strong>,它们的距离,因為有 1-Lipschitz Function 的限制,所以 Real Data 的值跟 Generated Data 的值,就<strong>没有办法差很多</strong>,那你算出来的 Wasserstein Distance,就会比较小</p>
<p>接下来的问题就是,<strong>怎麼做到这个限制</strong></p>
<p>怎麼确保 Discriminator,一定符合 1-Lipschitz Function 的限制,最早刚提出 WGAN 的时候,其实没有什麼好想法,只知道写出了这个式子,那要怎麼真的解这个式子,有点困难,所以最早的一篇 WGAN 的 Paper,最早使用 Wasserstein 的那一篇 Paper,它说了它做了一个比较 Rough,比较粗糙的处理的方法</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517215328682-3d5187db776cdeb9c1218ef377a5cb78.png" width="800" height="226" class="img_ev3q"></p>
<p>它是说我就 Train Network,那 Train Network 的时候,如果我 Training 的那个<strong>参数</strong>,我就要求它放得<strong>在 C 跟 -C</strong> 之间,如果超过 C,用 Gradient Descent Update 以后<strong>超过 C,就设為 C</strong>,Gradient Descent Update 以后<strong>小於 -C,就直接设為 -C</strong></p>
<p>其实这个方法,<strong>并不一定真的能够让 Discriminator,变成 1-Lipschitz Function</strong>,那你可以想像说这个方法,也许真的可以让我们的 Discriminator,比较平滑,但它并没有真的去解这个,Optimization 的 Problem,它并没有真的让 Discriminator,符合这个限制</p>
<p>所以接下来就有其它的想法,有一个想法叫做 Gradient Penalty</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517215451843-3f82cfa6306058a9e9621ae6d6311098.png" width="835" height="284" class="img_ev3q"></p>
<p>Gradient Penalty 是出自,Improved WGAN 这篇 Paperhttps://arxiv.org/abs/1704.00028,那 Improve WGAN 这边paper 是说</p>
<p>假设这个是你的 Real Data 的分布,这个是你的这个 Fake Data 的分布,那我在 Real Data 这边取一个 Sample,Fake Data 这边取一个 Sample,两点连线中间再取一个 Sample,我要求这个点它的 Gradient 要接近,那你  可能觉得说这个,不知道 不知道在说些什麼这样,这件事情的关係,跟这个限制的关係,到底是什麼,那就详见 Improved WGAN 的 Paper</p>
<p>那其实我觉得你现在,也不一定要真的非常较真说,这件事情 Gradient Penalty,跟这个限制之间的关係,因為其实有更多其它的方法,真的可以去解这个问题</p>
<p>那其实后来 Improved WGAN 之后,还有什麼 Improved 的 Improved WGAN,真的有这篇 Paper,它就是把这个限制再稍微改一改</p>
<p>有另外一篇 Paper 就叫,Improved The Improved WGAN,那今天其实你有一个方法,真的把 D 限制,让它是 1-Lipschitz Function,这个叫做 Spectral Normalization</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image-20210517215543937-d6356e6e69ba03cc3f58118048039862.png" width="803" height="95" class="img_ev3q"></p>
<p>那我就把它的论文<a href="https://arxiv.org/abs/1802.05957%E6%94%BE%E5%9C%A8%E8%BF%99%E8%BE%B9%E7%BB%99%E5%A4%A7%E5%AE%B6%E5%8F%82%E8%80%83,%E9%82%A3%E5%A6%82%E6%9E%9C%E4%BD%A0%E8%A6%81" target="_blank" rel="noopener noreferrer">https://arxiv.org/abs/1802.05957放在这边给大家参考,那如果你要</a> Train 真的非常好的 GAN,你可能会需要用到 Spectral Normalizaion</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#our-objective" class="table-of-contents__link toc-highlight">Our objective</a></li><li><a href="#sampling-is-good-enough-" class="table-of-contents__link toc-highlight">Sampling is good enough ……</a></li><li><a href="#discriminator" class="table-of-contents__link toc-highlight">Discriminator</a></li><li><a href="#tips-for-gan" class="table-of-contents__link toc-highlight">Tips for GAN</a><ul><li><a href="#js-divergence-is-not-suitable" class="table-of-contents__link toc-highlight">JS divergence is not suitable</a></li><li><a href="#wasserstein-distance" class="table-of-contents__link toc-highlight">Wasserstein Distance</a></li><li><a href="#wgan" class="table-of-contents__link toc-highlight">WGAN</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>