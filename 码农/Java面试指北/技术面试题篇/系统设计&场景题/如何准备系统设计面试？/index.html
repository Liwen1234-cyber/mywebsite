<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-码农/Java面试指北/技术面试题篇/系统设计&场景题/如何准备系统设计面试？" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">如何准备系统设计面试？ | Coisini</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://doc.minddiy.top/码农/Java面试指北/技术面试题篇/系统设计&amp;场景题/如何准备系统设计面试？/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="如何准备系统设计面试？ | Coisini"><meta data-rh="true" name="description" content="注意！！！：系统设计&amp;场景题已经移动到了《后端面试高频系统设计&amp;场景题》 中，地址：https://t.zsxq.com/18rZ6D7Wk 。"><meta data-rh="true" property="og:description" content="注意！！！：系统设计&amp;场景题已经移动到了《后端面试高频系统设计&amp;场景题》 中，地址：https://t.zsxq.com/18rZ6D7Wk 。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://doc.minddiy.top/码农/Java面试指北/技术面试题篇/系统设计&amp;场景题/如何准备系统设计面试？/"><link data-rh="true" rel="alternate" href="https://doc.minddiy.top/码农/Java面试指北/技术面试题篇/系统设计&amp;场景题/如何准备系统设计面试？/" hreflang="en"><link data-rh="true" rel="alternate" href="https://doc.minddiy.top/码农/Java面试指北/技术面试题篇/系统设计&amp;场景题/如何准备系统设计面试？/" hreflang="x-default"><meta name="google-site-verification" content="1FUPX6Qo4y3ecU623ShEurhgnjhSTjK49rRMhEDlzFA">
<link rel="stylesheet" href="/katex/katex.min.css">
<script src="/js/matomo.js" async defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.79037026.css">
<script src="/assets/js/runtime~main.468f2b27.js" defer="defer"></script>
<script src="/assets/js/main.4763ab3e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Coisini</b></a></div><div class="navbar__items navbar__items--right"><a href="https://minddiy.top" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Main site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>如何准备系统设计面试？</h1></header>
<p><strong><font style="color:#DF2A3F">注意！！！</font>****：系统设计&amp;场景题已经移动到了《后端面试高频系统设计&amp;场景题》 中，地址：</strong><a href="https://t.zsxq.com/18rZ6D7Wk" target="_blank" rel="noopener noreferrer"><strong>https://t.zsxq.com/18rZ6D7Wk</strong></a>** 。**</p>
<hr>
<p><strong>系统设计在面试中一定是最让面试者头疼的事情之一。</strong> 因为系统设计相关的问题通常是开放式的，所以没有标准答案。你在和面试官思想的交流碰撞中会慢慢优化自己的系统设计方案。理论上来说，系统设计面试也是和面试官一起一步一步改进原有系统设计方案的过程。</p>
<p>系统设计题往往也非常能考察出面试者的综合能力，回答好的话，很容易就能在面试中脱颖而出。不论是对于参加社招还是校招的小伙伴，都很有必要重视起来。</p>
<p>接下来，我会带着小伙伴们从我的角度出发来谈谈：<strong>如何准备面试中的系统设计部分</strong>。</p>
<p>由于文章篇幅有限，就不列举实际例子了，可能会在后面的文章中单独提一些具体的例子。</p>
<p><em>个人能力有限。如果文章有任何需要改善和完善的地方，欢迎在评论区指出，共同进步！</em></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="系统设计面试一般怎么问">系统设计面试一般怎么问？<a href="#系统设计面试一般怎么问" class="hash-link" aria-label="Direct link to 系统设计面试一般怎么问？" title="Direct link to 系统设计面试一般怎么问？">​</a></h2>
<p>我简单总结了一下系统设计面试相关问题的问法：</p>
<ol>
<li>设计一个某某系统比如秒杀系统、微博系统、抢红包系统、短网址系统。</li>
<li>设计某某系统中的一个功能比如哔哩哔哩的点赞功能。</li>
<li>设计一个框架比如 RPC 框架、消息队列、缓存框架、分布式文件系统等等。</li>
<li>某某系统的技术选型比如缓存用<code>Redis</code> 还是 <code>Memcached</code>、网关用 <code>Spring Cloud Gateway</code> 还是<code>Netflix Zuul2</code> 。</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="系统设计怎么做">系统设计怎么做？<a href="#系统设计怎么做" class="hash-link" aria-label="Direct link to 系统设计怎么做？" title="Direct link to 系统设计怎么做？">​</a></h2>
<p>我们将步骤总结成了以下 4 步。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step1问清楚系统具体要求">Step1:问清楚系统具体要求<a href="#step1问清楚系统具体要求" class="hash-link" aria-label="Direct link to Step1:问清楚系统具体要求" title="Direct link to Step1:问清楚系统具体要求">​</a></h3>
<p><strong>当面试官给出了系统设计题目之后，一定不要立即开始设计解决方案。</strong> 你需要先理解系统设计的需求：功能性需求和非功能性需求。</p>
<p>为了避免自己曲解题目所想要解决的问题，你可以先简要地给面试官说说自己的理解，</p>
<p><strong>为啥要询问清楚系统的功能性需求也就是说系统包含哪些功能呢？</strong></p>
<p>毕竟，如果面试官冷不丁地直接让你设计一个微博系统，你不可能把微博系统涵盖的功能比如推荐信息流、会员机制等一个一个都列举出来，然后再去设计吧！你需要筛选出系统所提供的核心功能（<strong>缩小边界范围</strong>）！</p>
<p><strong>为啥要询问清楚系统的非功能性需求或者说约束条件比如系统需要达到多少 QPS 呢？</strong></p>
<p>让你设计一个 1w 人用的微博系统和 100w 人用的微博系统能一样么？不同的约束系统对应的系统设计方案肯定是不一样的。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step2对系统进行抽象设计">Step2:对系统进行抽象设计<a href="#step2对系统进行抽象设计" class="hash-link" aria-label="Direct link to Step2:对系统进行抽象设计" title="Direct link to Step2:对系统进行抽象设计">​</a></h3>
<p>我们需要在一个 High Level 的层面对系统进行设计。</p>
<p>你可以画出系统的抽象架构图，这个抽象架构图中包含了系统的一些组件以及这些组件之间的连接。</p>
<p><img decoding="async" loading="lazy" alt="1*lcomA7YV5En0NricVxy0rQ.png" src="/assets/images/1633777494126-b1a58f5a-1be3-4365-ad9a-e2f61fad53f0-878218-db2b39821b8bd5d14cc06c5bdba28451.png" width="919" height="336" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step3考虑系统目前需要优化的点">Step3:考虑系统目前需要优化的点<a href="#step3考虑系统目前需要优化的点" class="hash-link" aria-label="Direct link to Step3:考虑系统目前需要优化的点" title="Direct link to Step3:考虑系统目前需要优化的点">​</a></h3>
<p>对系统进行抽象设计之后，你需要思考当前抽象的系统设计有哪些需要优化的点，比如说：</p>
<ol>
<li>当前系统部署在一台机器够吗？是否需要部署在多台机器然后进行负载均衡呢？</li>
<li>数据库处理速度能否支撑业务需求？是否需要给指定字段加索引？是否需要读写分离？是否需要缓存？</li>
<li>数据量是否大到需要分库分表？</li>
<li>是否存在安全隐患？</li>
<li>系统是否需要分布式文件系统？</li>
<li>……</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step4优化你的系统抽象设计">Step4:优化你的系统抽象设计<a href="#step4优化你的系统抽象设计" class="hash-link" aria-label="Direct link to Step4:优化你的系统抽象设计" title="Direct link to Step4:优化你的系统抽象设计">​</a></h3>
<p>根据 Step 3 中的“系统需要优化的点” 对系统的抽象设计做进一步完善。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="系统设计该如何准备">系统设计该如何准备？<a href="#系统设计该如何准备" class="hash-link" aria-label="Direct link to 系统设计该如何准备？" title="Direct link to 系统设计该如何准备？">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="知识储备">知识储备<a href="#知识储备" class="hash-link" aria-label="Direct link to 知识储备" title="Direct link to 知识储备">​</a></h3>
<p>系统设计面试非常考察你的知识 储备，系统设计能力的提高需要大量的理论知识储备。比如说你要知道大型网站架构设计必备的三板斧：</p>
<ol>
<li><strong>高性能架构设计</strong>： 熟悉系统常见性能优化手段比如引入 <strong>读写分离</strong>、<strong>缓存</strong>、负载均衡、<strong>异步</strong> 等等。</li>
<li><strong>高可用架构设计</strong> ：CAP 理论和 BASE 理论、通过集群来提高系统整体稳定性、超时和重试机制、应对接口级故障：<strong>降级</strong>、<strong>熔断</strong>、<strong>限流</strong>、排队。</li>
<li><strong>高扩展架构设计</strong> ：说白了就是懂得如何拆分系统。你按照不同的思路来拆分软件系统，就会得到不同的架构。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="实战">实战<a href="#实战" class="hash-link" aria-label="Direct link to 实战" title="Direct link to 实战">​</a></h3>
<p>虽然懂得了理论，但是自己没有进行实践的话，很多东西是无法体会到的！</p>
<p>因此，你还要 <strong>不断通过实战项目锻炼自己的系统设计能力。</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="保持好奇心">保持好奇心<a href="#保持好奇心" class="hash-link" aria-label="Direct link to 保持好奇心" title="Direct link to 保持好奇心">​</a></h3>
<p>多思考自己经常浏览的网站是怎么做的。比如：</p>
<ol>
<li>你刷微博的时候可以思考一下微博是如何记录点赞数量的？</li>
<li>你看哔哩哔哩的时候可以思考一下消息提醒系统是如何做的？</li>
<li>你使用短链系统的时候可以考虑一下短链系统是如何做的？</li>
<li>……</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="技术选型">技术选型<a href="#技术选型" class="hash-link" aria-label="Direct link to 技术选型" title="Direct link to 技术选型">​</a></h3>
<p>实现同样的功能，一般会有多种技术选择方案， 比如缓存用<code>Redis</code> 还是 <code>Memcached</code>、网关用 <code>Spring Cloud Gateway</code> 还是<code>Netflix Zuul2</code> 。 很多时候，面试官在系统设计面过程中会具体到技术的选型，因而，你需要区分不同技术的优缺点。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="系统设计面试必知">系统设计面试必知<a href="#系统设计面试必知" class="hash-link" aria-label="Direct link to 系统设计面试必知" title="Direct link to 系统设计面试必知">​</a></h2>
<blockquote>
<p>系统设计的时候必然离不开描述性能相关的指标比如 QPS。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="性能相关的指标">性能相关的指标<a href="#性能相关的指标" class="hash-link" aria-label="Direct link to 性能相关的指标" title="Direct link to 性能相关的指标">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="响应时间">响应时间<a href="#响应时间" class="hash-link" aria-label="Direct link to 响应时间" title="Direct link to 响应时间">​</a></h4>
<p><strong>响应时间 RT(Response-time)就是用户发出请求到用户收到系统处理结果所需要的时间。</strong></p>
<p>RT 是一个非常重要且直观的指标，RT 数值大小直接反应了系统处理用户请求速度的快慢。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="并发数">并发数<a href="#并发数" class="hash-link" aria-label="Direct link to 并发数" title="Direct link to 并发数">​</a></h4>
<p><strong>并发数可以简单理解为系统能够同时供多少人访问使用也就是说系统同时能处理的请求数量。</strong></p>
<p>并发数反应了系统的负载能力。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="qps-和-tps">QPS 和 TPS<a href="#qps-和-tps" class="hash-link" aria-label="Direct link to QPS 和 TPS" title="Direct link to QPS 和 TPS">​</a></h4>
<ul>
<li><strong>QPS（Query Per Second）</strong> ：服务器每秒可以执行的查询次数；</li>
<li><strong>TPS（Transaction Per Second）</strong> ：服务器每秒处理的事务数（这里的一个事务可以理解为客户发出请求到收到服务器的过程）；</li>
</ul>
<p>书中是这样描述 QPS 和 TPS 的区别的。</p>
<blockquote>
<p>QPS vs TPS：QPS 基本类似于 TPS，但是不同的是，对于一个页面的一次访问，形成一个 TPS；但一次页面请求，可能产生多次对服务器的请求，服务器对这些请求，就可计入“QPS”之中。如，访问一个页面会请求服务器 2 次，一次访问，产生一个“T”，产生 2 个“Q”。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="吞吐量">吞吐量<a href="#吞吐量" class="hash-link" aria-label="Direct link to 吞吐量" title="Direct link to 吞吐量">​</a></h4>
<p><strong>吞吐量指的是系统单位时间内系统处理的请求数量。</strong></p>
<p>一个系统的吞吐量与请求对系统的资源消耗等紧密关联。请求对系统资源消耗越多，系统吞吐能力越低，反之则越高。</p>
<p>TPS、QPS 都是吞吐量的常用量化指标。</p>
<ul>
<li><strong>QPS（TPS）</strong> = 并发数/平均响应时间(RT)</li>
<li><strong>并发数</strong> = QPS * 平均响应时间(RT)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="系统活跃度">系统活跃度<a href="#系统活跃度" class="hash-link" aria-label="Direct link to 系统活跃度" title="Direct link to 系统活跃度">​</a></h3>
<p>介绍几个描述系统活跃度的常见名词，建议牢牢记住。你不光会在回答系统设计面试题的时候碰到，日常工作中你也会经常碰到这些名词。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="pvpage-view">PV(Page View)<a href="#pvpage-view" class="hash-link" aria-label="Direct link to PV(Page View)" title="Direct link to PV(Page View)">​</a></h4>
<p>访问量, 即页面浏览量或点击量，衡量网站用户访问的网页数量；在一定统计周期内用户每打开或刷新一个页面就记录 1 次，多次打开或刷新同一页面则浏览量累计。UV 从网页打开的数量/刷新的次数的角度来统计的。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="uvunique-visitor">UV(Unique Visitor)<a href="#uvunique-visitor" class="hash-link" aria-label="Direct link to UV(Unique Visitor)" title="Direct link to UV(Unique Visitor)">​</a></h4>
<p>独立访客，统计 1 天内访问某站点的用户数。1 天内相同访客多次访问网站，只计算为 1 个独立访客。UV 是从用户个体的角度来统计的。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="daudaily-active-user">DAU(Daily Active User)<a href="#daudaily-active-user" class="hash-link" aria-label="Direct link to DAU(Daily Active User)" title="Direct link to DAU(Daily Active User)">​</a></h4>
<p>日活跃用户数量。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="maumonthly-active-users">MAU(monthly active users)<a href="#maumonthly-active-users" class="hash-link" aria-label="Direct link to MAU(monthly active users)" title="Direct link to MAU(monthly active users)">​</a></h4>
<p>月活跃用户人数。</p>
<p>举例：某网站 DAU 为 1200w， 用户日均使用时长 1 小时，RT 为 0.5s，求并发量和 QPS。</p>
<p>平均并发量 = DAU（1200w）* 日均使用时长（1 小时，3600 秒） /一天的秒数（86400）=1200w/24 = 50w</p>
<p>真实并发量（考虑到某些时间段使用人数比较少） = DAU（1200w）* 日均使用时长（1 小时，3600 秒） /一天的秒数-访问量比较小的时间段假设为 8 小时（57600）=1200w/16 = 75w</p>
<p>峰值并发量 = 平均并发量 * 6 = 300w</p>
<p>QPS = 真实并发量/RT = 75W/0.5=150w/s</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用性能测试工具">常用性能测试工具<a href="#常用性能测试工具" class="hash-link" aria-label="Direct link to 常用性能测试工具" title="Direct link to 常用性能测试工具">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="后端常用">后端常用<a href="#后端常用" class="hash-link" aria-label="Direct link to 后端常用" title="Direct link to 后端常用">​</a></h4>
<p>既然系统设计涉及到系统性能方面的问题，那在面试的时候，面试官就很可能会问：<strong>你是如何进行性能测试的？</strong></p>
<p>推荐 4 个比较常用的性能测试工具：</p>
<ol>
<li><strong>Jmeter</strong> ：Apache JMeter 是 JAVA 开发的性能测试工具。</li>
<li><strong>LoadRunner</strong>：一款商业的性能测试工具。</li>
<li><strong>Galtling</strong> ：一款基于 Scala 开发的高性能服务器性能测试工具。</li>
<li><strong>ab</strong> ：全称为 Apache Bench 。Apache 旗下的一款测试工具，非常实用。</li>
</ol>
<p>没记错的话，除了 <strong>LoadRunner</strong> 其他几款性能测试工具都是开源免费的。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="前端常用">前端常用<a href="#前端常用" class="hash-link" aria-label="Direct link to 前端常用" title="Direct link to 前端常用">​</a></h4>
<ol>
<li><strong>Fiddler</strong>：抓包工具，它可以修改请求的数据，甚至可以修改服务器返回的数据，功能非常强大，是 Web 调试的利器。</li>
<li><strong>HttpWatch</strong>: 可用于录制 HTTP 请求信息的工具。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常见软件的-qps">常见软件的 QPS<a href="#常见软件的-qps" class="hash-link" aria-label="Direct link to 常见软件的 QPS" title="Direct link to 常见软件的 QPS">​</a></h3>
<p>这里给出的 QPS 仅供参考，实际项目需要进行压测来计算。</p>
<ul>
<li><strong>Nginx</strong> ：一般情况下，系统的性能瓶颈基本不会是 Nginx。单机 Nginx 可以达到 30w +。</li>
<li><strong>Redis</strong>:  Redis 官方的性能测试报告：<a href="https://redis.io/topics/benchmarks" target="_blank" rel="noopener noreferrer">https://redis.io/topics/benchmarks</a>  。从报告中，我们可以得出 Redis 的单机 QPS 可以达到 8w+（CPU 性能有关系，也和执行的命令也有关系比如执行 SET 命令甚至可以达到 10w+QPS）。</li>
<li><strong>MySQL</strong>:  MySQL 单机的 QPS 为 大概在 4k 左右。</li>
<li><strong>Tomcat</strong> ：单机 Tomcat 的 QPS 在 2w 左右。这个和你的 Tomcat 配置有很大关系，举个例子 Tomcat 支持的连接器有 <strong>NIO</strong>、<strong>NIO.2</strong> 和 <strong>APR</strong>。 <code>AprEndpoint</code> 是通过 JNI 调用 APR 本地库而实现非阻塞 I/O 的，性能更好，Tomcat 配置 APR 为 连接器的话，QPS 可以达到 3w 左右。更多相关内容可以自行搜索 Tomcat 性能优化。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="系统设计原则">系统设计原则<a href="#系统设计原则" class="hash-link" aria-label="Direct link to 系统设计原则" title="Direct link to 系统设计原则">​</a></h3>
<p><strong>合适优于先进 &gt; 演化优于一步到位 &gt; 简单优于复杂</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常见的性能优化策略">常见的性能优化策略<a href="#常见的性能优化策略" class="hash-link" aria-label="Direct link to 常见的性能优化策略" title="Direct link to 常见的性能优化策略">​</a></h3>
<p>性能优化之前我们需要对请求经历的各个环节进行分析，排查出可能出现性能瓶颈的地方，定位问题。</p>
<p>下面是一些性能优化时，我经常拿来自问的一些问题：</p>
<ol>
<li>当前系统的 SQL 语句是否存在问题？</li>
<li>当前系统是否需要升级硬件？</li>
<li>系统是否需要缓存？</li>
<li>系统架构本身是不是就有问题？</li>
<li>系统是否存在死锁的地方？</li>
<li>数据库索引使用是否合理？</li>
<li>系统是否存在内存泄漏？（Java 的自动回收内存虽然很方便，但是，有时候代码写的不  好真的会造成内存泄漏）</li>
<li>系统的耗时操作进行了异步处理？</li>
<li>……</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="性能优化必知法则">性能优化必知法则<a href="#性能优化必知法则" class="hash-link" aria-label="Direct link to 性能优化必知法则" title="Direct link to 性能优化必知法则">​</a></h3>
<p><strong>SQL 优化，JVM、DB，Tomcat 参数调优 &gt; 硬件性能优化（内存升级、CPU 核心数增加、机械硬盘—&gt;固态硬盘等等）&gt; 业务逻辑优化/缓存 &gt; 读写分离、集群等 &gt; 分库分表</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="系统设计面试的注意事项">系统设计面试的注意事项<a href="#系统设计面试的注意事项" class="hash-link" aria-label="Direct link to 系统设计面试的注意事项" title="Direct link to 系统设计面试的注意事项">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="想好再说">想好再说<a href="#想好再说" class="hash-link" aria-label="Direct link to 想好再说" title="Direct link to 想好再说">​</a></h3>
<p>没必要面试官刚问了问题之后，你没准备好就开始回答。这样不会给面试官带来好印象的！系统设计本就需要面试者结合自己的以往的经验进行思考，这个过程是需要花费一些时间的。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="没有绝对的答案">没有绝对的答案<a href="#没有绝对的答案" class="hash-link" aria-label="Direct link to 没有绝对的答案" title="Direct link to 没有绝对的答案">​</a></h3>
<p>系统设计没有标准答案。重要的是你和面试官一起交流的过程。</p>
<p>一般情况下，你会在和面试官的交流过程中，一步一步完成系统设计。这个过程中，你会在面试官的引导下不断完善自己的系统设计方案。</p>
<p>因此，你不必要在系统设计面试之前找很多题目，然后只是单纯记住他们的答案。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="勿要绝对">勿要绝对<a href="#勿要绝对" class="hash-link" aria-label="Direct link to 勿要绝对" title="Direct link to 勿要绝对">​</a></h3>
<p>系统设计没有最好的设计方案，只有最合适的设计方案。这就类比架构设计了：<strong>软件开发没有银弹，架构设计的目的就是选择合适的解决方案。</strong> <strong>何为银弹？</strong> 狼人传说中，只有银弹(银质子弹)才能制服这些猛兽。对应到软件开发活动中，银弹特指开发者们寻求的一种克服软件开发这个难缠的猛兽的“万能钥匙🔑”。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="权衡利弊">权衡利弊<a href="#权衡利弊" class="hash-link" aria-label="Direct link to 权衡利弊" title="Direct link to 权衡利弊">​</a></h3>
<p>知道使用某个技术可能会为系统带来的利弊。比如使用消息队列的好处是解耦和削峰，但是，同样也让系统可用性降低、复杂性提高，同时还会存在一致性问题（消息丢失或者消息未被消费咋办）。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="慢慢优化">慢慢优化<a href="#慢慢优化" class="hash-link" aria-label="Direct link to 慢慢优化" title="Direct link to 慢慢优化">​</a></h3>
<p>刚开始设计的系统不需要太完美，可以慢慢优化。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="不追新技术">不追新技术<a href="#不追新技术" class="hash-link" aria-label="Direct link to 不追新技术" title="Direct link to 不追新技术">​</a></h3>
<p>使用稳定的、适合业务的技术，不必要过于追求新技术。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="追简避杂">追简避杂<a href="#追简避杂" class="hash-link" aria-label="Direct link to 追简避杂" title="Direct link to 追简避杂">​</a></h3>
<p>系统设计应当追求简单避免复杂。KISS（ Keep It Simple, Stupid）原则——保持简单，易于理解。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a href="#总结" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结">​</a></h2>
<p>这篇文章简单带着小伙伴们分析了一下系统设计面试。如果你还想要深入学习的话，可以参考： <a href="https://github.com/donnemartin/system-design-primer" target="_blank" rel="noopener noreferrer">https://github.com/donnemartin/system-design-primer</a>  。</p>
<p><img decoding="async" loading="lazy" alt="image-20201104084854121.png" src="/assets/images/1712978932047-3d537913-4025-47a7-962d-cf8545da5373-954058-0c458d15fd482e7efc41b29f331922a2.png" width="3536" height="1268" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考">参考<a href="#参考" class="hash-link" aria-label="Direct link to 参考" title="Direct link to 参考">​</a></h2>
<ol>
<li><a href="https://github.com/donnemartin/system-design-primer" target="_blank" rel="noopener noreferrer">https://github.com/donnemartin/system-design-primer</a></li>
<li><a href="https://www.acecodeinterview.com/intro/" target="_blank" rel="noopener noreferrer">https://www.acecodeinterview.com/intro/</a></li>
<li><a href="https://gist.github.com/vasanthk/485d1c25737e8e72759f" target="_blank" rel="noopener noreferrer">https://gist.github.com/vasanthk/485d1c25737e8e72759f</a></li>
</ol>
<blockquote>
<p>更新: 2024-06-06 11:02:09<br>
原文: <a href="https://www.yuque.com/snailclimb/mf2z3k/hizgws" target="_blank" rel="noopener noreferrer">https://www.yuque.com/snailclimb/mf2z3k/hizgws</a></p>
</blockquote></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#系统设计面试一般怎么问" class="table-of-contents__link toc-highlight">系统设计面试一般怎么问？</a></li><li><a href="#系统设计怎么做" class="table-of-contents__link toc-highlight">系统设计怎么做？</a><ul><li><a href="#step1问清楚系统具体要求" class="table-of-contents__link toc-highlight">Step1:问清楚系统具体要求</a></li><li><a href="#step2对系统进行抽象设计" class="table-of-contents__link toc-highlight">Step2:对系统进行抽象设计</a></li><li><a href="#step3考虑系统目前需要优化的点" class="table-of-contents__link toc-highlight">Step3:考虑系统目前需要优化的点</a></li><li><a href="#step4优化你的系统抽象设计" class="table-of-contents__link toc-highlight">Step4:优化你的系统抽象设计</a></li></ul></li><li><a href="#系统设计该如何准备" class="table-of-contents__link toc-highlight">系统设计该如何准备？</a><ul><li><a href="#知识储备" class="table-of-contents__link toc-highlight">知识储备</a></li><li><a href="#实战" class="table-of-contents__link toc-highlight">实战</a></li><li><a href="#保持好奇心" class="table-of-contents__link toc-highlight">保持好奇心</a></li><li><a href="#技术选型" class="table-of-contents__link toc-highlight">技术选型</a></li></ul></li><li><a href="#系统设计面试必知" class="table-of-contents__link toc-highlight">系统设计面试必知</a><ul><li><a href="#性能相关的指标" class="table-of-contents__link toc-highlight">性能相关的指标</a></li><li><a href="#系统活跃度" class="table-of-contents__link toc-highlight">系统活跃度</a></li><li><a href="#常用性能测试工具" class="table-of-contents__link toc-highlight">常用性能测试工具</a></li><li><a href="#常见软件的-qps" class="table-of-contents__link toc-highlight">常见软件的 QPS</a></li><li><a href="#系统设计原则" class="table-of-contents__link toc-highlight">系统设计原则</a></li><li><a href="#常见的性能优化策略" class="table-of-contents__link toc-highlight">常见的性能优化策略</a></li><li><a href="#性能优化必知法则" class="table-of-contents__link toc-highlight">性能优化必知法则</a></li></ul></li><li><a href="#系统设计面试的注意事项" class="table-of-contents__link toc-highlight">系统设计面试的注意事项</a><ul><li><a href="#想好再说" class="table-of-contents__link toc-highlight">想好再说</a></li><li><a href="#没有绝对的答案" class="table-of-contents__link toc-highlight">没有绝对的答案</a></li><li><a href="#勿要绝对" class="table-of-contents__link toc-highlight">勿要绝对</a></li><li><a href="#权衡利弊" class="table-of-contents__link toc-highlight">权衡利弊</a></li><li><a href="#慢慢优化" class="table-of-contents__link toc-highlight">慢慢优化</a></li><li><a href="#不追新技术" class="table-of-contents__link toc-highlight">不追新技术</a></li><li><a href="#追简避杂" class="table-of-contents__link toc-highlight">追简避杂</a></li></ul></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li><li><a href="#参考" class="table-of-contents__link toc-highlight">参考</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>